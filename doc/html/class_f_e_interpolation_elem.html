<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fesystem: FEInterpolationElem Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">fesystem
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">FEInterpolationElem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="FEInterpolationElem" --><!-- doxytag: inherits="FESystemElem::FESystemElemBase" -->
<p><code>#include &lt;<a class="el" href="_f_e_interpolation_elem_8h_source.html">FEInterpolationElem.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FEInterpolationElem:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem__inherit__graph.gif" border="0" usemap="#_f_e_interpolation_elem_inherit__map" alt="Inheritance graph"/></div>
<map name="_f_e_interpolation_elem_inherit__map" id="_f_e_interpolation_elem_inherit__map">
<area shape="rect" id="node2" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html" title="FESystemElem::FESystemElemBase" alt="" coords="5,6,248,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for FEInterpolationElem:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem__coll__graph.gif" border="0" usemap="#_f_e_interpolation_elem_coll__map" alt="Collaboration graph"/></div>
<map name="_f_e_interpolation_elem_coll__map" id="_f_e_interpolation_elem_coll__map">
<area shape="rect" id="node2" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html" title="FESystemElem::FESystemElemBase" alt="" coords="1845,293,2088,321"/><area shape="rect" id="node4" href="class_elem_data_card.html" title="ElemDataCard" alt="" coords="1508,62,1617,90"/><area shape="rect" id="node6" href="class_property_1_1_property_card_3_01double_01_4.html" title="this is a specialization of the class for property values that are stored as double" alt="" coords="1083,7,1304,35"/><area shape="rect" id="node8" href="class_property_1_1_property_card_base.html" title="Property::PropertyCardBase" alt="" coords="564,7,753,35"/><area shape="rect" id="node10" href="class_function_database.html" title="FunctionDatabase" alt="" coords="59,7,189,35"/><area shape="rect" id="node12" href="class_property_1_1_property_database.html" title="Property::PropertyDatabase" alt="" coords="872,67,1059,95"/><area shape="rect" id="node14" href="class_f_e_system_1_1_f_e_system_controller.html" title="FESystem::FESystemController" alt="" coords="19,329,229,357"/><area shape="rect" id="node16" href="class_discipline_1_1_analysis_discipline_base.html" title="Discipline::AnalysisDisciplineBase" alt="" coords="1451,293,1674,321"/><area shape="rect" id="node20" href="class_solution_1_1_solution_base.html" title="this class provides the base functionality for all solutions" alt="" coords="581,399,736,427"/><area shape="rect" id="node33" href="class_driver_1_1_analysis_driver.html" title="Driver::AnalysisDriver" alt="" coords="1119,535,1268,563"/><area shape="rect" id="node18" href="class_discipline_1_1_discipline_info.html" title="Discipline::DisciplineInfo" alt="" coords="1111,345,1276,373"/><area shape="rect" id="node23" href="class_mesh_d_s_1_1_f_e_dof_map.html" title="MeshDS::FEDofMap" alt="" coords="1122,462,1265,490"/><area shape="rect" id="node26" href="class_mesh_d_s_1_1_f_e_mesh_data.html" title="MeshDS::FEMeshData" alt="" coords="1114,241,1272,269"/><area shape="rect" id="node28" href="class_mesh_d_s_1_1_f_e_mesh.html" title="MeshDS::FEMesh" alt="" coords="594,143,723,171"/><area shape="rect" id="node31" href="class_f_e_system_utility_1_1_loaded_solution.html" title="this class is a data structure that stores loaded solution from the database" alt="" coords="1086,189,1301,217"/><area shape="rect" id="node36" href="class_solver_1_1_f_e_system_solver_base.html" title="Solver::FESystemSolverBase" alt="" coords="1465,559,1661,587"/><area shape="rect" id="node39" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; NumericVector\&lt; double \&gt; \&gt;" alt="" coords="469,594,848,622"/><area shape="rect" id="node41" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; T \&gt;" alt="" coords="6,594,242,622"/><area shape="rect" id="node44" href="class_design_data_1_1_design_parameter.html" title="this class forms the base class for all design parameters." alt="" coords="558,542,760,570"/><area shape="rect" id="node46" href="class_element_data_storage.html" title="ElementDataStorage" alt="" coords="1490,345,1635,373"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_f_e_interpolation_elem-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#ac98b543a379f2223cbb816fdef88cd70">FEInterpolationElem</a> (const unsigned int dim, const unsigned int elem_enum_ID, <a class="el" href="class_discipline_1_1_analysis_discipline_base.html">Discipline::AnalysisDisciplineBase</a> &amp;discipline)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a4e486ec9525aa824d72fe8bd1cd6948a">~FEInterpolationElem</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#ae9bb5a14a617f738da07c91bc5f8ce99">getElementAssembledQty</a> (const unsigned int quantity, DenseMatrix&lt; double &gt; *return_qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#ac528c271f7e2f9ea0918679b54ac941b">getElementAssembledQty</a> (const unsigned int quantity, DenseVector&lt; double &gt; *return_qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a4d583d055d2ada29eb3fab83f2c38a9b">getElementAssembledQtySensitivity</a> (const unsigned int quantity, DenseMatrix&lt; double &gt; *return_qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#aae3b7806514b603e28a1470cf458c47c">getElementAssembledQtySensitivity</a> (const unsigned int quantity, DenseVector&lt; double &gt; *return_qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_elem_post_process_qty.html">ElemPostProcessQty</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a47173b0062de0ac518fc20f6522670b3">getElementPostProcessQty</a> (std::vector&lt; unsigned int &gt; load_cases, std::vector&lt; <a class="el" href="class_design_data_1_1_design_parameter.html">DesignData::DesignParameter</a> * &gt; DV_vector)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a989b2e785dca7be6a7b39275a72c2a3e">getFETypes</a> (std::vector&lt; FEType &gt; &amp;fetypes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a2d746aece2d41f4460947d2817cae449">getQuadratureRules</a> (std::map&lt; FEFamily, std::pair&lt; QuadratureType, Order &gt; &gt; &amp;quadratures)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">inserts the quadrature rules to be used for the different elements  <a href="#a2d746aece2d41f4460947d2817cae449"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">calculateAssembledQty</a> (DenseMatrix&lt; double &gt; *, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a5aff1db8e3e536a3dd2f812ff1b45d12">calculateAssembledQty</a> (DenseVector&lt; double &gt; *qty, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3">calculate_K</a> (DenseMatrix&lt; double &gt; *matrix, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the interpolation stiffness matrix  <a href="#a7b7c6602932fd1658c987142d7b1b2e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_interpolation_elem.html#a0f825c7076c15263822eee89159d1104">calculate_F</a> (DenseVector&lt; double &gt; *vector, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the interpolation force vector  <a href="#a0f825c7076c15263822eee89159d1104"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>a base class defining the heat conduction elements </p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8h_source.html#l00062">62</a> of file <a class="el" href="_f_e_interpolation_elem_8h_source.html">FEInterpolationElem.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac98b543a379f2223cbb816fdef88cd70"></a><!-- doxytag: member="FEInterpolationElem::FEInterpolationElem" ref="ac98b543a379f2223cbb816fdef88cd70" args="(const unsigned int dim, const unsigned int elem_enum_ID, Discipline::AnalysisDisciplineBase &amp;discipline)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_interpolation_elem.html#ac98b543a379f2223cbb816fdef88cd70">FEInterpolationElem::FEInterpolationElem</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>elem_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_discipline_1_1_analysis_discipline_base.html">Discipline::AnalysisDisciplineBase</a> &amp;&#160;</td>
          <td class="paramname"><em>discipline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00022">22</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                      :
<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aef9c74acc51e534acc4bc932b94aad4d">FESystemElem::FESystemElemBase</a>(dim, elem_enum_ID, discipline)
{
  
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4e486ec9525aa824d72fe8bd1cd6948a"></a><!-- doxytag: member="FEInterpolationElem::~FEInterpolationElem" ref="a4e486ec9525aa824d72fe8bd1cd6948a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_interpolation_elem.html#a4e486ec9525aa824d72fe8bd1cd6948a">FEInterpolationElem::~FEInterpolationElem</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00032">32</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
        
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0f825c7076c15263822eee89159d1104"></a><!-- doxytag: member="FEInterpolationElem::calculate_F" ref="a0f825c7076c15263822eee89159d1104" args="(DenseVector&lt; double &gt; *vector, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a0f825c7076c15263822eee89159d1104">FEInterpolationElem::calculate_F</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates the interpolation force vector </p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00281">281</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_system_elem_8h_source.html#l00739">FESystemElem::FESystemElemBase::analysis_discipline</a>, <a class="el" href="_analysis_driver_8_c_source.html#l00061">Driver::AnalysisDriver::clear()</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00742">FESystemElem::FESystemElemBase::dimension</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00827">FESystemElem::FESystemElemBase::fe_base_map_for_DV</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00794">FESystemElem::FESystemElemBase::geometric_elems_for_DV_map</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00505">Discipline::AnalysisDisciplineBase::getAnalysisDriver()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00559">Discipline::AnalysisDisciplineBase::getAnalysisMeshID()</a>, <a class="el" href="_f_e_system_elem_8_c_source.html#l00239">FESystemElem::FESystemElemBase::initialize_element()</a>, and <a class="el" href="_f_e_system_elem_8h_source.html#l00809">FESystemElem::FESystemElemBase::local_elem_is_initialized_for_DV_map</a>.</p>

<p>Referenced by <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00166">calculateAssembledQty()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// calculation of the element load will involve the following procedure</span>
  <span class="comment">// -- create a vector of global coordinates of the Gauss points </span>
  <span class="comment">//    of this element.</span>
  <span class="comment">// -- find out the element on the &#39;from_mesh&#39; inside which this element</span>
  <span class="comment">// belongs.</span>
  <span class="comment">// -- find out the value of the dof to be interpolated at the point</span>
  <span class="comment">// -- once this has been done for all gauss points, caluculate the force</span>
  <span class="comment">//    vector</span>
  
  <span class="comment">// initialize the element if it is not already initialized</span>
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a985dd0dcf9494a99e82b8157b7755419" title="boolean for keeping track of whether this element is initialized or not">local_elem_is_initialized_for_DV_map</a>[design_point_enum_ID] == <span class="keyword">false</span>)
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a931293597ee8b5ae45fbc0e26efb1b2b">initialize_element</a>(design_point_enum_ID);
  
  <span class="comment">// get the phi for this elem, and the nodes for the base elem</span>
  <span class="comment">// multiply the phi and node location and get the localtion of the</span>
  <span class="comment">// element</span>
        
  <span class="keyword">const</span> std::vector&lt;std::vector&lt;Real&gt; &gt;&amp; phi = 
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a4641918ee8a42e1acfa9129447e40d45" title="finite element object for the element domain. This is stored for each design point.">fe_base_map_for_DV</a>[design_point_enum_ID][LAGRANGE]-&gt;get_phi();
  <span class="keyword">const</span> std::vector&lt;Real&gt;&amp; JxW =
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a4641918ee8a42e1acfa9129447e40d45" title="finite element object for the element domain. This is stored for each design point.">fe_base_map_for_DV</a>[design_point_enum_ID][LAGRANGE]-&gt;get_JxW();
  
  
  std::vector&lt;Point&gt; gauss_coords(phi[0].size());
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_quad_points = phi[0].size();
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes = phi.size(); 
  
  <span class="keywordtype">double</span> x=0.0, y=0.0, z=0.0;
  std::vector&lt;Elem*&gt; source_elems;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mesh_ID = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a12d0a7a9c33167a9af367e0423372f3f" title="the discipline that owns this element">analysis_discipline</a>.<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a282d29b609ca66ebec0fcf95cc09780f">getAnalysisMeshID</a>();
  
  <a class="code" href="class_f_e_interpolation.html">FEInterpolation</a>* fe_interpolation = 
    <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_f_e_interpolation.html">FEInterpolation</a>*<span class="keyword">&gt;</span> (&amp;(this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a12d0a7a9c33167a9af367e0423372f3f" title="the discipline that owns this element">analysis_discipline</a>.<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a2f9cc3c81e1363d685cb65aeb6e91d80">getAnalysisDriver</a>()));
  
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;n_quad_points; j++) <span class="comment">// iterate over each gauss point</span>
    {
    x = 0.0, y=0.0, z=0.0;
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; n_nodes; i++)  <span class="comment">// iterate over each node shape function</span>
      {
      gauss_coords[j].add_scaled(this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a28c863a4fa859e3b5725bb0688412806">geometric_elems_for_DV_map</a>[design_point_enum_ID]-&gt;point(i), phi[i][j]);
      }
    
    <span class="comment">// for each point, ask the interpolation discipline to find the element </span>
    <span class="comment">// which contains the point</span>
    source_elems.push_back(fe_interpolation-&gt;getElemContainingPoint
                           (gauss_coords[j],
                            this-&gt;elem_ID,
                            mesh_ID));
    }
  
  
  <span class="comment">// now, for each quadrature point, get the local coordinates in the source</span>
  <span class="comment">// elem, calculate the value of the variable at the point and add it to the </span>
  <span class="comment">// force vector</span>
  Point inverse_coords;
  std::auto_ptr&lt;FEBase&gt; fe(NULL);
  
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a64b94b8ee8c56abfdf2bfeb2db8f5212" title="dimension of the element">dimension</a>)
    {
    <span class="keywordflow">case</span> 1:
      {
        fe.reset(<span class="keyword">new</span> FE&lt;1,LAGRANGE&gt;(FEType()));
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> 2:
      {
        fe.reset(<span class="keyword">new</span> FE&lt;2,LAGRANGE&gt;(FEType()));
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> 3:
      {
        fe.reset(<span class="keyword">new</span> FE&lt;3,LAGRANGE&gt;(FEType()));
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      abort();
    }
  
  DenseVector&lt;double&gt; source_dof_values, qp_values(n_quad_points);
  std::vector&lt;Point&gt; point_vec;
  
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> qp =0; qp &lt; n_quad_points; qp++)
    {
    <span class="comment">// get the shape function values in the source elem</span>
    <span class="comment">// this has to be initialized as a 2-D element. This is because libMesh needs the </span>
    <span class="comment">// elements of n dim to live in an n-dim space for the method inverse map.</span>
    <span class="comment">// this needs to be looked into in greater detail to solve the problem.</span>
    inverse_coords = FE&lt;2,LAGRANGE&gt;::inverse_map(source_elems[qp], 
                                                 gauss_coords[qp]);
    <span class="comment">// calculate the value of the source variable at this </span>
    <span class="comment">// point</span>
    <span class="keywordflow">if</span> (source_dof_values.size() != (source_elems[qp])-&gt;n_nodes())
      source_dof_values.resize((source_elems[qp])-&gt;n_nodes());
    source_dof_values.zero();
    
    fe_interpolation-&gt;getDofValuesForSourceElem(source_elems[qp],
                                                source_dof_values);
    point_vec.<a class="code" href="class_driver_1_1_analysis_driver.html#a1ed98cec18a92ff66e8d183fd16274ea" title="clears the data structure">clear</a>();
    point_vec.push_back(inverse_coords);
    fe-&gt;reinit(source_elems[qp], &amp;point_vec);
    
    <span class="keyword">const</span> std::vector&lt;std::vector&lt;Real&gt; &gt;&amp; source_phi = fe-&gt;get_phi();
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; source_phi.size(); i++)
      qp_values(qp) += source_phi[i][0] * source_dof_values(i);
    }
  
  
  
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> qp=0; qp &lt; n_quad_points; qp++)
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; phi.size(); i++)
      (*f_vector)(i) += JxW[qp] * phi[i][qp] * qp_values(qp);
  
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_a0f825c7076c15263822eee89159d1104_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_a0f825c7076c15263822eee89159d1104_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_a0f825c7076c15263822eee89159d1104_cgraph" id="class_f_e_interpolation_elem_a0f825c7076c15263822eee89159d1104_cgraph">
<area shape="rect" id="node3" href="class_driver_1_1_analysis_driver.html#a1ed98cec18a92ff66e8d183fd16274ea" title="clears the data structure" alt="" coords="355,5,541,33"/><area shape="rect" id="node5" href="class_discipline_1_1_analysis_discipline_base.html#a2f9cc3c81e1363d685cb65aeb6e91d80" title="Discipline::AnalysisDisciplineBase::getAnalysisDriver" alt="" coords="281,57,615,85"/><area shape="rect" id="node7" href="class_discipline_1_1_analysis_discipline_base.html#a282d29b609ca66ebec0fcf95cc09780f" title="Discipline::AnalysisDisciplineBase::getAnalysisMeshID" alt="" coords="276,109,620,137"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a931293597ee8b5ae45fbc0e26efb1b2b" title="FESystemElem::FESystemElemBase::initialize_element" alt="" coords="272,161,624,189"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b7c6602932fd1658c987142d7b1b2e3"></a><!-- doxytag: member="FEInterpolationElem::calculate_K" ref="a7b7c6602932fd1658c987142d7b1b2e3" args="(DenseMatrix&lt; double &gt; *matrix, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3">FEInterpolationElem::calculate_K</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates the interpolation stiffness matrix </p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00238">238</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_system_elem_8h_source.html#l01019">FESystemElem::FESystemElemBase::getFESystemElemQty()</a>, <a class="el" href="_property_parameter_8h_source.html#l00015">PROPERTY_PARAMETER_ENUM_ID</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00757">FESystemElem::FESystemElemBase::sensitivity_parameter</a>, and <a class="el" href="_shape_parameter_8h_source.html#l00014">SHAPE_PARAMETER_ENUM_ID</a>.</p>

<p>Referenced by <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00143">calculateAssembledQty()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (sensitivity_calculation == <span class="keyword">true</span>)
    {
    <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3642ed0e6582c57a21ffc02b44890ad4" title="type of the sensitivity parameter">sensitivity_parameter</a>)
      {
      <span class="keywordflow">case</span> <a class="code" href="_property_parameter_8h.html#a80cffea30c32206041836bb3b44294e5">PROPERTY_PARAMETER_ENUM_ID</a>:
        {
          matrix-&gt;zero();
        }
        <span class="keywordflow">break</span>;
                                
      <span class="keywordflow">case</span> <a class="code" href="_shape_parameter_8h.html#ac516f3dcf880878bbcd0ee739b4cda5c">SHAPE_PARAMETER_ENUM_ID</a>:
        {
          this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::N_N_FACTOR::num(),
                                   matrix, 
                                   design_point_enum_ID,
                                   FESystemElem::ELEM_VOLUME::num(), 
                                   LAGRANGE);
        }
        <span class="keywordflow">break</span>;
                                
      <span class="keywordflow">default</span>:
        abort();
        <span class="keywordflow">break</span>;
      }
    }
  <span class="keywordflow">else</span> 
    {
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::N_N_FACTOR::num(), matrix, 
                             design_point_enum_ID,
                             FESystemElem::ELEM_VOLUME::num(), 
                             LAGRANGE);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_a7b7c6602932fd1658c987142d7b1b2e3_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_a7b7c6602932fd1658c987142d7b1b2e3_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_a7b7c6602932fd1658c987142d7b1b2e3_cgraph" id="class_f_e_interpolation_elem_a7b7c6602932fd1658c987142d7b1b2e3_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e" title="FESystemElem::FESystemElemBase::getFESystemElemQty" alt="" coords="272,5,653,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c591b47e5f67620fa01784aa5bb5a4a"></a><!-- doxytag: member="FEInterpolationElem::calculateAssembledQty" ref="a4c591b47e5f67620fa01784aa5bb5a4a" args="(DenseMatrix&lt; double &gt; *, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">FEInterpolationElem::calculateAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to direct the call to appropriate calculation routine based on the quantity seeked. The arguements are: </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>of quantity to return the data in </td></tr>
    <tr><td class="paramname">quantity</td><td>name </td></tr>
    <tr><td class="paramname">bool</td><td>specifying if sensitivity has been asked </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00143">143</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00238">calculate_K()</a>, and <a class="el" href="_f_e_interpolation_elem_8h_source.html#l00025">FE_INTERPOLATION_ELEM_K_MATRIX_ENUM_ID</a>.</p>

<p>Referenced by <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00075">getElementAssembledQty()</a>, and <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00107">getElementAssembledQtySensitivity()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (quantity != NULL);
  
  <span class="keywordflow">switch</span> (qty_name)
    {
    <span class="keywordflow">case</span> <a class="code" href="_f_e_interpolation_elem_8h.html#af37d786dd07e6e29a6096b6bb354d065">FE_INTERPOLATION_ELEM_K_MATRIX_ENUM_ID</a>:
      {
        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3" title="calculates the interpolation stiffness matrix">calculate_K</a>(quantity, design_point_enum_ID, sensitivity_calc);
      }
      <span class="keywordflow">break</span>;
                        
    <span class="keywordflow">default</span>:
      abort();
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_a4c591b47e5f67620fa01784aa5bb5a4a_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_a4c591b47e5f67620fa01784aa5bb5a4a_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_a4c591b47e5f67620fa01784aa5bb5a4a_cgraph" id="class_f_e_interpolation_elem_a4c591b47e5f67620fa01784aa5bb5a4a_cgraph">
<area shape="rect" id="node3" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3" title="calculates the interpolation stiffness matrix" alt="" coords="344,5,563,33"/><area shape="rect" id="node5" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e" title="FESystemElem::FESystemElemBase::getFESystemElemQty" alt="" coords="611,5,992,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5aff1db8e3e536a3dd2f812ff1b45d12"></a><!-- doxytag: member="FEInterpolationElem::calculateAssembledQty" ref="a5aff1db8e3e536a3dd2f812ff1b45d12" args="(DenseVector&lt; double &gt; *qty, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">FEInterpolationElem::calculateAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to direct the call to appropriate calculation routine based on the quantity seeked. The arguements are: </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>of quantity to return the data in </td></tr>
    <tr><td class="paramname">quantity</td><td>name </td></tr>
    <tr><td class="paramname">bool</td><td>specifying if sensitivity has been asked </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00166">166</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00281">calculate_F()</a>, and <a class="el" href="_f_e_interpolation_elem_8h_source.html#l00038">FE_INTERPOLATION_ELEM_F_VECTOR_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (quantity != NULL);
        
  <span class="keywordflow">switch</span> (qty_name)
    {
    <span class="keywordflow">case</span> <a class="code" href="_f_e_interpolation_elem_8h.html#aecc01ff4b8c9f1f9c3205418187486ce">FE_INTERPOLATION_ELEM_F_VECTOR_ENUM_ID</a>:
      {
        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_f_e_interpolation_elem.html#a0f825c7076c15263822eee89159d1104" title="calculates the interpolation force vector">calculate_F</a>(quantity, design_point_enum_ID, sensitivity_calc);
      }
      <span class="keywordflow">break</span>;
                        
    <span class="keywordflow">default</span>:
      abort();
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_a5aff1db8e3e536a3dd2f812ff1b45d12_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_a5aff1db8e3e536a3dd2f812ff1b45d12_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_a5aff1db8e3e536a3dd2f812ff1b45d12_cgraph" id="class_f_e_interpolation_elem_a5aff1db8e3e536a3dd2f812ff1b45d12_cgraph">
<area shape="rect" id="node3" href="class_f_e_interpolation_elem.html#a0f825c7076c15263822eee89159d1104" title="calculates the interpolation force vector" alt="" coords="344,83,562,111"/><area shape="rect" id="node5" href="class_driver_1_1_analysis_driver.html#a1ed98cec18a92ff66e8d183fd16274ea" title="clears the data structure" alt="" coords="694,5,880,33"/><area shape="rect" id="node7" href="class_discipline_1_1_analysis_discipline_base.html#a2f9cc3c81e1363d685cb65aeb6e91d80" title="Discipline::AnalysisDisciplineBase::getAnalysisDriver" alt="" coords="620,57,954,85"/><area shape="rect" id="node9" href="class_discipline_1_1_analysis_discipline_base.html#a282d29b609ca66ebec0fcf95cc09780f" title="Discipline::AnalysisDisciplineBase::getAnalysisMeshID" alt="" coords="614,109,959,137"/><area shape="rect" id="node11" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a931293597ee8b5ae45fbc0e26efb1b2b" title="FESystemElem::FESystemElemBase::initialize_element" alt="" coords="610,161,963,189"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9bb5a14a617f738da07c91bc5f8ce99"></a><!-- doxytag: member="FEInterpolationElem::getElementAssembledQty" ref="ae9bb5a14a617f738da07c91bc5f8ce99" args="(const unsigned int quantity, DenseMatrix&lt; double &gt; *return_qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#ae9bb5a14a617f738da07c91bc5f8ce99">FEInterpolationElem::getElementAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>return_qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will get the matrix or vector quantity for this element specified by the name in the arguement. This function will obtain the required information for calculating the quantity. Hence, the user need not worry about passsing them as arguements. The function will check for the current load case from the analysis driver and get the loads if needed. For nonlinear loads, it will procure the displacements by itself. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a6487dc5224dd94a2a5f5781a7960e556">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00075">75</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00143">calculateAssembledQty()</a>, and <a class="el" href="_f_e_system_elem_8h_source.html#l00880">FESystemElem::FESystemElemBase::getNNodes()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (qty != NULL);
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  
  <span class="keywordflow">if</span> (qty-&gt;m() != (n_nodes) || qty-&gt;n() != (n_nodes))
    qty-&gt;resize(n_nodes, n_nodes);
  
  <span class="comment">// calculate quantity and return it</span>
  this-&gt;<a class="code" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_ae9bb5a14a617f738da07c91bc5f8ce99_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_ae9bb5a14a617f738da07c91bc5f8ce99_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_ae9bb5a14a617f738da07c91bc5f8ce99_cgraph" id="class_f_e_interpolation_elem_ae9bb5a14a617f738da07c91bc5f8ce99_cgraph">
<area shape="rect" id="node3" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a" title="FEInterpolationElem::calculateAssembledQty" alt="" coords="372,5,660,33"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11" title="FESystemElem::FESystemElemBase::getNNodes" alt="" coords="358,57,674,85"/><area shape="rect" id="node5" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3" title="calculates the interpolation stiffness matrix" alt="" coords="723,5,941,33"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e" title="FESystemElem::FESystemElemBase::getFESystemElemQty" alt="" coords="989,5,1371,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac528c271f7e2f9ea0918679b54ac941b"></a><!-- doxytag: member="FEInterpolationElem::getElementAssembledQty" ref="ac528c271f7e2f9ea0918679b54ac941b" args="(const unsigned int quantity, DenseVector&lt; double &gt; *return_qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#ae9bb5a14a617f738da07c91bc5f8ce99">FEInterpolationElem::getElementAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>return_qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will get the matrix or vector quantity for this element specified by the name in the arguement. This function will obtain the required information for calculating the quantity. Hence, the user need not worry about passsing them as arguements. The function will check for the current load case from the analysis driver and get the loads if needed. For nonlinear loads, it will procure the displacements by itself. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00091">91</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00143">calculateAssembledQty()</a>, and <a class="el" href="_f_e_system_elem_8h_source.html#l00880">FESystemElem::FESystemElemBase::getNNodes()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (qty != NULL);
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  
  <span class="keywordflow">if</span> (qty-&gt;size() != (n_nodes))
    qty-&gt;resize(n_nodes);
  
  <span class="comment">// calculate quantity and return it</span>
  this-&gt;<a class="code" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_ac528c271f7e2f9ea0918679b54ac941b_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_ac528c271f7e2f9ea0918679b54ac941b_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_ac528c271f7e2f9ea0918679b54ac941b_cgraph" id="class_f_e_interpolation_elem_ac528c271f7e2f9ea0918679b54ac941b_cgraph">
<area shape="rect" id="node3" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a" title="FEInterpolationElem::calculateAssembledQty" alt="" coords="372,5,660,33"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11" title="FESystemElem::FESystemElemBase::getNNodes" alt="" coords="358,57,674,85"/><area shape="rect" id="node5" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3" title="calculates the interpolation stiffness matrix" alt="" coords="723,5,941,33"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e" title="FESystemElem::FESystemElemBase::getFESystemElemQty" alt="" coords="989,5,1371,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4d583d055d2ada29eb3fab83f2c38a9b"></a><!-- doxytag: member="FEInterpolationElem::getElementAssembledQtySensitivity" ref="a4d583d055d2ada29eb3fab83f2c38a9b" args="(const unsigned int quantity, DenseMatrix&lt; double &gt; *return_qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a4d583d055d2ada29eb3fab83f2c38a9b">FEInterpolationElem::getElementAssembledQtySensitivity</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>return_qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function will return the sensitivity quantity by procuring the required information by itself. It will check for the current load case and design variable and perform the operations by itself. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a734f6d0f7dc1f816de3bf757c5bea962">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00107">107</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00143">calculateAssembledQty()</a>, and <a class="el" href="_f_e_system_elem_8h_source.html#l00880">FESystemElem::FESystemElemBase::getNNodes()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (qty != NULL);
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  
  <span class="keywordflow">if</span> (qty-&gt;m() != (n_nodes) || qty-&gt;n() != (n_nodes))
    qty-&gt;resize(n_nodes, n_nodes);
  
  <span class="comment">// calculate quantity and return it</span>
  this-&gt;<a class="code" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">true</span>);
}          
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_a4d583d055d2ada29eb3fab83f2c38a9b_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_a4d583d055d2ada29eb3fab83f2c38a9b_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_a4d583d055d2ada29eb3fab83f2c38a9b_cgraph" id="class_f_e_interpolation_elem_a4d583d055d2ada29eb3fab83f2c38a9b_cgraph">
<area shape="rect" id="node3" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a" title="FEInterpolationElem::calculateAssembledQty" alt="" coords="433,5,722,33"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11" title="FESystemElem::FESystemElemBase::getNNodes" alt="" coords="419,57,736,85"/><area shape="rect" id="node5" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3" title="calculates the interpolation stiffness matrix" alt="" coords="784,5,1003,33"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e" title="FESystemElem::FESystemElemBase::getFESystemElemQty" alt="" coords="1051,5,1432,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae3b7806514b603e28a1470cf458c47c"></a><!-- doxytag: member="FEInterpolationElem::getElementAssembledQtySensitivity" ref="aae3b7806514b603e28a1470cf458c47c" args="(const unsigned int quantity, DenseVector&lt; double &gt; *return_qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a4d583d055d2ada29eb3fab83f2c38a9b">FEInterpolationElem::getElementAssembledQtySensitivity</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>return_qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function will return the sensitivity quantity by procuring the required information by itself. It will check for the current load case and design variable and perform the operations by itself. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00125">125</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>

<p>References <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00143">calculateAssembledQty()</a>, and <a class="el" href="_f_e_system_elem_8h_source.html#l00880">FESystemElem::FESystemElemBase::getNNodes()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (qty != NULL);
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  
  <span class="keywordflow">if</span> (qty-&gt;size() != (n_nodes))
    qty-&gt;resize(n_nodes);
  
  <span class="comment">// calculate quantity and return it</span>
  this-&gt;<a class="code" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">true</span>);
} 
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_interpolation_elem_aae3b7806514b603e28a1470cf458c47c_cgraph.gif" border="0" usemap="#class_f_e_interpolation_elem_aae3b7806514b603e28a1470cf458c47c_cgraph" alt=""/></div>
<map name="class_f_e_interpolation_elem_aae3b7806514b603e28a1470cf458c47c_cgraph" id="class_f_e_interpolation_elem_aae3b7806514b603e28a1470cf458c47c_cgraph">
<area shape="rect" id="node3" href="class_f_e_interpolation_elem.html#a4c591b47e5f67620fa01784aa5bb5a4a" title="FEInterpolationElem::calculateAssembledQty" alt="" coords="433,5,722,33"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11" title="FESystemElem::FESystemElemBase::getNNodes" alt="" coords="419,57,736,85"/><area shape="rect" id="node5" href="class_f_e_interpolation_elem.html#a7b7c6602932fd1658c987142d7b1b2e3" title="calculates the interpolation stiffness matrix" alt="" coords="784,5,1003,33"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e" title="FESystemElem::FESystemElemBase::getFESystemElemQty" alt="" coords="1051,5,1432,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47173b0062de0ac518fc20f6522670b3"></a><!-- doxytag: member="FEInterpolationElem::getElementPostProcessQty" ref="a47173b0062de0ac518fc20f6522670b3" args="(std::vector&lt; unsigned int &gt; load_cases, std::vector&lt; DesignData::DesignParameter * &gt; DV_vector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt; <a class="el" href="class_elem_post_process_qty.html">ElemPostProcessQty</a> &gt; <a class="el" href="class_f_e_interpolation_elem.html#a47173b0062de0ac518fc20f6522670b3">FEInterpolationElem::getElementPostProcessQty</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; unsigned int &gt;&#160;</td>
          <td class="paramname"><em>load_cases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_design_data_1_1_design_parameter.html">DesignData::DesignParameter</a> * &gt;&#160;</td>
          <td class="paramname"><em>DV_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function returns the element post process quantity </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>of load case IDs for which the quantitis should be calculated </td></tr>
    <tr><td class="paramname">vector</td><td>of DVs for which the quantities should be calculated </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aab919792849ca2534674dc440a77fd51">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00406">406</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// for this element, this does not make sense, hence, this method cannot be called.</span>
  <span class="comment">// consequently, an abort statement has been placed here.</span>
  std::auto_ptr&lt;ElemPostProcessQty&gt; return_qty(NULL);
  
  abort();
  <span class="keywordflow">return</span> return_qty;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a989b2e785dca7be6a7b39275a72c2a3e"></a><!-- doxytag: member="FEInterpolationElem::getFETypes" ref="a989b2e785dca7be6a7b39275a72c2a3e" args="(std::vector&lt; FEType &gt; &amp;fetypes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a989b2e785dca7be6a7b39275a72c2a3e">FEInterpolationElem::getFETypes</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; FEType &gt; &amp;&#160;</td>
          <td class="paramname"><em>fetypes</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>inserts the finite element types to be used for this element in the input parameters </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a37fb0c443dc328281227b0edbc3ff6cf">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00043">43</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  fetypes.clear();
  
  fetypes.push_back(FEType());
  FEType&amp; fe = fetypes.back();
  fe.order = FIRST;
  fe.family = LAGRANGE;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2d746aece2d41f4460947d2817cae449"></a><!-- doxytag: member="FEInterpolationElem::getQuadratureRules" ref="a2d746aece2d41f4460947d2817cae449" args="(std::map&lt; FEFamily, std::pair&lt; QuadratureType, Order &gt; &gt; &amp;quadratures)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_interpolation_elem.html#a2d746aece2d41f4460947d2817cae449">FEInterpolationElem::getQuadratureRules</a> </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; FEFamily, std::pair&lt; QuadratureType, Order &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>quadratures</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>inserts the quadrature rules to be used for the different elements </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac4ee610fdbe303c87d6b4e4f901d96ba">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="_f_e_interpolation_elem_8_c_source.html#l00059">59</a> of file <a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  quadratures.clear();
  
  <span class="keywordtype">bool</span> insert_success = 
    quadratures.insert(std::map&lt;FEFamily, std::pair&lt;QuadratureType, Order&gt; &gt;::
                       value_type(LAGRANGE, std::make_pair(QGAUSS, FIFTH))).second;
  
  Assert(insert_success, ExcInternalError());
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Interpolation/<a class="el" href="_f_e_interpolation_elem_8h_source.html">FEInterpolationElem.h</a></li>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Interpolation/<a class="el" href="_f_e_interpolation_elem_8_c_source.html">FEInterpolationElem.C</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 12 2012 18:06:20 for fesystem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
