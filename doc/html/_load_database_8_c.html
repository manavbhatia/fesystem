<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fesystem: /Users/manav/Documents/codes/FESystemOld/FESystem/src/Loads/LoadDatabase.C File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">fesystem
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9e51036813d6151dfecc72d5fa7c02b3.html">Users</a>      </li>
      <li class="navelem"><a class="el" href="dir_0c900164955ce081ffb4c6b051e456bf.html">manav</a>      </li>
      <li class="navelem"><a class="el" href="dir_1c27e0e86d47954644c3da6ab29e89d2.html">Documents</a>      </li>
      <li class="navelem"><a class="el" href="dir_702da5bd4e2e61517788da49174c071d.html">codes</a>      </li>
      <li class="navelem"><a class="el" href="dir_549ad45c2f63d8c1db46ab790c4cde83.html">FESystemOld</a>      </li>
      <li class="navelem"><a class="el" href="dir_fa1b40415469e23c583052e363adf212.html">FESystem</a>      </li>
      <li class="navelem"><a class="el" href="dir_f94e632e97ff28080483f5ca56254f08.html">src</a>      </li>
      <li class="navelem"><a class="el" href="dir_a7c568f52e45c5adbc70ad9550ae9db9.html">Loads</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LoadDatabase.C File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_load_database_8h_source.html">Loads/LoadDatabase.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_input_output_utility_8h_source.html">Utilities/InputOutputUtility.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_f_e_system_numbers_8h_source.html">FESystem/FESystemNumbers.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="load_8h_source.html">Loads/load.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_load_set_8h_source.html">Loads/LoadSet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_load_case_8h_source.html">Loads/LoadCase.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_load_combination_8h_source.html">Loads/LoadCombination.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_load_data_info_8h_source.html">Loads/LoadDataInfo.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for LoadDatabase.C:</div>
<div class="dyncontent">
<div class="center"><img src="_load_database_8_c__incl.gif" border="0" usemap="#_2_users_2manav_2_documents_2codes_2_f_e_system_old_2_f_e_system_2src_2_loads_2_load_database_8_c" alt=""/></div>
<map name="_2_users_2manav_2_documents_2codes_2_f_e_system_old_2_f_e_system_2src_2_loads_2_load_database_8_c" id="_2_users_2manav_2_documents_2codes_2_f_e_system_old_2_f_e_system_2src_2_loads_2_load_database_8_c">
<area shape="rect" id="node3" href="_load_database_8h.html" title="Loads/LoadDatabase.h" alt="" coords="1132,83,1291,111"/><area shape="rect" id="node21" href="_input_output_utility_8h.html" title="Utilities/InputOutputUtility.h" alt="" coords="1275,238,1455,266"/><area shape="rect" id="node26" href="_f_e_system_numbers_8h.html" title="FESystem/FESystemNumbers.h" alt="" coords="4,238,216,266"/><area shape="rect" id="node28" href="load_8h.html" title="Loads/load.h" alt="" coords="639,161,736,189"/><area shape="rect" id="node46" href="_load_set_8h.html" title="Loads/LoadSet.h" alt="" coords="494,161,615,189"/><area shape="rect" id="node52" href="_load_case_8h.html" title="Loads/LoadCase.h" alt="" coords="336,161,468,189"/><area shape="rect" id="node62" href="_load_combination_8h.html" title="Loads/LoadCombination.h" alt="" coords="725,83,901,111"/><area shape="rect" id="node68" href="_load_data_info_8h.html" title="Loads/LoadDataInfo.h" alt="" coords="862,161,1015,189"/><area shape="rect" id="node13" href="_autoptr_vector_8h.html" title="Utilities/AutoptrVector.h" alt="" coords="1191,161,1349,189"/><area shape="rect" id="node16" href="_f_e_system_exceptions_8h.html" title="FESystem/FESystemExceptions.h" alt="" coords="666,315,891,343"/><area shape="rect" id="node36" href="_name_enum_handler_8h.html" title="Utilities/NameEnumHandler.h" alt="" coords="444,238,639,266"/></map>
</div>
</div>
<p><a href="_load_database_8_c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_load_database_8_c.html#adb539b648eeef02d03679f2284dc54a2">LoadDatabase::getLoadCombination&lt; Loads::VolumeLoadDataInfo, Loads::VolumeLoadCombination &gt;</a> (const <a class="el" href="class_loads_1_1_volume_load_data_info.html">Loads::VolumeLoadDataInfo</a> &amp;load_info, <a class="el" href="class_loads_1_1_volume_load_combination.html">Loads::VolumeLoadCombination</a> &amp;load_combo)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_load_database_8_c.html#a66d56e712b20bd851801321c03e0137e">LoadDatabase::getLoadCombination&lt; Loads::SurfaceLoadDataInfo, Loads::SurfaceLoadCombination &gt;</a> (const <a class="el" href="class_loads_1_1_surface_load_data_info.html">Loads::SurfaceLoadDataInfo</a> &amp;load_info, <a class="el" href="class_loads_1_1_surface_load_combination.html">Loads::SurfaceLoadCombination</a> &amp;load_combo)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_load_database_8_c.html#afe88dc461497c71b4b87bdde75a450a2">LoadDatabase::getLoadCombination&lt; Loads::NodalLoadDataInfo, Loads::NodalLoadCombination &gt;</a> (const <a class="el" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a> &amp;load_info, <a class="el" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a> &amp;load_combo)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector</a><br class="typebreak"/>
&lt; <a class="el" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_load_database_8_c.html#a5f1a5ddb023a040f868dd7e009eb7f1a">LoadDatabase::getAllLoadCombinations&lt; Loads::NodalLoadDataInfo, Loads::NodalLoadCombination &gt;</a> (const <a class="el" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a> &amp;load_info)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector</a><br class="typebreak"/>
&lt; <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_combination.html">Loads::DirichletBoundaryConditionCombination</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_load_database_8_c.html#ab9d674ed35f51ba476dcf9fe3a8fe0e4">LoadDatabase::getAllLoadCombinations&lt; Loads::DirichletBoundaryConditionDataInfo, Loads::DirichletBoundaryConditionCombination &gt;</a> (const <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a> &amp;load_info)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ab9d674ed35f51ba476dcf9fe3a8fe0e4"></a><!-- doxytag: member="LoadDatabase.C::LoadDatabase::getAllLoadCombinations&lt; Loads::DirichletBoundaryConditionDataInfo, Loads::DirichletBoundaryConditionCombination &gt;" ref="ab9d674ed35f51ba476dcf9fe3a8fe0e4" args="(const Loads::DirichletBoundaryConditionDataInfo &amp;load_info)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector</a>&lt;<a class="el" href="class_loads_1_1_dirichlet_boundary_condition_combination.html">Loads::DirichletBoundaryConditionCombination</a>&gt; <a class="el" href="class_load_database.html#a465635e9683a854c738c3efa96d11057">LoadDatabase::getAllLoadCombinations</a>&lt; <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a>, <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_combination.html">Loads::DirichletBoundaryConditionCombination</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>load_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_load_database_8_c_source.html#l00421">421</a> of file <a class="el" href="_load_database_8_c_source.html">LoadDatabase.C</a>.</p>

<p>References <a class="el" href="_load_combination_8h_source.html#l00523">Loads::DirichletBoundaryConditionCombination::clear()</a>, <a class="el" href="_load_combination_8_c_source.html#l00049">Loads::createDirichletBoundaryConditionCombination()</a>, <a class="el" href="_load_set_8_c_source.html#l00336">BoundaryConditionLoadSet::getAllLoads()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00078">Loads::LoadDataInfoBase::getLoadCaseID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00096">Loads::LoadDataInfoBase::getLoadClassEnumID()</a>, <a class="el" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63">LoadCaseBase::getLoadFactorLoadSetPair()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00115">Loads::LoadDataInfoBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00044">LoadSetBase::getLoadNameEnumID()</a>, and <a class="el" href="_autoptr_vector_8h_source.html#l00091">FESystemUtility::AutoPtrVector&lt; T &gt;::reset()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> std::vector&lt;const DirichletBoundaryCondition*&gt; load_vec;
  load_vec.clear();
  
  <span class="keyword">static</span> std::vector&lt;std::pair&lt;unsigned int, double&gt; &gt; load_pair;
  load_pair.clear();
  
  <span class="keyword">const</span> <a class="code" href="class_load_case_base.html">LoadCaseBase</a>&amp; load_case = this-&gt;getLoadCaseFromID(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4">getLoadCaseID</a>());
  
  load_case.<a class="code" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor">getLoadFactorLoadSetPair</a>(load_info, load_pair);
  
  <span class="comment">// create a map of load combos for the nodes</span>
  <span class="keyword">static</span> std::map&lt;<span class="keywordtype">unsigned</span> int, std::map&lt;<span class="keywordtype">unsigned</span> int, 
  <a class="code" href="class_loads_1_1_dirichlet_boundary_condition_combination.html">Loads::DirichletBoundaryConditionCombination</a>*&gt; &gt; load_combo_map;
  load_combo_map.<a class="code" href="class_loads_1_1_dirichlet_boundary_condition_combination.html#a9ad06b219709322a1db01009e82e4afc">clear</a>();
  
  <span class="keyword">static</span> std::map&lt;<span class="keywordtype">unsigned</span> int, std::map&lt;<span class="keywordtype">unsigned</span> int, 
  <a class="code" href="class_loads_1_1_dirichlet_boundary_condition_combination.html">Loads::DirichletBoundaryConditionCombination</a>*&gt; &gt;::iterator it;
  <span class="keyword">static</span> std::map&lt;unsigned int, Loads::DirichletBoundaryConditionCombination*&gt;::iterator dof_it;
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_bcs = 0;
  
  <span class="comment">// iterate over the load pairs, and add the loads to the load vector</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; load_pair.size(); i++)
    {
      <span class="keyword">const</span> <a class="code" href="class_boundary_condition_load_set.html">BoundaryConditionLoadSet</a>&amp; load_set = 
      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_boundary_condition_load_set.html">BoundaryConditionLoadSet</a>&amp;<span class="keyword">&gt;</span>(this-&gt;getLoadSetFromID(load_pair[i].first));
      
      <span class="comment">// make sure that the loads are of the same kind</span>
      AssertThrow(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256">getLoadNameEnumID</a>() == load_set.<a class="code" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a">getLoadNameEnumID</a>(), ExcInternalError());
      
      load_vec.clear();
      <span class="comment">// finally, ask the load set to return the load vector</span>
      load_set.<a class="code" href="class_boundary_condition_load_set.html#a8b0fbae999773253ff48d9283dd7296e">getAllLoads</a>(load_vec);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j &lt; load_vec.size(); j++)
        {
          it = load_combo_map.find(load_vec[j]-&gt;getNodeID());
          
          <span class="comment">// if the node does not exist in the map, add it </span>
          <span class="keywordflow">if</span> (it == load_combo_map.end())
            it = load_combo_map.insert
            (std::map&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, std::map&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, 
             <a class="code" href="class_loads_1_1_dirichlet_boundary_condition_combination.html">Loads::DirichletBoundaryConditionCombination</a>*&gt; &gt;::value_type
             (load_vec[j]-&gt;getNodeID(), 
              std::map&lt;unsigned int, Loads::DirichletBoundaryConditionCombination*&gt;())).first;
          
          <span class="comment">// now, look for the dof number for this boundary condition</span>
          dof_it = it-&gt;second.find(load_vec[j]-&gt;getDofNumber());
          
          <span class="keywordflow">if</span> (dof_it == it-&gt;second.end())
            {
              dof_it = it-&gt;second.insert
              (std::map&lt;unsigned int, Loads::DirichletBoundaryConditionCombination*&gt;::value_type
               (load_vec[j]-&gt;getDofNumber(), <a class="code" href="namespace_loads.html#a46254dac280fa7ffbea3f5774c798841">Loads::createDirichletBoundaryConditionCombination</a>
                (load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#adffb079b4f0c803b4f9378a5e5dd6c45">getLoadClassEnumID</a>()).release())).first;
              n_bcs++;
            }
          
          dof_it-&gt;second-&gt;addLoad(load_pair[i].second, load_vec[j]);
        }
    }
  
  <span class="comment">// finally, transfer the created load combo pointers to the return vector</span>
  <a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector&lt;Loads::DirichletBoundaryConditionCombination&gt;</a> 
  return_load_vec(n_bcs);
  it = load_combo_map.begin();
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bc_it = 0;
  <span class="keywordflow">for</span> ( ; it != load_combo_map.end(); it++)
    {
      dof_it = it-&gt;second.begin();
      <span class="keywordflow">for</span> ( ; dof_it != it-&gt;second.end(); dof_it++)
        {
          return_load_vec.reset(bc_it, dof_it-&gt;second);
          bc_it++;
        }
    }
  
  load_combo_map.clear();
  
  <span class="keywordflow">return</span> return_load_vec; 
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_load_database_8_c_ab9d674ed35f51ba476dcf9fe3a8fe0e4_cgraph.gif" border="0" usemap="#_load_database_8_c_ab9d674ed35f51ba476dcf9fe3a8fe0e4_cgraph" alt=""/></div>
<map name="_load_database_8_c_ab9d674ed35f51ba476dcf9fe3a8fe0e4_cgraph" id="_load_database_8_c_ab9d674ed35f51ba476dcf9fe3a8fe0e4_cgraph">
<area shape="rect" id="node3" href="class_loads_1_1_dirichlet_boundary_condition_combination.html#a9ad06b219709322a1db01009e82e4afc" title="Loads::DirichletBoundaryConditionCombination::clear" alt="" coords="787,5,1125,33"/><area shape="rect" id="node5" href="namespace_loads.html#a46254dac280fa7ffbea3f5774c798841" title="Loads::createDirichletBoundaryConditionCombination" alt="" coords="787,57,1125,85"/><area shape="rect" id="node7" href="class_boundary_condition_load_set.html#a8b0fbae999773253ff48d9283dd7296e" title="BoundaryConditionLoadSet::getAllLoads" alt="" coords="825,109,1087,137"/><area shape="rect" id="node9" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4" title="Loads::LoadDataInfoBase::getLoadCaseID" alt="" coords="818,161,1094,189"/><area shape="rect" id="node11" href="class_loads_1_1_load_data_info_base.html#adffb079b4f0c803b4f9378a5e5dd6c45" title="Loads::LoadDataInfoBase::getLoadClassEnumID" alt="" coords="800,213,1112,241"/><area shape="rect" id="node13" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor" alt="" coords="816,265,1096,293"/><area shape="rect" id="node15" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256" title="Loads::LoadDataInfoBase::getLoadNameEnumID" alt="" coords="799,317,1113,345"/><area shape="rect" id="node17" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a" title="LoadSetBase::getLoadNameEnumID" alt="" coords="836,369,1076,397"/><area shape="rect" id="node19" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#a8a5df495dc60b4b3baf3921f6c56106d" title="FESystemUtility::AutoPtrVector::reset" alt="" coords="835,421,1077,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5f1a5ddb023a040f868dd7e009eb7f1a"></a><!-- doxytag: member="LoadDatabase.C::LoadDatabase::getAllLoadCombinations&lt; Loads::NodalLoadDataInfo, Loads::NodalLoadCombination &gt;" ref="a5f1a5ddb023a040f868dd7e009eb7f1a" args="(const Loads::NodalLoadDataInfo &amp;load_info)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector</a>&lt;<a class="el" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a>&gt; <a class="el" href="class_load_database.html#a465635e9683a854c738c3efa96d11057">LoadDatabase::getAllLoadCombinations</a>&lt; <a class="el" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a>, <a class="el" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>load_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_load_database_8_c_source.html#l00355">355</a> of file <a class="el" href="_load_database_8_c_source.html">LoadDatabase.C</a>.</p>

<p>References <a class="el" href="_autoptr_vector_8h_source.html#l00077">FESystemUtility::AutoPtrVector&lt; T &gt;::clear()</a>, <a class="el" href="_load_combination_8_c_source.html#l00029">Loads::createNodalLoadCombination()</a>, <a class="el" href="_load_set_8_c_source.html#l00219">NodalLoadSet::getAllLoads()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00078">Loads::LoadDataInfoBase::getLoadCaseID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00096">Loads::LoadDataInfoBase::getLoadClassEnumID()</a>, <a class="el" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63">LoadCaseBase::getLoadFactorLoadSetPair()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00115">Loads::LoadDataInfoBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00044">LoadSetBase::getLoadNameEnumID()</a>, and <a class="el" href="_autoptr_vector_8h_source.html#l00091">FESystemUtility::AutoPtrVector&lt; T &gt;::reset()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> std::vector&lt;const NodalLoad*&gt; load_vec;
  load_vec.clear();
  
  <span class="keyword">static</span> std::vector&lt;std::pair&lt;unsigned int, double&gt; &gt; load_pair;
  load_pair.clear();
  
  <span class="keyword">const</span> <a class="code" href="class_load_case_base.html">LoadCaseBase</a>&amp; load_case = this-&gt;getLoadCaseFromID(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4">getLoadCaseID</a>());
  
  load_case.<a class="code" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor">getLoadFactorLoadSetPair</a>(load_info, load_pair);
  
  <span class="comment">// create a map of load combos for the nodes</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, Loads::NodalLoadCombination*&gt; load_combo_map;
  <span class="keyword">static</span> std::map&lt;unsigned int, Loads::NodalLoadCombination*&gt;::iterator it;
  load_combo_map.clear();
  
  <span class="comment">// iterate over the load pairs, and add the loads to the load vector</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; load_pair.size(); i++)
    {
      <span class="keyword">const</span> <a class="code" href="class_nodal_load_set.html">NodalLoadSet</a>&amp; load_set = 
      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_nodal_load_set.html">NodalLoadSet</a>&amp;<span class="keyword">&gt;</span>(this-&gt;getLoadSetFromID(load_pair[i].first));
      
      <span class="comment">// make sure that the loads are of the same kind</span>
      AssertThrow(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256">getLoadNameEnumID</a>() == load_set.<a class="code" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a">getLoadNameEnumID</a>(), ExcInternalError());
      
      load_vec.clear();
      <span class="comment">// finally, ask the load set to return the load vector</span>
      load_set.<a class="code" href="class_nodal_load_set.html#a51a25b7fa938d9a053adf776795d1047">getAllLoads</a>(load_vec);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j &lt; load_vec.size(); j++)
        {
          it = load_combo_map.find(load_vec[j]-&gt;getNodeID());
          
          <span class="comment">// if the node does not exist in the map, add it </span>
          <span class="keywordflow">if</span> (it == load_combo_map.end())
            it = load_combo_map.insert
            (std::map&lt;unsigned int, Loads::NodalLoadCombination*&gt;::value_type
             (load_vec[j]-&gt;getNodeID(), <a class="code" href="namespace_loads.html#afdff97622c023559e90188eb75aadf2f">Loads::createNodalLoadCombination</a>
              (load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#adffb079b4f0c803b4f9378a5e5dd6c45">getLoadClassEnumID</a>()).release())).first;
          
          it-&gt;second-&gt;addLoad(load_pair[i].second, load_vec[j]);
        }
    }
  
  <span class="comment">// finally, transfer the created load combo pointers to the return vector</span>
  <a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector&lt;Loads::NodalLoadCombination&gt;</a> return_load_vec(load_combo_map.size());
  it = load_combo_map.begin();
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0 ; i &lt; load_combo_map.size(); i++)
    {
      return_load_vec.<a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#a8a5df495dc60b4b3baf3921f6c56106d">reset</a>(i, it-&gt;second);
      it++;
    }
  
  load_combo_map.<a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#afbdb53796e72ac7885b542b6fa64a6f4" title="clears all the elements in the vector, and reduces its size to zero">clear</a>();
  
  <span class="keywordflow">return</span> return_load_vec; 
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_load_database_8_c_a5f1a5ddb023a040f868dd7e009eb7f1a_cgraph.gif" border="0" usemap="#_load_database_8_c_a5f1a5ddb023a040f868dd7e009eb7f1a_cgraph" alt=""/></div>
<map name="_load_database_8_c_a5f1a5ddb023a040f868dd7e009eb7f1a_cgraph" id="_load_database_8_c_a5f1a5ddb023a040f868dd7e009eb7f1a_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#afbdb53796e72ac7885b542b6fa64a6f4" title="clears all the elements in the vector, and reduces its size to zero" alt="" coords="629,5,870,33"/><area shape="rect" id="node5" href="namespace_loads.html#afdff97622c023559e90188eb75aadf2f" title="Loads::createNodalLoadCombination" alt="" coords="629,57,870,85"/><area shape="rect" id="node7" href="class_nodal_load_set.html#a51a25b7fa938d9a053adf776795d1047" title="NodalLoadSet::getAllLoads" alt="" coords="658,109,841,137"/><area shape="rect" id="node9" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4" title="Loads::LoadDataInfoBase::getLoadCaseID" alt="" coords="612,161,887,189"/><area shape="rect" id="node11" href="class_loads_1_1_load_data_info_base.html#adffb079b4f0c803b4f9378a5e5dd6c45" title="Loads::LoadDataInfoBase::getLoadClassEnumID" alt="" coords="593,213,906,241"/><area shape="rect" id="node13" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor" alt="" coords="610,265,889,293"/><area shape="rect" id="node15" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256" title="Loads::LoadDataInfoBase::getLoadNameEnumID" alt="" coords="592,317,907,345"/><area shape="rect" id="node17" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a" title="LoadSetBase::getLoadNameEnumID" alt="" coords="629,369,870,397"/><area shape="rect" id="node19" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#a8a5df495dc60b4b3baf3921f6c56106d" title="FESystemUtility::AutoPtrVector::reset" alt="" coords="628,421,870,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe88dc461497c71b4b87bdde75a450a2"></a><!-- doxytag: member="LoadDatabase.C::LoadDatabase::getLoadCombination&lt; Loads::NodalLoadDataInfo, Loads::NodalLoadCombination &gt;" ref="afe88dc461497c71b4b87bdde75a450a2" args="(const Loads::NodalLoadDataInfo &amp;load_info, Loads::NodalLoadCombination &amp;load_combo)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_load_database.html#a610750d55cf14685fd5dbd51a02a06bd">LoadDatabase::getLoadCombination</a>&lt; <a class="el" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a>, <a class="el" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>load_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a> &amp;&#160;</td>
          <td class="paramname"><em>load_combo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_load_database_8_c_source.html#l00315">315</a> of file <a class="el" href="_load_database_8_c_source.html">LoadDatabase.C</a>.</p>

<p>References <a class="el" href="_load_data_info_8_c_source.html#l00078">Loads::LoadDataInfoBase::getLoadCaseID()</a>, <a class="el" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63">LoadCaseBase::getLoadFactorLoadSetPair()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00115">Loads::LoadDataInfoBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00044">LoadSetBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00205">NodalLoadSet::getLoadsForNode()</a>, and <a class="el" href="_load_data_info_8_c_source.html#l00330">Loads::NodalLoadDataInfo::getNodeID()</a>.</p>
<div class="fragment"><pre class="fragment">{
  load_combo.<a class="code" href="class_loads_1_1_load_combination_base.html#aa6853669882a9200f94582dad1b9811d">clear</a>();
  
  <span class="keyword">static</span> std::vector&lt;const NodalLoad*&gt; load_vec;
  load_vec.clear();
  
  <span class="keyword">static</span> std::vector&lt;std::pair&lt;unsigned int, double&gt; &gt; load_pair;
  load_pair.clear();
  
  <span class="keyword">const</span> <a class="code" href="class_load_case_base.html">LoadCaseBase</a>&amp; load_case = this-&gt;getLoadCaseFromID(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4">getLoadCaseID</a>());
  
  load_case.<a class="code" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor">getLoadFactorLoadSetPair</a>(load_info, load_pair);
  
  <span class="comment">// iterate over the load pairs, and add the loads to the load vector</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; load_pair.size(); i++)
    {
      <span class="keyword">const</span> <a class="code" href="class_nodal_load_set.html">NodalLoadSet</a>&amp; load_set = 
      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_nodal_load_set.html">NodalLoadSet</a>&amp;<span class="keyword">&gt;</span>(this-&gt;getLoadSetFromID(load_pair[i].first));
      
      <span class="comment">// make sure that the loads are of the same kind</span>
      AssertThrow(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256">getLoadNameEnumID</a>() == load_set.<a class="code" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a">getLoadNameEnumID</a>(), ExcInternalError());
      
      load_vec.clear();
      <span class="comment">// finally, ask the load set to return the load vector</span>
      load_set.<a class="code" href="class_nodal_load_set.html#acc8444360aca1cb4b557b768303ecb38">getLoadsForNode</a>(load_info.<a class="code" href="class_loads_1_1_nodal_load_data_info.html#aea68f1d3371cc27357d33c65de94bb38">getNodeID</a>(), load_vec);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j &lt; load_vec.size(); j++)
        load_combo.<a class="code" href="class_loads_1_1_nodal_load_combination.html#a3ef84a97d6924635a5b36b157e8265d5">addLoad</a>(load_pair[i].second, load_vec[j]);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_load_database_8_c_afe88dc461497c71b4b87bdde75a450a2_cgraph.gif" border="0" usemap="#_load_database_8_c_afe88dc461497c71b4b87bdde75a450a2_cgraph" alt=""/></div>
<map name="_load_database_8_c_afe88dc461497c71b4b87bdde75a450a2_cgraph" id="_load_database_8_c_afe88dc461497c71b4b87bdde75a450a2_cgraph">
<area shape="rect" id="node3" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4" title="Loads::LoadDataInfoBase::getLoadCaseID" alt="" coords="590,5,866,33"/><area shape="rect" id="node5" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor" alt="" coords="588,57,868,85"/><area shape="rect" id="node7" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256" title="Loads::LoadDataInfoBase::getLoadNameEnumID" alt="" coords="571,109,885,137"/><area shape="rect" id="node9" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a" title="LoadSetBase::getLoadNameEnumID" alt="" coords="608,161,848,189"/><area shape="rect" id="node11" href="class_nodal_load_set.html#acc8444360aca1cb4b557b768303ecb38" title="NodalLoadSet::getLoadsForNode" alt="" coords="618,213,838,241"/><area shape="rect" id="node13" href="class_loads_1_1_nodal_load_data_info.html#aea68f1d3371cc27357d33c65de94bb38" title="Loads::NodalLoadDataInfo::getNodeID" alt="" coords="602,265,854,293"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a66d56e712b20bd851801321c03e0137e"></a><!-- doxytag: member="LoadDatabase.C::LoadDatabase::getLoadCombination&lt; Loads::SurfaceLoadDataInfo, Loads::SurfaceLoadCombination &gt;" ref="a66d56e712b20bd851801321c03e0137e" args="(const Loads::SurfaceLoadDataInfo &amp;load_info, Loads::SurfaceLoadCombination &amp;load_combo)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_load_database.html#a610750d55cf14685fd5dbd51a02a06bd">LoadDatabase::getLoadCombination</a>&lt; <a class="el" href="class_loads_1_1_surface_load_data_info.html">Loads::SurfaceLoadDataInfo</a>, <a class="el" href="class_loads_1_1_surface_load_combination.html">Loads::SurfaceLoadCombination</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_loads_1_1_surface_load_data_info.html">Loads::SurfaceLoadDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>load_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_loads_1_1_surface_load_combination.html">Loads::SurfaceLoadCombination</a> &amp;&#160;</td>
          <td class="paramname"><em>load_combo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_load_database_8_c_source.html#l00274">274</a> of file <a class="el" href="_load_database_8_c_source.html">LoadDatabase.C</a>.</p>

<p>References <a class="el" href="_load_data_info_8_c_source.html#l00221">Loads::ElemLoadDataInfo::getElemID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00078">Loads::LoadDataInfoBase::getLoadCaseID()</a>, <a class="el" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63">LoadCaseBase::getLoadFactorLoadSetPair()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00115">Loads::LoadDataInfoBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00044">LoadSetBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00450">SurfaceLoadSet::getLoadsForElementSide()</a>, and <a class="el" href="_load_data_info_8_c_source.html#l00284">Loads::SurfaceLoadDataInfo::getSurfaceID()</a>.</p>
<div class="fragment"><pre class="fragment">{
  load_combo.<a class="code" href="class_loads_1_1_load_combination_base.html#aa6853669882a9200f94582dad1b9811d">clear</a>();
  
  <span class="keyword">static</span> std::vector&lt;const SurfaceLoad*&gt; load_vec;
  load_vec.clear();
  
  <span class="keyword">static</span> std::vector&lt;std::pair&lt;unsigned int, double&gt; &gt; load_pair;
  load_pair.clear();
  
  <span class="keyword">const</span> <a class="code" href="class_load_case_base.html">LoadCaseBase</a>&amp; load_case = this-&gt;getLoadCaseFromID(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4">getLoadCaseID</a>());
  
  load_case.<a class="code" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor">getLoadFactorLoadSetPair</a>(load_info, load_pair);
  
  <span class="comment">// iterate over the load pairs, and add the loads to the load vector</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; load_pair.size(); i++)
    {
      <span class="keyword">const</span> <a class="code" href="class_surface_load_set.html">SurfaceLoadSet</a>&amp; load_set = 
      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_surface_load_set.html">SurfaceLoadSet</a>&amp;<span class="keyword">&gt;</span>(this-&gt;getLoadSetFromID(load_pair[i].first));
      
      <span class="comment">// make sure that the loads are of the same kind</span>
      AssertThrow(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256">getLoadNameEnumID</a>() == load_set.<a class="code" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a">getLoadNameEnumID</a>(), ExcInternalError());
      
      load_vec.clear();
      <span class="comment">// finally, ask the load set to return the load vector</span>
      load_set.<a class="code" href="class_surface_load_set.html#ad8ddf83ec1cd1982ecd65bb04b66632b" title="This will find loads for the specified side of an element.">getLoadsForElementSide</a>(load_info.<a class="code" href="class_loads_1_1_elem_load_data_info.html#a775385895e7aabdc9c5dc1e81b6ad56f">getElemID</a>(), load_info.<a class="code" href="class_loads_1_1_surface_load_data_info.html#aac595c7fef5946a3c365c35ad51a448d">getSurfaceID</a>(),
                                      load_vec);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j &lt; load_vec.size(); j++)
        load_combo.<a class="code" href="class_loads_1_1_surface_load_combination.html#a947268d181e1fc5ed363e0e2283f07bf">addLoad</a>(load_pair[i].second, load_vec[j]);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_load_database_8_c_a66d56e712b20bd851801321c03e0137e_cgraph.gif" border="0" usemap="#_load_database_8_c_a66d56e712b20bd851801321c03e0137e_cgraph" alt=""/></div>
<map name="_load_database_8_c_a66d56e712b20bd851801321c03e0137e_cgraph" id="_load_database_8_c_a66d56e712b20bd851801321c03e0137e_cgraph">
<area shape="rect" id="node3" href="class_loads_1_1_elem_load_data_info.html#a775385895e7aabdc9c5dc1e81b6ad56f" title="Loads::ElemLoadDataInfo::getElemID" alt="" coords="627,5,872,33"/><area shape="rect" id="node5" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4" title="Loads::LoadDataInfoBase::getLoadCaseID" alt="" coords="612,57,887,85"/><area shape="rect" id="node7" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor" alt="" coords="610,109,889,137"/><area shape="rect" id="node9" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256" title="Loads::LoadDataInfoBase::getLoadNameEnumID" alt="" coords="592,161,907,189"/><area shape="rect" id="node11" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a" title="LoadSetBase::getLoadNameEnumID" alt="" coords="629,213,870,241"/><area shape="rect" id="node13" href="class_surface_load_set.html#ad8ddf83ec1cd1982ecd65bb04b66632b" title="This will find loads for the specified side of an element." alt="" coords="612,265,887,293"/><area shape="rect" id="node15" href="class_loads_1_1_surface_load_data_info.html#aac595c7fef5946a3c365c35ad51a448d" title="Loads::SurfaceLoadDataInfo::getSurfaceID" alt="" coords="611,317,887,345"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb539b648eeef02d03679f2284dc54a2"></a><!-- doxytag: member="LoadDatabase.C::LoadDatabase::getLoadCombination&lt; Loads::VolumeLoadDataInfo, Loads::VolumeLoadCombination &gt;" ref="adb539b648eeef02d03679f2284dc54a2" args="(const Loads::VolumeLoadDataInfo &amp;load_info, Loads::VolumeLoadCombination &amp;load_combo)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_load_database.html#a610750d55cf14685fd5dbd51a02a06bd">LoadDatabase::getLoadCombination</a>&lt; <a class="el" href="class_loads_1_1_volume_load_data_info.html">Loads::VolumeLoadDataInfo</a>, <a class="el" href="class_loads_1_1_volume_load_combination.html">Loads::VolumeLoadCombination</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_loads_1_1_volume_load_data_info.html">Loads::VolumeLoadDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>load_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_loads_1_1_volume_load_combination.html">Loads::VolumeLoadCombination</a> &amp;&#160;</td>
          <td class="paramname"><em>load_combo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_load_database_8_c_source.html#l00235">235</a> of file <a class="el" href="_load_database_8_c_source.html">LoadDatabase.C</a>.</p>

<p>References <a class="el" href="_load_data_info_8_c_source.html#l00221">Loads::ElemLoadDataInfo::getElemID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00078">Loads::LoadDataInfoBase::getLoadCaseID()</a>, <a class="el" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63">LoadCaseBase::getLoadFactorLoadSetPair()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00115">Loads::LoadDataInfoBase::getLoadNameEnumID()</a>, <a class="el" href="_load_set_8_c_source.html#l00044">LoadSetBase::getLoadNameEnumID()</a>, and <a class="el" href="_load_set_8_c_source.html#l00092">VolumeLoadSet::getLoadsForElement()</a>.</p>
<div class="fragment"><pre class="fragment">{
  load_combo.<a class="code" href="class_loads_1_1_load_combination_base.html#aa6853669882a9200f94582dad1b9811d">clear</a>();
  
  <span class="keyword">static</span> std::vector&lt;const VolumeLoad*&gt; load_vec;
  load_vec.clear();
  
  <span class="keyword">static</span> std::vector&lt;std::pair&lt;unsigned int, double&gt; &gt; load_pair;
  load_pair.clear();
  
  <span class="keyword">const</span> <a class="code" href="class_load_case_base.html">LoadCaseBase</a>&amp; load_case = this-&gt;getLoadCaseFromID(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4">getLoadCaseID</a>());
  
  load_case.<a class="code" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor">getLoadFactorLoadSetPair</a>(load_info, load_pair);
  
  <span class="comment">// iterate over the load pairs, and add the loads to the load vector</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; load_pair.size(); i++)
    {
      <span class="keyword">const</span> <a class="code" href="class_volume_load_set.html">VolumeLoadSet</a>&amp; load_set = 
      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_volume_load_set.html">VolumeLoadSet</a>&amp;<span class="keyword">&gt;</span>(this-&gt;getLoadSetFromID(load_pair[i].first));
      
      <span class="comment">// make sure that the loads are of the same kind</span>
      AssertThrow(load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256">getLoadNameEnumID</a>() == load_set.<a class="code" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a">getLoadNameEnumID</a>(), ExcInternalError());
      
      load_vec.clear();
      <span class="comment">// finally, ask the load set to return the load vector</span>
      load_set.<a class="code" href="class_volume_load_set.html#aeaf8a965cd75ddc514bd2751370862ee">getLoadsForElement</a>(load_info.<a class="code" href="class_loads_1_1_elem_load_data_info.html#a775385895e7aabdc9c5dc1e81b6ad56f">getElemID</a>(), load_vec);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j &lt; load_vec.size(); j++)
        load_combo.<a class="code" href="class_loads_1_1_volume_load_combination.html#a5ba3071837f1af68c5853978d1182b40">addLoad</a>(load_pair[i].second, load_vec[j]);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_load_database_8_c_adb539b648eeef02d03679f2284dc54a2_cgraph.gif" border="0" usemap="#_load_database_8_c_adb539b648eeef02d03679f2284dc54a2_cgraph" alt=""/></div>
<map name="_load_database_8_c_adb539b648eeef02d03679f2284dc54a2_cgraph" id="_load_database_8_c_adb539b648eeef02d03679f2284dc54a2_cgraph">
<area shape="rect" id="node3" href="class_loads_1_1_elem_load_data_info.html#a775385895e7aabdc9c5dc1e81b6ad56f" title="Loads::ElemLoadDataInfo::getElemID" alt="" coords="624,5,869,33"/><area shape="rect" id="node5" href="class_loads_1_1_load_data_info_base.html#a1f0710e06ff745c44782be6c6edeb1e4" title="Loads::LoadDataInfoBase::getLoadCaseID" alt="" coords="609,57,884,85"/><area shape="rect" id="node7" href="class_load_case_base.html#a2aec7c5c87ca56abf4020e14108b9c63" title="fills the vector with the load set ID and its load factor" alt="" coords="607,109,886,137"/><area shape="rect" id="node9" href="class_loads_1_1_load_data_info_base.html#a0674106b5fc7b399a77deac3c5eae256" title="Loads::LoadDataInfoBase::getLoadNameEnumID" alt="" coords="589,161,904,189"/><area shape="rect" id="node11" href="class_load_set_base.html#a201d6264d050a98a4c0e42d30d209c3a" title="LoadSetBase::getLoadNameEnumID" alt="" coords="626,213,867,241"/><area shape="rect" id="node13" href="class_volume_load_set.html#aeaf8a965cd75ddc514bd2751370862ee" title="VolumeLoadSet::getLoadsForElement" alt="" coords="623,265,870,293"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 12 2012 18:06:19 for fesystem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
