<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fesystem: FESystemElem::StructuralElem Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">fesystem
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_f_e_system_elem.html">FESystemElem</a>      </li>
      <li class="navelem"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html">StructuralElem</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">FESystemElem::StructuralElem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="FESystemElem::StructuralElem" --><!-- doxytag: inherits="FESystemElem::FESystemElemBase" -->
<p><code>#include &lt;<a class="el" href="structural__elem_8h_source.html">structural_elem.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FESystemElem::StructuralElem:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_elem_1_1_structural_elem__inherit__graph.gif" border="0" usemap="#_f_e_system_elem_1_1_structural_elem_inherit__map" alt="Inheritance graph"/></div>
<map name="_f_e_system_elem_1_1_structural_elem_inherit__map" id="_f_e_system_elem_1_1_structural_elem_inherit__map">
<area shape="rect" id="node5" href="class_f_e_system_elem_1_1_membrane.html" title="FESystemElem::Membrane" alt="" coords="5,161,189,189"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_plate_d_k_batoz.html" title="FESystemElem::PlateDKBatoz" alt="" coords="213,161,416,189"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_plate_von_karman.html" title="FESystemElem::PlateVonKarman" alt="" coords="440,161,660,189"/><area shape="rect" id="node2" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html" title="FESystemElem::FESystemElemBase" alt="" coords="193,6,436,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for FESystemElem::StructuralElem:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_elem_1_1_structural_elem__coll__graph.gif" border="0" usemap="#_f_e_system_elem_1_1_structural_elem_coll__map" alt="Collaboration graph"/></div>
<map name="_f_e_system_elem_1_1_structural_elem_coll__map" id="_f_e_system_elem_1_1_structural_elem_coll__map">
<area shape="rect" id="node2" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html" title="FESystemElem::FESystemElemBase" alt="" coords="1845,293,2088,321"/><area shape="rect" id="node4" href="class_elem_data_card.html" title="ElemDataCard" alt="" coords="1508,62,1617,90"/><area shape="rect" id="node6" href="class_property_1_1_property_card_3_01double_01_4.html" title="this is a specialization of the class for property values that are stored as double" alt="" coords="1083,7,1304,35"/><area shape="rect" id="node8" href="class_property_1_1_property_card_base.html" title="Property::PropertyCardBase" alt="" coords="564,7,753,35"/><area shape="rect" id="node10" href="class_function_database.html" title="FunctionDatabase" alt="" coords="59,7,189,35"/><area shape="rect" id="node12" href="class_property_1_1_property_database.html" title="Property::PropertyDatabase" alt="" coords="872,67,1059,95"/><area shape="rect" id="node14" href="class_f_e_system_1_1_f_e_system_controller.html" title="FESystem::FESystemController" alt="" coords="19,329,229,357"/><area shape="rect" id="node16" href="class_discipline_1_1_analysis_discipline_base.html" title="Discipline::AnalysisDisciplineBase" alt="" coords="1451,293,1674,321"/><area shape="rect" id="node20" href="class_solution_1_1_solution_base.html" title="this class provides the base functionality for all solutions" alt="" coords="581,399,736,427"/><area shape="rect" id="node33" href="class_driver_1_1_analysis_driver.html" title="Driver::AnalysisDriver" alt="" coords="1119,535,1268,563"/><area shape="rect" id="node18" href="class_discipline_1_1_discipline_info.html" title="Discipline::DisciplineInfo" alt="" coords="1111,345,1276,373"/><area shape="rect" id="node23" href="class_mesh_d_s_1_1_f_e_dof_map.html" title="MeshDS::FEDofMap" alt="" coords="1122,462,1265,490"/><area shape="rect" id="node26" href="class_mesh_d_s_1_1_f_e_mesh_data.html" title="MeshDS::FEMeshData" alt="" coords="1114,241,1272,269"/><area shape="rect" id="node28" href="class_mesh_d_s_1_1_f_e_mesh.html" title="MeshDS::FEMesh" alt="" coords="594,143,723,171"/><area shape="rect" id="node31" href="class_f_e_system_utility_1_1_loaded_solution.html" title="this class is a data structure that stores loaded solution from the database" alt="" coords="1086,189,1301,217"/><area shape="rect" id="node36" href="class_solver_1_1_f_e_system_solver_base.html" title="Solver::FESystemSolverBase" alt="" coords="1465,559,1661,587"/><area shape="rect" id="node39" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; NumericVector\&lt; double \&gt; \&gt;" alt="" coords="469,594,848,622"/><area shape="rect" id="node41" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; T \&gt;" alt="" coords="6,594,242,622"/><area shape="rect" id="node44" href="class_design_data_1_1_design_parameter.html" title="this class forms the base class for all design parameters." alt="" coords="558,542,760,570"/><area shape="rect" id="node46" href="class_element_data_storage.html" title="ElementDataStorage" alt="" coords="1490,345,1635,373"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_f_e_system_elem_1_1_structural_elem-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ac6e01925a1242e1c6b8f73fe32fdb7d8">StructuralElem</a> (const unsigned int dim, const unsigned int elem_enum_ID, <a class="el" href="class_discipline_1_1_analysis_discipline_base.html">Discipline::AnalysisDisciplineBase</a> &amp;discipline)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7c016a0696aac96b8c2a297cfca4dbde">~StructuralElem</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a10f0727d6eee97f4c5c24e793dc0a789">getNDofs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#af052ca3c566c242e4fb9a411df709be3">getTransientSystemOrder</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#aefda9f72f79defcaa764413e4644ba78">getElementAssembledQty</a> (const unsigned int name_enum_ID, DenseVector&lt; double &gt; *qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a9b0cf00dcc5dc9ff2c87f206774a6cb4">getElementAssembledQty</a> (const unsigned int name_enum_ID, DenseMatrix&lt; double &gt; *qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7d182c6274b85497e5f65be3c8304668">getElementAssembledQtySensitivity</a> (const unsigned int name_enum_ID, DenseVector&lt; double &gt; *qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#aed5fab5a22069c9568d18f1e9bfe1ab5">getElementAssembledQtySensitivity</a> (const unsigned int name_enum_ID, DenseMatrix&lt; double &gt; *qty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_elem_post_process_qty.html">ElemPostProcessQty</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ab9be36a1a1bb9dee0a23194a0a79211d">getElementPostProcessQty</a> (std::vector&lt; unsigned int &gt;, std::vector&lt; <a class="el" href="class_design_data_1_1_design_parameter.html">DesignData::DesignParameter</a> * &gt;)=0</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a> (DenseMatrix&lt; double &gt; *qty, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ac0dc72b883e9fc4ebe7533d4e8de0eb9">calculateAssembledQty</a> (DenseVector&lt; double &gt; *qty, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a5b448e76e2d8c3d4fe1d9b2776cfcfc9">extractNodalTemperatureVectorFromLoads</a> (DenseVector&lt; double &gt; &amp;temp_vec, bool sensitivity)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507">getStructuralT_matrix</a> (DenseMatrix&lt; double &gt; *matrix, const unsigned int design_point_enum_ID, bool shape_sensitivity)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the transformation matrix for the structural element  <a href="#af2ff1dec83f836f216c8c4bebcc08507"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a4afeb5a62dae236abfa0e77a00e8b391">calculate_M</a> (DenseMatrix&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7f78e4e0648e93e586de6df36e2e0e33">calculate_K</a> (DenseMatrix&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates and returns the element stiffness matrix  <a href="#a7f78e4e0648e93e586de6df36e2e0e33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a5dd6489faee097e247394758efbd887b">calculate_K_G</a> (DenseMatrix&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates and returns the element geometric stiffness matrix  <a href="#a5dd6489faee097e247394758efbd887b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a300e2538a1d3cdb9bf89f3410732850f">calculate_F_Pressure</a> (DenseVector&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates and returns the element pressure vector  <a href="#a300e2538a1d3cdb9bf89f3410732850f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ad8766a86a72b2b1f7c8d7f4ca3810cda">calculate_F_T</a> (DenseVector&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates and returns the element thermal load vector  <a href="#ad8766a86a72b2b1f7c8d7f4ca3810cda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a9e6a953347040cfc0f495352802230e4">calculate_F_B</a> (DenseVector&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a382a89f549c281a91676667ed51c6baf">initPropertyCard</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ab344664834e6f8fbc70c4100d96a035c">clearPropertyCardInitialization</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">this clears the temperature initialization only for the property cards.  <a href="#ab344664834e6f8fbc70c4100d96a035c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="structural__elem_8h_source.html#l00151">151</a> of file <a class="el" href="structural__elem_8h_source.html">structural_elem.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac6e01925a1242e1c6b8f73fe32fdb7d8"></a><!-- doxytag: member="FESystemElem::StructuralElem::StructuralElem" ref="ac6e01925a1242e1c6b8f73fe32fdb7d8" args="(const unsigned int dim, const unsigned int elem_enum_ID, Discipline::AnalysisDisciplineBase &amp;discipline)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ac6e01925a1242e1c6b8f73fe32fdb7d8">FESystemElem::StructuralElem::StructuralElem</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>elem_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_discipline_1_1_analysis_discipline_base.html">Discipline::AnalysisDisciplineBase</a> &amp;&#160;</td>
          <td class="paramname"><em>discipline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00028">28</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">                                              :
  <a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aef9c74acc51e534acc4bc932b94aad4d">FESystemElem::FESystemElemBase</a>(dim, elem_enum_ID, discipline)
{

}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c016a0696aac96b8c2a297cfca4dbde"></a><!-- doxytag: member="FESystemElem::StructuralElem::~StructuralElem" ref="a7c016a0696aac96b8c2a297cfca4dbde" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7c016a0696aac96b8c2a297cfca4dbde">FESystemElem::StructuralElem::~StructuralElem</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00039">39</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
        
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9e6a953347040cfc0f495352802230e4"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculate_F_B" ref="a9e6a953347040cfc0f495352802230e4" args="(DenseVector&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a9e6a953347040cfc0f495352802230e4">FESystemElem::StructuralElem::calculate_F_B</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this will calculate the body force for the element </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>in which the force vector will be stored and returned </td></tr>
    <tr><td class="paramname">bool</td><td>if the sensitivity is needed or not. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00329">329</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  (void) vector;
  (void) design_point_enum_ID;
  (void) sensitivity_calculation;

}
</pre></div>
</div>
</div>
<a class="anchor" id="a300e2538a1d3cdb9bf89f3410732850f"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculate_F_Pressure" ref="a300e2538a1d3cdb9bf89f3410732850f" args="(DenseVector&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a300e2538a1d3cdb9bf89f3410732850f">FESystemElem::StructuralElem::calculate_F_Pressure</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates and returns the element pressure vector </p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00155">155</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>

<p>References <a class="el" href="_property_parameter_8h_source.html#l00015">PROPERTY_PARAMETER_ENUM_ID</a>, and <a class="el" href="_shape_parameter_8h_source.html#l00014">SHAPE_PARAMETER_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  
  std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::SurfaceLoadCombination*&gt; &gt;::const_iterator 
    load_map_it, load_sens_map_it;
  std::map&lt;unsigned int, const Loads::SurfaceLoadCombination*&gt;::const_iterator 
    load_iterator, end_iterator,                <span class="comment">// iterators for the loads</span>
    load_sens_iterator;         <span class="comment">// iterators for the load sensitivities</span>
  
  <span class="comment">// if no loads exist return from the function with an arguement false</span>
  <span class="comment">// this implies that the quantity is zero and need not be processed</span>
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3d7fda463ee208755f71aaf57b1b4c71">surface_loads</a>-&gt;count(SURFACE_PRESSURE::num()) == 0)
    <span class="keywordflow">return</span>;
  <span class="keywordflow">else</span>
    load_map_it = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3d7fda463ee208755f71aaf57b1b4c71">surface_loads</a>-&gt;find(SURFACE_PRESSURE::num());
  
  <span class="comment">// obtain the two iterators as separate values</span>
  load_iterator = load_map_it-&gt;second.begin();
  end_iterator = load_map_it-&gt;second.end();
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> side_num;
  <span class="keywordtype">bool</span> load_on_elem_face;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_sides; 
  n_sides =
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a28c863a4fa859e3b5725bb0688412806">geometric_elems_for_DV_map</a>.find(design_point_enum_ID)-&gt;second-&gt;n_sides();

  <span class="keywordtype">double</span> load_val, load_val_sens;
  load_val = 0.0; load_val_sens = 0.0;
  
  <span class="comment">// process the load and update the element load vector.</span>
  <span class="keywordflow">for</span> (; load_iterator != end_iterator; load_iterator++)
    {
      side_num = load_iterator-&gt;second-&gt;getSurfaceID();
      
      <span class="comment">// for 2-D elements, the element face itself can carry a surface flux load.</span>
      load_on_elem_face = <span class="keyword">false</span>;
      
      <span class="keywordflow">if</span> (n_sides == side_num)
        load_on_elem_face = <span class="keyword">true</span>;
      
      <span class="keywordtype">double</span> factor, factor_sens;
      factor = 0.0; factor_sens = 0.0;
      
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a64b94b8ee8c56abfdf2bfeb2db8f5212" title="dimension of the element">dimension</a>)
        {
        <span class="keywordflow">case</span> 1:
          {
            this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_property_1_1_property_card_3_01double_01_4.html#aa4029e1e403519cf9003458d2d788e65" title="this method returns the value of a property">getPropertyValue</a>(AREA::num(), factor);
            <span class="keywordflow">if</span> (sensitivity_calculation)
              this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_property_1_1_property_card_3_01double_01_4.html#a530325d5a9a887c5ae7919ac04a5b89b">getPropertyDerivativeForGlobalParameter</a>
                (AREA::num(), this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a1d540209d4fbc8e392a85d8b0d104196" title="ID of the sensitivity parameter.">sensitivity_parameter_ID</a>, factor_sens);
          }
          <span class="keywordflow">break</span>;
                                
        <span class="keywordflow">case</span> 2:
          {
            <span class="comment">// the integration will be different if the load is on the element face</span>
            <span class="keywordflow">if</span> (load_on_elem_face)
              {
                factor =  1.0;
                factor_sens = 0.0;
              }
            <span class="keywordflow">else</span> 
              {
                this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_property_1_1_property_card_3_01double_01_4.html#aa4029e1e403519cf9003458d2d788e65" title="this method returns the value of a property">getPropertyValue</a>(THICKNESS_2D_ELEM::num(), factor);
                <span class="keywordflow">if</span> (sensitivity_calculation)
                  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_property_1_1_property_card_3_01double_01_4.html#a530325d5a9a887c5ae7919ac04a5b89b">getPropertyDerivativeForGlobalParameter</a>
                    (THICKNESS_2D_ELEM::num(), this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a1d540209d4fbc8e392a85d8b0d104196" title="ID of the sensitivity parameter.">sensitivity_parameter_ID</a>, factor_sens);
              }
          }
          <span class="keywordflow">break</span>;
        
        <span class="keywordflow">case</span> 3:
          {
            factor = 1.0;
            factor_sens = 0.0;
          }
          <span class="keywordflow">break</span>;
        }
                
      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> domain = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0a233a1ea240348c578b8c66947f59c1">getDomainEnumFromSideNumber</a>(side_num);
 
      <span class="keyword">static</span> DenseVector&lt;double&gt; qty, qty_sens;
      <span class="keyword">static</span> DenseVector&lt;double&gt; surf_normal(3), surf_normal_sens(3);
      qty.zero(); qty_sens.zero();
      surf_normal.zero(); surf_normal_sens.zero();
   
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::SURFACE_NORMAL::num(), &amp;surf_normal, 
                               design_point_enum_ID, domain, INVALID_FE);

      
      load_val = 
        <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_loads_1_1_scalar_surface_load_combination.html">Loads::ScalarSurfaceLoadCombination</a>*<span class="keyword">&gt;</span>(load_iterator-&gt;second)-&gt;getValue();

      <span class="keywordflow">if</span> (sensitivity_calculation)
        {
        <span class="comment">// get the iterator for the load sensitivity</span>
        load_sens_map_it = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#acba94cde0c083ff023592b46f2d6391e">surface_load_sens</a>-&gt;find(SURFACE_PRESSURE::num());
        <span class="comment">// if the load exists, its sensitivity should also be specified</span>
        Assert(load_sens_map_it != this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#acba94cde0c083ff023592b46f2d6391e">surface_load_sens</a>-&gt;end(), 
               ExcInternalError());
        load_sens_iterator = load_sens_map_it-&gt;second.find(side_num);
        AssertThrow(load_sens_iterator != load_sens_map_it-&gt;second.end(),
               ExcInternalError());
        
        load_val_sens = 
          <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_loads_1_1_scalar_surface_load_combination.html">Loads::ScalarSurfaceLoadCombination</a>*<span class="keyword">&gt;</span>(load_sens_iterator-&gt;second)-&gt;getValue();
        
          <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3642ed0e6582c57a21ffc02b44890ad4" title="type of the sensitivity parameter">sensitivity_parameter</a>)
            {         
            <span class="keywordflow">case</span> <a class="code" href="_property_parameter_8h.html#a80cffea30c32206041836bb3b44294e5">PROPERTY_PARAMETER_ENUM_ID</a>:
              {
                this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::N_FACTOR::num(), &amp;qty, 
                                         design_point_enum_ID, domain, LAGRANGE);
           
                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;3; i++)
                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;n_nodes; j++)
                    {
                      (*vector)(i*n_nodes + j) = qty(j) * surf_normal(i) * 
                        (factor * load_val_sens + factor_sens * load_val);
                    }
              }
              <span class="keywordflow">break</span>;
           
            <span class="keywordflow">case</span> <a class="code" href="_shape_parameter_8h.html#ac516f3dcf880878bbcd0ee739b4cda5c">SHAPE_PARAMETER_ENUM_ID</a>:
              {
                this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::N_FACTOR::num(), &amp;qty, 
                                         design_point_enum_ID, domain, LAGRANGE);
           
           
                this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#afa027c1230bd104db07d72e0df21869a">getFESystemElemQtyShapeSensitivity</a>(FESystemElem::N_FACTOR::num(), 
                                                         &amp;qty_sens, domain, LAGRANGE);
           
                this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#afa027c1230bd104db07d72e0df21869a">getFESystemElemQtyShapeSensitivity</a>(FESystemElem::SURFACE_NORMAL::num(), 
                                                         &amp;surf_normal_sens, domain, LAGRANGE);
           
                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;3; i++)
                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;n_nodes; j++)
                    {
                      (*vector)(i*n_nodes + j) = 
                        factor * (qty(j) * (surf_normal(i) * load_val_sens + 
                                            surf_normal_sens(i) * load_val) + 
                                  qty_sens(j) * surf_normal(i) * load_val);
                    }
              }
              <span class="keywordflow">break</span>;
               
            <span class="keywordflow">default</span>:
              abort();
              <span class="keywordflow">break</span>;
            }
        }
      <span class="keywordflow">else</span>
        {
          this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::N_FACTOR::num(), &amp;qty, 
                                   design_point_enum_ID, domain, LAGRANGE);
     
          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;3; i++)
            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;n_nodes; j++)
              (*vector)(i*n_nodes + j) = qty(j) * surf_normal(i) * factor * load_val;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad8766a86a72b2b1f7c8d7f4ca3810cda"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculate_F_T" ref="ad8766a86a72b2b1f7c8d7f4ca3810cda" args="(DenseVector&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ad8766a86a72b2b1f7c8d7f4ca3810cda">FESystemElem::StructuralElem::calculate_F_T</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates and returns the element thermal load vector </p>

<p>Implemented in <a class="el" href="class_f_e_system_elem_1_1_plate_d_k_batoz.html#a57678b90ecb737cd288e7ba13dcdea0a">FESystemElem::PlateDKBatoz</a>, <a class="el" href="class_f_e_system_elem_1_1_plate_von_karman.html#a866231c8eb523f810e5e0db5e7bbc356">FESystemElem::PlateVonKarman</a>, and <a class="el" href="class_f_e_system_elem_1_1_membrane.html#a175080cdb3ef965ed0ba0a412a5e5a7c">FESystemElem::Membrane</a>.</p>

</div>
</div>
<a class="anchor" id="a7f78e4e0648e93e586de6df36e2e0e33"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculate_K" ref="a7f78e4e0648e93e586de6df36e2e0e33" args="(DenseMatrix&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7f78e4e0648e93e586de6df36e2e0e33">FESystemElem::StructuralElem::calculate_K</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates and returns the element stiffness matrix </p>

<p>Implemented in <a class="el" href="class_f_e_system_elem_1_1_plate_d_k_batoz.html#abe2e98d1f2ca98932b26d331d7db17ec">FESystemElem::PlateDKBatoz</a>, <a class="el" href="class_f_e_system_elem_1_1_plate_von_karman.html#afdeb8b9e2b3f3d76e56f959dd8f0ddc2">FESystemElem::PlateVonKarman</a>, and <a class="el" href="class_f_e_system_elem_1_1_membrane.html#a51512dbd373cc96b6e1356886935880b">FESystemElem::Membrane</a>.</p>

</div>
</div>
<a class="anchor" id="a5dd6489faee097e247394758efbd887b"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculate_K_G" ref="a5dd6489faee097e247394758efbd887b" args="(DenseMatrix&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a5dd6489faee097e247394758efbd887b">FESystemElem::StructuralElem::calculate_K_G</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates and returns the element geometric stiffness matrix </p>

<p>Implemented in <a class="el" href="class_f_e_system_elem_1_1_plate_d_k_batoz.html#a01d5265cce1add13b828b5cec72ba87b">FESystemElem::PlateDKBatoz</a>, <a class="el" href="class_f_e_system_elem_1_1_plate_von_karman.html#abc93dba7600b02a90134655253b1f904">FESystemElem::PlateVonKarman</a>, and <a class="el" href="class_f_e_system_elem_1_1_membrane.html#a07f0609dcb07f9f42de7cbbf022ed2ad">FESystemElem::Membrane</a>.</p>

</div>
</div>
<a class="anchor" id="a4afeb5a62dae236abfa0e77a00e8b391"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculate_M" ref="a4afeb5a62dae236abfa0e77a00e8b391" args="(DenseMatrix&lt; double &gt; *, const unsigned int design_point_enum_ID, bool sensitivity_calculation)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a4afeb5a62dae236abfa0e77a00e8b391">FESystemElem::StructuralElem::calculate_M</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will calculate the matrix of the element, and fill the matrix passed as the arguement. The second arguement is the name of the property, which, if passed to this function, will make the function calculate the sensitivity of the qty wrt the property </p>

<p>Implemented in <a class="el" href="class_f_e_system_elem_1_1_plate_d_k_batoz.html#a71146714bfa188a131f85c15a8f8fc53">FESystemElem::PlateDKBatoz</a>, <a class="el" href="class_f_e_system_elem_1_1_plate_von_karman.html#a2f6a67797908452cd31b886cad651e3d">FESystemElem::PlateVonKarman</a>, and <a class="el" href="class_f_e_system_elem_1_1_membrane.html#a57a9ef8dea4a4be05355d8e87b17e1da">FESystemElem::Membrane</a>.</p>

</div>
</div>
<a class="anchor" id="a8cef092c38704b4e156d3b9bdfa8a46d"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculateAssembledQty" ref="a8cef092c38704b4e156d3b9bdfa8a46d" args="(DenseMatrix&lt; double &gt; *qty, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">FESystemElem::StructuralElem::calculateAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to direct the call to appropriate calculation routine based on the quantity seeked. The arguements are: </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>of quantity to return the data in </td></tr>
    <tr><td class="paramname">quantity</td><td>name </td></tr>
    <tr><td class="paramname">bool</td><td>specifying if sensitivity has been asked </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00049">49</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (quantity != NULL);
        
  <span class="keywordflow">switch</span> (qty_name)
    {
    <span class="keywordflow">case</span> STRUCTURAL_M_MATRIX_ENUM_ID:
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a4afeb5a62dae236abfa0e77a00e8b391">calculate_M</a>(quantity,design_point_enum_ID, sensitivity_calc);
      <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> STRUCTURAL_K_MATRIX_ENUM_ID:
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a7f78e4e0648e93e586de6df36e2e0e33" title="calculates and returns the element stiffness matrix">calculate_K</a>(quantity,design_point_enum_ID, sensitivity_calc);
      <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> STRUCTURAL_K_G_MATRIX_ENUM_ID:
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a5dd6489faee097e247394758efbd887b" title="calculates and returns the element geometric stiffness matrix">calculate_K_G</a>(quantity,design_point_enum_ID, sensitivity_calc);
      <span class="keywordflow">break</span>;
                        
    <span class="keywordflow">case</span> STRUCTURAL_C_MATRIX_ENUM_ID:
    <span class="keywordflow">case</span> STRUCTURAL_F_T_VECTOR_ENUM_ID:
    <span class="keywordflow">case</span> STRUCTURAL_F_PRESSURE_VECTOR_ENUM_ID:
    <span class="keywordflow">default</span>:
      abort();
      <span class="keywordflow">break</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac0dc72b883e9fc4ebe7533d4e8de0eb9"></a><!-- doxytag: member="FESystemElem::StructuralElem::calculateAssembledQty" ref="ac0dc72b883e9fc4ebe7533d4e8de0eb9" args="(DenseVector&lt; double &gt; *qty, const unsigned int qty_enum_ID, const unsigned int design_point_enum_ID, bool sensitivity_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">FESystemElem::StructuralElem::calculateAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity_calculation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to direct the call to appropriate calculation routine based on the quantity seeked. The arguements are: </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>of quantity to return the data in </td></tr>
    <tr><td class="paramname">quantity</td><td>name </td></tr>
    <tr><td class="paramname">bool</td><td>specifying if sensitivity has been asked </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00084">84</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (quantity != NULL);
        
  <span class="keywordflow">switch</span> (qty_name)
    {                   
    <span class="keywordflow">case</span> STRUCTURAL_F_T_VECTOR_ENUM_ID:
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#ad8766a86a72b2b1f7c8d7f4ca3810cda" title="calculates and returns the element thermal load vector">calculate_F_T</a>(quantity, design_point_enum_ID, sensitivity_calc);
      <span class="keywordflow">break</span>;
                        
    <span class="keywordflow">case</span> STRUCTURAL_F_PRESSURE_VECTOR_ENUM_ID:
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a300e2538a1d3cdb9bf89f3410732850f" title="calculates and returns the element pressure vector">calculate_F_Pressure</a>(quantity, design_point_enum_ID, sensitivity_calc);
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> STRUCTURAL_M_MATRIX_ENUM_ID:
    <span class="keywordflow">case</span> STRUCTURAL_C_MATRIX_ENUM_ID:
    <span class="keywordflow">case</span> STRUCTURAL_K_MATRIX_ENUM_ID:
    <span class="keywordflow">default</span>:
      abort();
      <span class="keywordflow">break</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab344664834e6f8fbc70c4100d96a035c"></a><!-- doxytag: member="FESystemElem::StructuralElem::clearPropertyCardInitialization" ref="ab344664834e6f8fbc70c4100d96a035c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ab344664834e6f8fbc70c4100d96a035c">FESystemElem::StructuralElem::clearPropertyCardInitialization</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>this clears the temperature initialization only for the property cards. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a20f20f167cd63cd88fbed89f5f4fa6c8">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00822">822</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> std::vector&lt;unsigned int&gt; param_vec;
  <span class="keyword">static</span> std::vector&lt;unsigned int&gt; no_param_vec;
  
  <span class="keywordflow">if</span> (param_vec.size() != 0)
    param_vec.push_back(Property::TEMPERATURE::num());
  
  <span class="comment">// if the properties are temperature dependent, then initialize the</span>
  <span class="comment">// element property cards at the element average temperature</span>
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a12d0a7a9c33167a9af367e0423372f3f" title="the discipline that owns this element">analysis_discipline</a>.<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a6dc9ef38729f861b96bf31634e24b5d0" title="checks if the analysis is dependent on temperature">checkPropertyDependenceOnTemperature</a>())
    {
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_elem_data_card.html#ab50a2a6c9317349ae278ad3859c103b5">partialClearElemAndMaterialCardLocalParameterInitialization</a>
        (param_vec);
    }
  <span class="keywordflow">else</span>
    {
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_elem_data_card.html#ab50a2a6c9317349ae278ad3859c103b5">partialClearElemAndMaterialCardLocalParameterInitialization</a>
        (no_param_vec);
    }
  
  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a> = <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5b448e76e2d8c3d4fe1d9b2776cfcfc9"></a><!-- doxytag: member="FESystemElem::StructuralElem::extractNodalTemperatureVectorFromLoads" ref="a5b448e76e2d8c3d4fe1d9b2776cfcfc9" args="(DenseVector&lt; double &gt; &amp;temp_vec, bool sensitivity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a5b448e76e2d8c3d4fe1d9b2776cfcfc9">FESystemElem::StructuralElem::extractNodalTemperatureVectorFromLoads</a> </td>
          <td>(</td>
          <td class="paramtype">DenseVector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>temp_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will return the nodal temperature vector in the first arguement of the function </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>in which the temperatures will be returned </td></tr>
    <tr><td class="paramname">bool</td><td>indicating if sensitivity is being sought </td></tr>
    <tr><td class="paramname">DV</td><td>ID </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00850">850</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>

<p>References <a class="el" href="_f_e_mesh_data_8h_source.html#l00199">MeshDS::FEMeshData::getForeignIDFromNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a6fe26f9330ed18e31a48566c38f2d723">nodal_loads</a> != NULL, ExcInternalError());
  <span class="keywordflow">if</span> (sensitivity)
    Assert(this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a1e7890a73189ba254365d0f6b08f4fe1">nodal_load_sens</a> != NULL, ExcInternalError());
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  <span class="keywordtype">double</span> val;
  val = 0.0;

  val = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a12d0a7a9c33167a9af367e0423372f3f" title="the discipline that owns this element">analysis_discipline</a>.<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a28478797fd744e7360306caca230b7be">getFESystemController</a>().
    analysis_case-&gt;getRealParameter(<span class="stringliteral">&quot;REFERENCE_TEMP&quot;</span>);

  Assert(temp_vec.size() == n_nodes, ExcInternalError());
  temp_vec.zero();
  
  Elem* elem = NULL;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> node_id = 0;
  
  elem = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a28c863a4fa859e3b5725bb0688412806">geometric_elems_for_DV_map</a>[FESystemElem::BASE_ELEM::num()];
  <span class="keyword">const</span> <a class="code" href="class_mesh_d_s_1_1_f_e_mesh_data.html">MeshDS::FEMeshData</a> &amp;mesh_data = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a12d0a7a9c33167a9af367e0423372f3f" title="the discipline that owns this element">analysis_discipline</a>.<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a3f639c67d67b2cfc9d3a949efe6fa46b" title="returns the MeshData for this analysis">getAnalysisMeshData</a>();
  
  std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::NodalLoadCombination*&gt; &gt;::const_iterator
    elem_loads_it, elem_loads_end; 
  
  <span class="keywordflow">if</span> (!sensitivity)
    {
      elem_loads_it = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a6fe26f9330ed18e31a48566c38f2d723">nodal_loads</a>-&gt;find(NODAL_TEMPERATURE::num());
      elem_loads_end = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a6fe26f9330ed18e31a48566c38f2d723">nodal_loads</a>-&gt;end();
    }
  <span class="keywordflow">else</span>
    {
    elem_loads_it = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a1e7890a73189ba254365d0f6b08f4fe1">nodal_load_sens</a>-&gt;find(NODAL_TEMPERATURE::num());
    elem_loads_end = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a1e7890a73189ba254365d0f6b08f4fe1">nodal_load_sens</a>-&gt;end();
    }
  
  <span class="keywordflow">if</span> (elem_loads_it == elem_loads_end)
    {
      <span class="keywordtype">double</span> set_val = sensitivity?0.0:val;
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; n_nodes; i++)
        temp_vec(i) = set_val;
    }
  <span class="keywordflow">else</span>
    {
    std::map&lt;unsigned int, const Loads::NodalLoadCombination*&gt;::const_iterator node_it, node_end;
    node_end = elem_loads_it-&gt;second.end();

    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; n_nodes; i++)
      {
      node_id = mesh_data.<a class="code" href="class_mesh_d_s_1_1_f_e_mesh_data.html#ad50959fe4436d50b9ea69015d4b9690a">getForeignIDFromNode</a>(elem-&gt;get_node(i));
      node_it = elem_loads_it-&gt;second.find(node_id);
      <span class="keywordflow">if</span> (node_it == node_end)
        temp_vec(i) = sensitivity?0.0:val;
      <span class="keywordflow">else</span>
        temp_vec(i) = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_loads_1_1_nodal_point_load_combination.html">Loads::NodalPointLoadCombination</a>*<span class="keyword">&gt;</span>(node_it-&gt;second)-&gt;getValue(0);
      }
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_elem_1_1_structural_elem_a5b448e76e2d8c3d4fe1d9b2776cfcfc9_cgraph.gif" border="0" usemap="#class_f_e_system_elem_1_1_structural_elem_a5b448e76e2d8c3d4fe1d9b2776cfcfc9_cgraph" alt=""/></div>
<map name="class_f_e_system_elem_1_1_structural_elem_a5b448e76e2d8c3d4fe1d9b2776cfcfc9_cgraph" id="class_f_e_system_elem_1_1_structural_elem_a5b448e76e2d8c3d4fe1d9b2776cfcfc9_cgraph">
<area shape="rect" id="node3" href="class_mesh_d_s_1_1_f_e_mesh_data.html#ad50959fe4436d50b9ea69015d4b9690a" title="MeshDS::FEMeshData::getForeignIDFromNode" alt="" coords="526,5,831,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aefda9f72f79defcaa764413e4644ba78"></a><!-- doxytag: member="FESystemElem::StructuralElem::getElementAssembledQty" ref="aefda9f72f79defcaa764413e4644ba78" args="(const unsigned int name_enum_ID, DenseVector&lt; double &gt; *qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#aefda9f72f79defcaa764413e4644ba78">FESystemElem::StructuralElem::getElementAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>name_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will get the matrix or vector quantity for this element specified by the name in the arguement. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00558">558</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(qty != NULL, ExcInternalError());
  
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();

  <span class="keyword">static</span> DenseVector&lt;double&gt; tmp_qty(6*n_nodes);
  <span class="keyword">static</span> DenseMatrix&lt;double&gt; transformation_matrix;

  <span class="keywordflow">if</span> (qty-&gt;size() != (6*n_nodes))
    {
      qty-&gt;resize(6*n_nodes);
      tmp_qty.resize(6*n_nodes);
      transformation_matrix.resize(6*n_nodes, 6*n_nodes);
    }
  
  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a>)
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a382a89f549c281a91676667ed51c6baf">initPropertyCard</a>();
  
  <span class="comment">// get the transformation matrix</span>
  qty-&gt;zero();
  transformation_matrix.zero();
  tmp_qty.zero();
    
  <span class="comment">// calculate quantity and return it</span>
  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a>(&amp;tmp_qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
  
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a64b94b8ee8c56abfdf2bfeb2db8f5212" title="dimension of the element">dimension</a>)
    {
    <span class="keywordflow">case</span> 1:
    <span class="keywordflow">case</span> 2:
      {
        this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507" title="calculates the transformation matrix for the structural element">getStructuralT_matrix</a>(&amp;transformation_matrix, FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
        transformation_matrix.left_multiply_vector(tmp_qty, *qty);
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      {
        <span class="comment">// keep going</span>
      }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9b0cf00dcc5dc9ff2c87f206774a6cb4"></a><!-- doxytag: member="FESystemElem::StructuralElem::getElementAssembledQty" ref="a9b0cf00dcc5dc9ff2c87f206774a6cb4" args="(const unsigned int name_enum_ID, DenseMatrix&lt; double &gt; *qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#aefda9f72f79defcaa764413e4644ba78">FESystemElem::StructuralElem::getElementAssembledQty</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>name_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will get the matrix or vector quantity for this element specified by the name in the arguement. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a6487dc5224dd94a2a5f5781a7960e556">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00507">507</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(qty != NULL, ExcInternalError());
  
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();

  <span class="keyword">static</span> DenseMatrix&lt;double&gt; transformation_matrix(6*n_nodes, 6*n_nodes);

  <span class="keywordflow">if</span> (!(qty-&gt;m() == 6*n_nodes &amp;&amp; qty-&gt;n() == 6*n_nodes))
    {
      qty-&gt;resize(6*n_nodes, 6*n_nodes);
      transformation_matrix.resize(6*n_nodes, 6*n_nodes);
    }
  
  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a>)
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a382a89f549c281a91676667ed51c6baf">initPropertyCard</a>();
  
  <span class="comment">// get the transformation matrix</span>
  transformation_matrix.zero();
  
  qty-&gt;zero();
  
  <span class="comment">// calculate quantity and return it</span>
  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
  
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a64b94b8ee8c56abfdf2bfeb2db8f5212" title="dimension of the element">dimension</a>)
    {
    <span class="keywordflow">case</span> 1:
    <span class="keywordflow">case</span> 2:
      {
        this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507" title="calculates the transformation matrix for the structural element">getStructuralT_matrix</a>(&amp;transformation_matrix, FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
        
        <span class="comment">// for a basic analysis, and property sensitivity, left multiply </span>
        <span class="comment">// with the transformation matrix</span>
        qty-&gt;left_multiply_transpose(transformation_matrix);
        qty-&gt;right_multiply(transformation_matrix);
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      {
        <span class="comment">// keep going</span>
      }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d182c6274b85497e5f65be3c8304668"></a><!-- doxytag: member="FESystemElem::StructuralElem::getElementAssembledQtySensitivity" ref="a7d182c6274b85497e5f65be3c8304668" args="(const unsigned int name_enum_ID, DenseVector&lt; double &gt; *qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7d182c6274b85497e5f65be3c8304668">FESystemElem::StructuralElem::getElementAssembledQtySensitivity</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>name_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function will return the sensitivity quantity by procuring the required information by itself. It will check for the current load case and design variable and perform the operations by itself. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00692">692</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>

<p>References <a class="el" href="_shape_parameter_8h_source.html#l00014">SHAPE_PARAMETER_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(qty != NULL, ExcInternalError());
  
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  <span class="keyword">static</span> DenseMatrix&lt;double&gt; transformation_matrix(6*n_nodes, 6*n_nodes),
    transformation_matrix_sens(6*n_nodes, 6*n_nodes);
  <span class="keyword">static</span> DenseVector&lt;double&gt; tmp_qty(6*n_nodes), basic_qty(6*n_nodes);
  
  <span class="keywordflow">if</span> (qty-&gt;size() != (6*n_nodes))
    {
      qty-&gt;resize(6*n_nodes);
      tmp_qty.resize(6*n_nodes);
      basic_qty.resize(6*n_nodes);
      transformation_matrix.resize(6*n_nodes, 6*n_nodes);
      transformation_matrix_sens.resize(6*n_nodes, 6*n_nodes);
    }
  
  <span class="keywordflow">if</span> (! this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a>)
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a382a89f549c281a91676667ed51c6baf">initPropertyCard</a>();
  
  <span class="comment">// get the transformation matrix</span>
  <span class="comment">// create a quantity and resize it</span>
  transformation_matrix.zero(); transformation_matrix_sens.zero();
  tmp_qty.zero(); basic_qty.zero();
  
  qty-&gt;zero();
    
  <span class="comment">// call the calculation routine</span>
  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">true</span>);
  
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a64b94b8ee8c56abfdf2bfeb2db8f5212" title="dimension of the element">dimension</a>)
    {
    <span class="keywordflow">case</span> 1:
    <span class="keywordflow">case</span> 2:
      {
        <span class="comment">// get the transformation matrix    </span>
        this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507" title="calculates the transformation matrix for the structural element">getStructuralT_matrix</a>(&amp;transformation_matrix, 
                                    FESystemElem::BASE_ELEM::num(),<span class="keyword">false</span>);
        
        <span class="comment">// for a basic analysis, and property sensitivity, left multiply </span>
        <span class="comment">// with the transformation matrix</span>
        transformation_matrix.left_multiply_vector(tmp_qty, *qty);
        
        <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3642ed0e6582c57a21ffc02b44890ad4" title="type of the sensitivity parameter">sensitivity_parameter</a>)
          {
          <span class="keywordflow">case</span> <a class="code" href="_shape_parameter_8h.html#ac516f3dcf880878bbcd0ee739b4cda5c">SHAPE_PARAMETER_ENUM_ID</a>:
            {
              <span class="comment">// get the sensitivity of the T matrix, and the basic quantity       </span>
              this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507" title="calculates the transformation matrix for the structural element">getStructuralT_matrix</a>(&amp;transformation_matrix_sens,
                                          FESystemElem::BASE_ELEM::num(), <span class="keyword">true</span>);
              this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a>(&amp;basic_qty, name, 
                                          FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
              
              tmp_qty.zero();
              transformation_matrix_sens.left_multiply_vector(basic_qty, tmp_qty);
              qty-&gt;add(1.0, tmp_qty);
            }
            <span class="keywordflow">break</span>;
            
          <span class="keywordflow">default</span>:
            {
              <span class="comment">// keep going</span>
            }
          }
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      {
        <span class="comment">// keep going</span>
      }
    }  
}          
</pre></div>
</div>
</div>
<a class="anchor" id="aed5fab5a22069c9568d18f1e9bfe1ab5"></a><!-- doxytag: member="FESystemElem::StructuralElem::getElementAssembledQtySensitivity" ref="aed5fab5a22069c9568d18f1e9bfe1ab5" args="(const unsigned int name_enum_ID, DenseMatrix&lt; double &gt; *qty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a7d182c6274b85497e5f65be3c8304668">FESystemElem::StructuralElem::getElementAssembledQtySensitivity</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>name_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function will return the sensitivity quantity by procuring the required information by itself. It will check for the current load case and design variable and perform the operations by itself. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a734f6d0f7dc1f816de3bf757c5bea962">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00607">607</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>

<p>References <a class="el" href="_shape_parameter_8h_source.html#l00014">SHAPE_PARAMETER_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(qty != NULL, ExcInternalError());
  
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
  
  <span class="keyword">static</span> DenseMatrix&lt;double&gt; transformation_matrix(6*n_nodes, 6*n_nodes),
    transformation_matrix_sens(6*n_nodes, 6*n_nodes),
    basic_qty(6*n_nodes, 6*n_nodes);
  
  <span class="keywordflow">if</span> (!(qty-&gt;m() == 6*n_nodes &amp;&amp; qty-&gt;n() == 6*n_nodes))
    {
      qty-&gt;resize(6*n_nodes, 6*n_nodes);
      basic_qty.resize(6*n_nodes, 6*n_nodes);
      transformation_matrix.resize(6*n_nodes, 6*n_nodes);
      transformation_matrix_sens.resize(6*n_nodes, 6*n_nodes);
    }
  
  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a>)
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a382a89f549c281a91676667ed51c6baf">initPropertyCard</a>();
  
  <span class="comment">// get the transformation matrix</span>
  transformation_matrix.zero(); transformation_matrix_sens.zero();
  basic_qty.zero();
  
  qty-&gt;zero();
    
  <span class="comment">// call the calculation routine</span>
  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a>(qty, name, FESystemElem::BASE_ELEM::num(), <span class="keyword">true</span>);
  
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a64b94b8ee8c56abfdf2bfeb2db8f5212" title="dimension of the element">dimension</a>)
    {
    <span class="keywordflow">case</span> 1:
    <span class="keywordflow">case</span> 2:
      {
        <span class="comment">// get the transformation matrix    </span>
        this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507" title="calculates the transformation matrix for the structural element">getStructuralT_matrix</a>(&amp;transformation_matrix, 
                                    FESystemElem::BASE_ELEM::num(),<span class="keyword">false</span>);
        
        <span class="comment">// for a basic analysis, and property sensitivity, left multiply </span>
        <span class="comment">// with the transformation matrix</span>
        qty-&gt;left_multiply_transpose(transformation_matrix);
        qty-&gt;right_multiply(transformation_matrix);
        
        <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3642ed0e6582c57a21ffc02b44890ad4" title="type of the sensitivity parameter">sensitivity_parameter</a>)
          {
          <span class="keywordflow">case</span> <a class="code" href="_shape_parameter_8h.html#ac516f3dcf880878bbcd0ee739b4cda5c">SHAPE_PARAMETER_ENUM_ID</a>:
            {
              <span class="comment">// get the sensitivity of the T matrix, and the basic quantity       </span>
              this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507" title="calculates the transformation matrix for the structural element">getStructuralT_matrix</a>(&amp;transformation_matrix_sens,
                                          FESystemElem::BASE_ELEM::num(), <span class="keyword">true</span>);
              this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a8cef092c38704b4e156d3b9bdfa8a46d">calculateAssembledQty</a>(&amp;basic_qty, name, 
                                          FESystemElem::BASE_ELEM::num(), <span class="keyword">false</span>);
              
              <span class="comment">// the operation to be performed is d(transpose(T))/d_alpha * qty * T + </span>
              <span class="comment">// transpose(T) * qty * d(T)/d_alpha. </span>
              basic_qty.left_multiply_transpose(transformation_matrix_sens);
              basic_qty.right_multiply(transformation_matrix);
              
              qty-&gt;add(1.0, basic_qty);
              qty-&gt;add_transpose(1.0, basic_qty);
            }
            <span class="keywordflow">break</span>;
            
          <span class="keywordflow">default</span>:
            {
              <span class="comment">// keep going</span>
            }
          }
      }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      {
        <span class="comment">// keep going</span>
      }
    }
}          
</pre></div>
</div>
</div>
<a class="anchor" id="ab9be36a1a1bb9dee0a23194a0a79211d"></a><!-- doxytag: member="FESystemElem::StructuralElem::getElementPostProcessQty" ref="ab9be36a1a1bb9dee0a23194a0a79211d" args="(std::vector&lt; unsigned int &gt;, std::vector&lt; DesignData::DesignParameter * &gt;)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::auto_ptr&lt;<a class="el" href="class_elem_post_process_qty.html">ElemPostProcessQty</a>&gt; <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#ab9be36a1a1bb9dee0a23194a0a79211d">FESystemElem::StructuralElem::getElementPostProcessQty</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; unsigned int &gt;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_design_data_1_1_design_parameter.html">DesignData::DesignParameter</a> * &gt;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function returns a vector of the post process quanties for this element. The quantities will consist of the strain, stress and their sensitivities. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>of load case IDs for which the post process quantities need to be calculated </td></tr>
    <tr><td class="paramname">vector</td><td>of DVs for which the quantities need to be calculated </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aab919792849ca2534674dc440a77fd51">FESystemElem::FESystemElemBase</a>.</p>

<p>Implemented in <a class="el" href="class_f_e_system_elem_1_1_plate_d_k_batoz.html#a003ac8d11e7615d288b2caaebeda9519">FESystemElem::PlateDKBatoz</a>, <a class="el" href="class_f_e_system_elem_1_1_plate_von_karman.html#a98802ba6716624623af02f3ada430f09">FESystemElem::PlateVonKarman</a>, and <a class="el" href="class_f_e_system_elem_1_1_membrane.html#a71a8c50b0f65bb627f88ce95ac77dc98">FESystemElem::Membrane</a>.</p>

</div>
</div>
<a class="anchor" id="a10f0727d6eee97f4c5c24e793dc0a789"></a><!-- doxytag: member="FESystemElem::StructuralElem::getNDofs" ref="a10f0727d6eee97f4c5c24e793dc0a789" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a10f0727d6eee97f4c5c24e793dc0a789">FESystemElem::StructuralElem::getNDofs</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of dofs for this element </dd></dl>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3775cadebb51b5889e93860cd64647eb">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8h_source.html#l00300">300</a> of file <a class="el" href="structural__elem_8h_source.html">structural_elem.h</a>.</p>

<p>References <a class="el" href="_f_e_system_elem_8h_source.html#l00880">FESystemElem::FESystemElemBase::getNNodes()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> 6 * (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>());
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_elem_1_1_structural_elem_a10f0727d6eee97f4c5c24e793dc0a789_cgraph.gif" border="0" usemap="#class_f_e_system_elem_1_1_structural_elem_a10f0727d6eee97f4c5c24e793dc0a789_cgraph" alt=""/></div>
<map name="class_f_e_system_elem_1_1_structural_elem_a10f0727d6eee97f4c5c24e793dc0a789_cgraph" id="class_f_e_system_elem_1_1_structural_elem_a10f0727d6eee97f4c5c24e793dc0a789_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11" title="FESystemElem::FESystemElemBase::getNNodes" alt="" coords="326,5,642,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af2ff1dec83f836f216c8c4bebcc08507"></a><!-- doxytag: member="FESystemElem::StructuralElem::getStructuralT_matrix" ref="af2ff1dec83f836f216c8c4bebcc08507" args="(DenseMatrix&lt; double &gt; *matrix, const unsigned int design_point_enum_ID, bool shape_sensitivity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#af2ff1dec83f836f216c8c4bebcc08507">FESystemElem::StructuralElem::getStructuralT_matrix</a> </td>
          <td>(</td>
          <td class="paramtype">DenseMatrix&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>design_point_enum_ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shape_sensitivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculates the transformation matrix for the structural element </p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00115">115</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (matrix != NULL);
  
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
  n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();

  <span class="keywordflow">if</span> (!(matrix-&gt;m() == 6*n_nodes &amp;&amp; matrix-&gt;n() == 6*n_nodes))
    matrix-&gt;resize(n_nodes * 6, n_nodes * 6);
  
  matrix-&gt;zero();
  
  <span class="keyword">static</span> DenseMatrix&lt;double&gt; T_mat;
  T_mat.zero();
  
  <span class="keywordflow">if</span> (!shape_sensitivity)
    this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a26d299a0ec41235dfac6fe0f9980716e">getFESystemElemQty</a>(FESystemElem::TRANSFORM_MATRIX::num(), &amp;T_mat, 
                             design_point_enum_ID, FESystemElem::ELEM_VOLUME::num(),
                             INVALID_FE);
  <span class="keywordflow">else</span>
    {
      <span class="comment">// make sure that the sensitivity is at the base elem</span>
      Assert (design_point_enum_ID == FESystemElem::BASE_ELEM::num(), ExcInternalError());
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#afa027c1230bd104db07d72e0df21869a">getFESystemElemQtyShapeSensitivity</a>(FESystemElem::TRANSFORM_MATRIX::num(), &amp;T_mat,
                                               FESystemElem::ELEM_VOLUME::num(), INVALID_FE);
    }
  
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> k=0; k&lt;2; k++)
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;(n_nodes*3); i++)
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j =0; j&lt;(n_nodes*3); j++)
        (*matrix)(i+(n_nodes*3*k),j+(n_nodes*3*k)) = T_mat(i,j);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af052ca3c566c242e4fb9a411df709be3"></a><!-- doxytag: member="FESystemElem::StructuralElem::getTransientSystemOrder" ref="af052ca3c566c242e4fb9a411df709be3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#af052ca3c566c242e4fb9a411df709be3">FESystemElem::StructuralElem::getTransientSystemOrder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the transient system order for the elem equations </dd></dl>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ae43b4253f009fe3dfc72200a5fe9a635">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8h_source.html#l00307">307</a> of file <a class="el" href="structural__elem_8h_source.html">structural_elem.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> 2;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a382a89f549c281a91676667ed51c6baf"></a><!-- doxytag: member="FESystemElem::StructuralElem::initPropertyCard" ref="a382a89f549c281a91676667ed51c6baf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_elem_1_1_structural_elem.html#a382a89f549c281a91676667ed51c6baf">FESystemElem::StructuralElem::initPropertyCard</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>initializes the property card at element local temperature, which is taken as the average of all nodal temperatures. This is needed for temperature dependent properties. This is an approximate way of using parameter dependent properties, since ideally they should be calculated at each quadrature point. That is, however, not done due to memory and CPU constraints. </p>

<p>Implements <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#acad9aa8915727e40bfb74d94d67d0264">FESystemElem::FESystemElemBase</a>.</p>

<p>Definition at line <a class="el" href="structural__elem_8_c_source.html#l00774">774</a> of file <a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(!this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a>, ExcInternalError());

  <span class="comment">// if the properties are temperature dependent, then initialize the</span>
  <span class="comment">// element property cards at the element average temperature</span>
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a12d0a7a9c33167a9af367e0423372f3f" title="the discipline that owns this element">analysis_discipline</a>.<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a6dc9ef38729f861b96bf31634e24b5d0" title="checks if the analysis is dependent on temperature">checkPropertyDependenceOnTemperature</a>())
    {
      <span class="comment">// get the load case number and the dof values</span>
      <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_nodes;
      n_nodes = this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a68efcd3cae7b2b27cdb7956722fb1e11">getNNodes</a>();
      <span class="keyword">static</span> std::map&lt;unsigned int, double&gt; local_param_map;
    
      <span class="keyword">static</span> DenseVector&lt;double&gt; nodal_temperature(n_nodes);
      <span class="keywordflow">switch</span> (nodal_temperature.size() - n_nodes)
        {
        <span class="keywordflow">case</span> 0:
          <span class="comment">// keep going</span>
          <span class="keywordflow">break</span>;
        
        <span class="keywordflow">default</span>:
          nodal_temperature.resize(n_nodes);
        }
    
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_structural_elem.html#a5b448e76e2d8c3d4fe1d9b2776cfcfc9">extractNodalTemperatureVectorFromLoads</a>(nodal_temperature, <span class="keyword">false</span>);
    
      <span class="comment">// now calculate the average</span>
      <span class="keyword">static</span> <span class="keywordtype">double</span> temp;
      temp = 0.0;
    
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; n_nodes; i++)
        temp += nodal_temperature(i);
    
      temp /= (1.0 * n_nodes);
    
      local_param_map[Property::TEMPERATURE::num()] = temp; 
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_elem_data_card.html#a7c638e4644afb12563e60ca3235c1eba" title="initializes the card and the material card for the given local parameters">reinitElemAndMaterialCardForLocalParameters</a>(&amp;local_param_map);
    }
  <span class="keywordflow">else</span>
    {
      this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a7853dcdf723fbd53309a438c74a3b46a" title="card that stores the information for this element">elem_property_card</a>-&gt;<a class="code" href="class_elem_data_card.html#a7c638e4644afb12563e60ca3235c1eba" title="initializes the card and the material card for the given local parameters">reinitElemAndMaterialCardForLocalParameters</a>();
    }
  
  this-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a11a2c563875d371ec536f90ee4111a90" title="boolean for keeping track of whether the property card was initialized">property_card_initialized</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/StructuralElems/<a class="el" href="structural__elem_8h_source.html">structural_elem.h</a></li>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/StructuralElems/<a class="el" href="structural__elem_8_c_source.html">structural_elem.C</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 12 2012 18:06:22 for fesystem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
