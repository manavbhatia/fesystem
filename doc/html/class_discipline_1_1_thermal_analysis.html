<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fesystem: Discipline::ThermalAnalysis Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">fesystem
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_discipline.html">Discipline</a>      </li>
      <li class="navelem"><a class="el" href="class_discipline_1_1_thermal_analysis.html">ThermalAnalysis</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Discipline::ThermalAnalysis Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Discipline::ThermalAnalysis" --><!-- doxytag: inherits="Discipline::AnalysisDisciplineBase" -->
<p><code>#include &lt;<a class="el" href="_thermal_analysis_8h_source.html">ThermalAnalysis.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Discipline::ThermalAnalysis:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis__inherit__graph.gif" border="0" usemap="#_discipline_1_1_thermal_analysis_inherit__map" alt="Inheritance graph"/></div>
<map name="_discipline_1_1_thermal_analysis_inherit__map" id="_discipline_1_1_thermal_analysis_inherit__map">
<area shape="rect" id="node2" href="class_discipline_1_1_analysis_discipline_base.html" title="Discipline::AnalysisDisciplineBase" alt="" coords="5,6,227,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Discipline::ThermalAnalysis:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis__coll__graph.gif" border="0" usemap="#_discipline_1_1_thermal_analysis_coll__map" alt="Collaboration graph"/></div>
<map name="_discipline_1_1_thermal_analysis_coll__map" id="_discipline_1_1_thermal_analysis_coll__map">
<area shape="rect" id="node2" href="class_discipline_1_1_analysis_discipline_base.html" title="Discipline::AnalysisDisciplineBase" alt="" coords="1379,278,1602,306"/><area shape="rect" id="node4" href="class_discipline_1_1_discipline_info.html" title="Discipline::DisciplineInfo" alt="" coords="1041,139,1207,167"/><area shape="rect" id="node6" href="class_solution_1_1_solution_base.html" title="this class provides the base functionality for all solutions" alt="" coords="581,185,736,213"/><area shape="rect" id="node20" href="class_driver_1_1_analysis_driver.html" title="Driver::AnalysisDriver" alt="" coords="1049,62,1199,90"/><area shape="rect" id="node8" href="class_f_e_system_1_1_f_e_system_controller.html" title="FESystem::FESystemController" alt="" coords="19,185,229,213"/><area shape="rect" id="node10" href="class_mesh_d_s_1_1_f_e_dof_map.html" title="MeshDS::FEDofMap" alt="" coords="1052,411,1196,439"/><area shape="rect" id="node13" href="class_mesh_d_s_1_1_f_e_mesh_data.html" title="MeshDS::FEMeshData" alt="" coords="1045,307,1203,335"/><area shape="rect" id="node15" href="class_mesh_d_s_1_1_f_e_mesh.html" title="MeshDS::FEMesh" alt="" coords="594,426,723,454"/><area shape="rect" id="node18" href="class_f_e_system_utility_1_1_loaded_solution.html" title="this class is a data structure that stores loaded solution from the database" alt="" coords="1016,359,1232,387"/><area shape="rect" id="node23" href="class_solver_1_1_f_e_system_solver_base.html" title="Solver::FESystemSolverBase" alt="" coords="1393,34,1589,62"/><area shape="rect" id="node26" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; NumericVector\&lt; double \&gt; \&gt;" alt="" coords="469,7,848,35"/><area shape="rect" id="node28" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; T \&gt;" alt="" coords="6,7,242,35"/><area shape="rect" id="node31" href="class_design_data_1_1_design_parameter.html" title="this class forms the base class for all design parameters." alt="" coords="558,125,760,153"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_discipline_1_1_thermal_analysis-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#aeec421444d53e68dab7ab0dcc20d17c3">ThermalAnalysis</a> (<a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;controller, const <a class="el" href="class_discipline_1_1_thermal_discipline_info.html">Discipline::ThermalDisciplineInfo</a> &amp;<a class="el" href="_arpack_eigen_solver_8h.html#ab4bdba131592d57176f37f9670deec34">info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a5d9f36ca416f7c4723ba79b3c7844fea">~ThermalAnalysis</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor  <a href="#a5d9f36ca416f7c4723ba79b3c7844fea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a42e43b7aa67b21817590c3aa1dfc88de">sameSystemMatrixForLoadCases</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns if same system matrix can be used for different load cases  <a href="#a42e43b7aa67b21817590c3aa1dfc88de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a9e8eb044aeec50973aca4ac69df78196">getEigenProblemKindEnumID</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#ae0c0c3760e1b6096691eeec341fe65cf">getTransientSystemOrder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a5b2f600ffb93fd75ff3bd01f0812ec5c">getBoundaryConditionLoadInfo</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the enum ID of the boundary condition for this disicipline  <a href="#a5b2f600ffb93fd75ff3bd01f0812ec5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a2ee017266bf2021f43216825982665ea">disciplineHasMatrix</a> (const unsigned int qty_enum_ID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#aafd6b0dbd18bef9900bddb470ff232b9">getDataInfoForQty</a> (const unsigned int qty_enum_ID)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a5a694c5cc73603b89f694ef17a68ff1f">addAnalysisVariables</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">function to add analysis variables  <a href="#a5a694c5cc73603b89f694ef17a68ff1f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a50a4a218c8e11c1406c6911d8c8dba65">getElemQty</a> (<a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html">FESystemElem::FESystemElemBase</a> *elem, std::map&lt; unsigned int, double &gt; &amp;real_elem_data, std::map&lt; unsigned int, DenseMatrix&lt; double &gt; &gt; &amp;mat_elem_data, std::map&lt; unsigned int, DenseVector&lt; double &gt; &gt; &amp;vec_elem_data, const bool sensitivity, const unsigned int DV_ID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#aaeb9333b9253b43446218d83a1187389">calculateTransientMatrix</a> (const unsigned int order, bool=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#af04e6aeb15aaf2f065383d3b0a2bde37">calculateK</a> (bool=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a8ce111fba85ba28c33ed184b38e879f1">calculateJac</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a61fd437045b939462de67dc52893e560">calculateEigenProblemAMatrix</a> (bool sensitivity=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">function to calculate the A matrix for eigen problem analysis  <a href="#a61fd437045b939462de67dc52893e560"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a6f7fb361cedd7c740e7a4ce8c366a031">calculateEigenProblemBMatrix</a> (bool sensitivity=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">function to calculate the B matrix for eigen problem analysis  <a href="#a6f7fb361cedd7c740e7a4ce8c366a031"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a8594dffa67636886b729cb7e581a2a42">calculateF</a> (bool=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a589fc67cc5da455aa185b7975da18d76">performAdditionalOperationsOnGlobalQuantities</a> (std::map&lt; unsigned int, SparseMatrix&lt; double &gt; * &gt; &amp;matrix_map, std::map&lt; unsigned int, NumericVector&lt; double &gt; * &gt; &amp;vector_map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const NumericVector<br class="typebreak"/>
&lt; double &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#ab65c5caa576e349ddbe0a508ee4957ca">getSolutionVector</a> (const unsigned int transient_order, const bool sensitivity)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_radiation_cavity_analysis.html">RadiationCavityAnalysis</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9">radiation_cavity_analysis_vector</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">vector of radiation cavity analysis  <a href="#a78ee0e02f3e426b5a661720f0b9774c9"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class provides methods to calculate the matrices and vectors related to the thermal discipline. </p>

<p>Definition at line <a class="el" href="_thermal_analysis_8h_source.html#l00164">164</a> of file <a class="el" href="_thermal_analysis_8h_source.html">ThermalAnalysis.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeec421444d53e68dab7ab0dcc20d17c3"></a><!-- doxytag: member="Discipline::ThermalAnalysis::ThermalAnalysis" ref="aeec421444d53e68dab7ab0dcc20d17c3" args="(FESystem::FESystemController &amp;controller, const Discipline::ThermalDisciplineInfo &amp;info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_discipline_1_1_thermal_analysis.html#aeec421444d53e68dab7ab0dcc20d17c3">Discipline::ThermalAnalysis::ThermalAnalysis</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_discipline_1_1_thermal_discipline_info.html">Discipline::ThermalDisciplineInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>constructor. It takes two arguements, the arguement is a pointer to the AnalysisDriver that owns this object </p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00039">39</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_discipline_base_8_c_source.html#l00093">Discipline::AnalysisDisciplineBase::addAnalysisVariablesAndInitialize()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00451">Discipline::AnalysisDisciplineBase::analysis_type_enum_ID</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00473">Discipline::AnalysisDisciplineBase::dummy_element_set</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00440">Discipline::AnalysisDisciplineBase::fesystem_controller</a>, <a class="el" href="_radiation_cavity_8h_source.html#l00375">RadiationCavity::getFENodes()</a>, <a class="el" href="_thermal_discipline_info_8h_source.html#l00090">Discipline::ThermalDisciplineInfo::getRadiationCavityIDs()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00463">Discipline::AnalysisDisciplineBase::mesh</a>, <a class="el" href="_f_e_system_controller_8h_source.html#l00136">FESystem::FESystemController::mesh_list</a>, and <a class="el" href="_thermal_analysis_8h_source.html#l00255">radiation_cavity_analysis_vector</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                         :
<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#ad92268d7a5ccf443928f9ea466ac98f1">Discipline::AnalysisDisciplineBase</a>(controller, info)
{
  
  <span class="comment">// if this analysis is nonlinear, init the vector of radiation cavity analysis</span>
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == Discipline::NONLINEAR_ANALYSIS::num())
    {
      
      <span class="comment">// get the vector of radiation cavities in the analysis </span>
      <span class="keyword">const</span> std::vector&lt;unsigned int&gt;&amp; radiation_cavity_IDs = info.<a class="code" href="class_discipline_1_1_thermal_discipline_info.html#a68416ab2d755f62b21a1a66314ae5c49">getRadiationCavityIDs</a>();
      
      std::vector&lt;unsigned int&gt;::const_iterator it, end;
      it = radiation_cavity_IDs.begin();
      end = radiation_cavity_IDs.end();
      
      <span class="keywordflow">for</span> (; it != end; it++)
        {
          <a class="code" href="class_radiation_cavity.html">RadiationCavity</a>&amp; cavity = 
          *(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a8ffac08a8cf64ecc7271a3fa8ff04090">fesystem_controller</a>.<a class="code" href="class_f_e_system_1_1_f_e_system_controller.html#a2d2bb90b45aa11cc32c79c27d2b9f6ab" title="data structure to store the mesh used for FE analysis">mesh_list</a>-&gt;getRadiationCavity(*it));
          
          std::auto_ptr&lt;RadiationCavityAnalysis&gt; 
          cavity_analysis(<span class="keyword">new</span> <a class="code" href="class_radiation_cavity_analysis.html">RadiationCavityAnalysis</a>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a8ffac08a8cf64ecc7271a3fa8ff04090">fesystem_controller</a>, *<span class="keyword">this</span>, cavity));
          
          this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.push_back(cavity_analysis.release());
          
          <span class="comment">// get the node set list for each cavity, and add rod elements connecting </span>
          <span class="comment">// each one of those nodes</span>
          <span class="comment">// this is done to take care of the connectivity between nodes </span>
          <span class="comment">// to take care of the radiation exchange between them</span>
          
          <span class="keyword">const</span> std::vector&lt;Node*&gt;&amp; radiation_nodes = cavity.<a class="code" href="class_radiation_cavity.html#a8018aadd0171d514477ada7314cbbc1b">getFENodes</a>();
          
          std::vector&lt;Node*&gt;::const_iterator node_it, node_end, nested_node_it;
          node_it = radiation_nodes.begin();
          node_end = radiation_nodes.end();
          
          Elem* this_elem = NULL;
          <span class="keywordtype">bool</span> insert_return = <span class="keyword">false</span>;
          
          <span class="keywordflow">for</span> (; node_it != node_end; node_it++)
            {
              nested_node_it = node_it;
              nested_node_it++;
              <span class="keywordflow">for</span> ( ; nested_node_it != node_end; nested_node_it++)
                {
                  <span class="comment">// create an elem connecting these two nodes</span>
                  this_elem = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#abe74eaf554eb27b742dc89b158581dc7" title="mesh data structure">mesh</a>-&gt;add_elem(<span class="keyword">new</span> Edge2);
                  this_elem-&gt;set_node(0) = *node_it;
                  this_elem-&gt;set_node(1) = *nested_node_it;
                  
                  <span class="comment">// add this elem to the dummy element set</span>
                  insert_return = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aba756a7038f6e9dd8f5d491cc1a2399c">dummy_element_set</a>-&gt;insert(this_elem).second;
                  assert (insert_return == <span class="keyword">true</span>);
                }
            }
        }
    }
  
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a35eeac0f418dc084d1d9a296f4842abc" title="adds variables and distributes the dofs">addAnalysisVariablesAndInitialize</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis_aeec421444d53e68dab7ab0dcc20d17c3_cgraph.gif" border="0" usemap="#class_discipline_1_1_thermal_analysis_aeec421444d53e68dab7ab0dcc20d17c3_cgraph" alt=""/></div>
<map name="class_discipline_1_1_thermal_analysis_aeec421444d53e68dab7ab0dcc20d17c3_cgraph" id="class_discipline_1_1_thermal_analysis_aeec421444d53e68dab7ab0dcc20d17c3_cgraph">
<area shape="rect" id="node3" href="class_discipline_1_1_analysis_discipline_base.html#a35eeac0f418dc084d1d9a296f4842abc" title="adds variables and distributes the dofs" alt="" coords="344,5,773,33"/><area shape="rect" id="node5" href="class_radiation_cavity.html#a8018aadd0171d514477ada7314cbbc1b" title="RadiationCavity::getFENodes" alt="" coords="461,57,657,85"/><area shape="rect" id="node7" href="class_discipline_1_1_thermal_discipline_info.html#a68416ab2d755f62b21a1a66314ae5c49" title="Discipline::ThermalDisciplineInfo::getRadiationCavityIDs" alt="" coords="382,109,735,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d9f36ca416f7c4723ba79b3c7844fea"></a><!-- doxytag: member="Discipline::ThermalAnalysis::~ThermalAnalysis" ref="a5d9f36ca416f7c4723ba79b3c7844fea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_discipline_1_1_thermal_analysis.html#a5d9f36ca416f7c4723ba79b3c7844fea">Discipline::ThermalAnalysis::~ThermalAnalysis</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>destructor </p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00105">105</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// iterate over the radiation cavity analysis and delete them</span>
  std::vector&lt;RadiationCavityAnalysis*&gt;::iterator it, end;
  it = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.begin();
  end = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.end();
  
  <span class="keywordflow">for</span> (; it != end; it++)
    {
      <span class="keyword">delete</span> *it;
      *it = NULL;
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5a694c5cc73603b89f694ef17a68ff1f"></a><!-- doxytag: member="Discipline::ThermalAnalysis::addAnalysisVariables" ref="a5a694c5cc73603b89f694ef17a68ff1f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_thermal_analysis.html#a5a694c5cc73603b89f694ef17a68ff1f">Discipline::ThermalAnalysis::addAnalysisVariables</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to add analysis variables </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a53d15279b58f66ec687e9f7ffa39c2eb">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00124">124</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{  
  FEType fetype(FIRST, LAGRANGE);
  
  <span class="comment">// add a temperature variable to the analysis driver</span>
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;Temperature&quot;</span>, fetype);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a61fd437045b939462de67dc52893e560"></a><!-- doxytag: member="Discipline::ThermalAnalysis::calculateEigenProblemAMatrix" ref="a61fd437045b939462de67dc52893e560" args="(bool sensitivity=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#a61fd437045b939462de67dc52893e560">Discipline::ThermalAnalysis::calculateEigenProblemAMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to calculate the A matrix for eigen problem analysis </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a5710050a22fbf31f845f6612a674d43a">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00304">304</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid warnings about unused parameter.</span>
  (void) sensitivity;
  <span class="comment">// there still is no nonlinear structural analysis capability yet.</span>
  abort();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6f7fb361cedd7c740e7a4ce8c366a031"></a><!-- doxytag: member="Discipline::ThermalAnalysis::calculateEigenProblemBMatrix" ref="a6f7fb361cedd7c740e7a4ce8c366a031" args="(bool sensitivity=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#a6f7fb361cedd7c740e7a4ce8c366a031">Discipline::ThermalAnalysis::calculateEigenProblemBMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to calculate the B matrix for eigen problem analysis </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a3d10b3662f4ad0860f1bad5af7a6dec8">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00315">315</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid warnings about unused parameter.</span>
  (void) sensitivity;
  <span class="comment">// there still is no nonlinear structural analysis capability yet.</span>
  abort();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8594dffa67636886b729cb7e581a2a42"></a><!-- doxytag: member="Discipline::ThermalAnalysis::calculateF" ref="a8594dffa67636886b729cb7e581a2a42" args="(bool=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#a8594dffa67636886b729cb7e581a2a42">Discipline::ThermalAnalysis::calculateF</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the force vector. First arguement is the vector to store the result in, and the second arguement is a bool to tell the function if sensitivity is desired </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a8c35d490c7d27b5c251eefc155616141">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00326">326</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid warnings about unused parameter.</span>
  (void) sensitivity;  
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">// this needs to be reimplemented to allow for some fine grained control over</span>
  <span class="comment">// when to calculate the quantity</span>
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::FORCE_VECTOR::num(), sensitivity);</span>
        
  <span class="comment">//   // this bool will check if this quantity needs to be recalculated and resaved</span>
  <span class="comment">//   // if the quantity is dependent on temperature, and a sensitivity analysis </span>
  <span class="comment">//   // is being performed, then it is assumed that the quantity already exists, and was </span>
  <span class="comment">//   // calculated at the converged temperature for that load case. </span>
  <span class="comment">//   bool recalculate_and_store = false;</span>
  <span class="comment">//   if (this-&gt;checkPropertyDependenceOnTemperature())</span>
  <span class="comment">//     if (!sensitivity &amp;&amp; </span>
  <span class="comment">//         this-&gt;analysis_driver-&gt;getCurrentAnalysisKind() != Driver::SENSITIVITY_ANALYSIS::num())</span>
  <span class="comment">//       recalculate_and_store = true;</span>
  
  <span class="comment">//   // check if the vector exists in the database</span>
  <span class="comment">//   bool Force_vector_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfVectorExists</span>
  <span class="comment">//     (load_case, name);</span>
  
  <span class="comment">//   // if not, calculate and save it</span>
  <span class="comment">//   if (! Force_vector_present || recalculate_and_store)</span>
  <span class="comment">//     return true;</span>
  <span class="comment">//   else </span>
  <span class="comment">//     return false;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ce111fba85ba28c33ed184b38e879f1"></a><!-- doxytag: member="Discipline::ThermalAnalysis::calculateJac" ref="a8ce111fba85ba28c33ed184b38e879f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#a8ce111fba85ba28c33ed184b38e879f1">Discipline::ThermalAnalysis::calculateJac</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the Jacobian matrix. First arguement is the matrix to store the result in </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a080e54622f8144c4ccf165d2644a0195">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00279">279</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::JACOBIAN_MATRIX::num(), false);</span>
        
  <span class="comment">//   // check if the jacobian matrix exists in the database for this iteration</span>
  <span class="comment">//   // this bool will check if this quantity needs to be recalculated and resaved</span>
  <span class="comment">//   // if the quantity is dependent on temperature, and a sensitivity analysis </span>
  <span class="comment">//   // is being performed, then it is assumed that the quantity already exists, and was </span>
  <span class="comment">//   // calculated at the converged temperature for that load case. </span>
  <span class="comment">//   bool recalculate_and_store = false;</span>
  <span class="comment">//   if (this-&gt;analysis_driver-&gt;getCurrentAnalysisKind() != Driver::SENSITIVITY_ANALYSIS::num())</span>
  <span class="comment">//     recalculate_and_store = true;</span>
  
  <span class="comment">//   return recalculate_and_store;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="af04e6aeb15aaf2f065383d3b0a2bde37"></a><!-- doxytag: member="Discipline::ThermalAnalysis::calculateK" ref="af04e6aeb15aaf2f065383d3b0a2bde37" args="(bool=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#af04e6aeb15aaf2f065383d3b0a2bde37">Discipline::ThermalAnalysis::calculateK</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the conductance matrix. First arguement is the matrix to store the result in, and the second arguement is a bool to tell the function if sensitivity is desired </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a5ccec7d58b16a66973cead8f9478f8d9">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00236">236</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">// needs to be implemented to allow for some fine grained control over when to </span>
  <span class="comment">// reclaculated the quantity</span>
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::SYSTEM_MATRIX::num(), sensitivity);</span>
        
  <span class="comment">//   // this bool will check if this quantity needs to be recalculated and resaved</span>
  <span class="comment">//   // if the quantity is dependent on temperature, and a sensitivity analysis </span>
  <span class="comment">//   // is being performed, then it is assumed that the quantity already exists, and was </span>
  <span class="comment">//   // calculated at the converged temperature for that load case. </span>
  <span class="comment">//   bool recalculate_and_store = false;</span>
  <span class="comment">//   if (this-&gt;checkPropertyDependenceOnTemperature())</span>
  <span class="comment">//     if (!sensitivity &amp;&amp; </span>
  <span class="comment">//         this-&gt;analysis_driver-&gt;getCurrentAnalysisKind() != Driver::SENSITIVITY_ANALYSIS::num())</span>
  <span class="comment">//       recalculate_and_store = true;</span>
  
  
  <span class="comment">//   // check if the K_C + K_h matrix exists in the database</span>
  <span class="comment">//   bool K_c_K_h_matrix_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfMatrixExists</span>
  <span class="comment">//     (load_case, name);</span>
  
  <span class="comment">//   // if not, calculate and save it</span>
  <span class="comment">//   if (! K_c_K_h_matrix_present || recalculate_and_store)</span>
  <span class="comment">//     return true;</span>
  <span class="comment">//   else </span>
  <span class="comment">//     return false;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaeb9333b9253b43446218d83a1187389"></a><!-- doxytag: member="Discipline::ThermalAnalysis::calculateTransientMatrix" ref="aaeb9333b9253b43446218d83a1187389" args="(const unsigned int order, bool=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#aaeb9333b9253b43446218d83a1187389">Discipline::ThermalAnalysis::calculateTransientMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the conductance matrix. First arguement is the matrix to store the result in, and the second arguement is a bool to tell the function if sensitivity is desired </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aa8a407d06e06ba9b0cd0ba4b1d31c121">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00193">193</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  (void) order;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">// needs to be implemented to allow for some fine grained control over when to </span>
  <span class="comment">// reclaculated the quantity</span>
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::SYSTEM_MATRIX::num(), sensitivity);</span>
        
  <span class="comment">//   // this bool will check if this quantity needs to be recalculated and resaved</span>
  <span class="comment">//   // if the quantity is dependent on temperature, and a sensitivity analysis </span>
  <span class="comment">//   // is being performed, then it is assumed that the quantity already exists, and was </span>
  <span class="comment">//   // calculated at the converged temperature for that load case. </span>
  <span class="comment">//   bool recalculate_and_store = false;</span>
  <span class="comment">//   if (this-&gt;checkPropertyDependenceOnTemperature())</span>
  <span class="comment">//     if (!sensitivity &amp;&amp; </span>
  <span class="comment">//         this-&gt;analysis_driver-&gt;getCurrentAnalysisKind() != Driver::SENSITIVITY_ANALYSIS::num())</span>
  <span class="comment">//       recalculate_and_store = true;</span>
  
  
  <span class="comment">//   // check if the K_C + K_h matrix exists in the database</span>
  <span class="comment">//   bool K_c_K_h_matrix_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfMatrixExists</span>
  <span class="comment">//     (load_case, name);</span>
  
  <span class="comment">//   // if not, calculate and save it</span>
  <span class="comment">//   if (! K_c_K_h_matrix_present || recalculate_and_store)</span>
  <span class="comment">//     return true;</span>
  <span class="comment">//   else </span>
  <span class="comment">//     return false;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2ee017266bf2021f43216825982665ea"></a><!-- doxytag: member="Discipline::ThermalAnalysis::disciplineHasMatrix" ref="a2ee017266bf2021f43216825982665ea" args="(const unsigned int qty_enum_ID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#a2ee017266bf2021f43216825982665ea">Discipline::ThermalAnalysis::disciplineHasMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the specified matrix has exists for the discipline </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a426ebd31e8885344a8ee1d6f07b84ffc">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00969">969</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, and <a class="el" href="_transient_analysis_driver_8h_source.html#l00054">TRANSIENT_C1_MATRIX_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">bool</span> return_val = <span class="keyword">false</span>;
  
  <span class="keywordflow">switch</span> (qty_enum_ID)
  {
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5ecf4307d0a4dd0e9dfd3e6310e0266f">TRANSIENT_C1_MATRIX_ENUM_ID</a>:
      return_val = <span class="keyword">true</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
      return_val = <span class="keyword">true</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, ExcInternalError());
  }
  
  <span class="keywordflow">return</span> return_val;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5b2f600ffb93fd75ff3bd01f0812ec5c"></a><!-- doxytag: member="Discipline::ThermalAnalysis::getBoundaryConditionLoadInfo" ref="a5b2f600ffb93fd75ff3bd01f0812ec5c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt; <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a> &gt; <a class="el" href="class_discipline_1_1_thermal_analysis.html#a5b2f600ffb93fd75ff3bd01f0812ec5c">Discipline::ThermalAnalysis::getBoundaryConditionLoadInfo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the enum ID of the boundary condition for this disicipline </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#adeb44a5a62f73fb79dab86721296f880">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00150">150</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a> != NULL, ExcInternalError());
  
  std::auto_ptr&lt;Loads::DirichletBoundaryConditionDataInfo&gt; return_ptr;
  
  return_ptr.reset(<span class="keyword">new</span> <a class="code" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a>);
  return_ptr-&gt;setLoadCaseID(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
  return_ptr-&gt;setLoadNameEnumID(TEMPERATURE_BOUNDARY_CONDITION::num());
  return_ptr-&gt;setLoadClassEnumID(DIRICHLET_BOUNDARY_CONDITION::num());
  
  <span class="comment">// check if the analysis is time dependent</span>
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
          (Discipline::THERMAL_DISCIPLINE::num()))
  {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
    {
      <span class="comment">//nothing to be done here</span>
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
    {
      <span class="keywordtype">double</span> time_val = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>
      (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>)-&gt;getCurrentAnalysisTime();
      return_ptr-&gt;setTime(time_val);
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
      <span class="comment">// dof vector</span>
      Assert(<span class="keyword">false</span>, ExcInternalError());
      
  }
  
  <span class="keywordflow">return</span> return_ptr;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aafd6b0dbd18bef9900bddb470ff232b9"></a><!-- doxytag: member="Discipline::ThermalAnalysis::getDataInfoForQty" ref="aafd6b0dbd18bef9900bddb470ff232b9" args="(const unsigned int qty_enum_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt; <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &gt; <a class="el" href="class_discipline_1_1_thermal_analysis.html#aafd6b0dbd18bef9900bddb470ff232b9">Discipline::ThermalAnalysis::getDataInfoForQty</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>a FESystemDatabase::DataInfo pointer, which defines the quantity passed in the parameter, for the current analysis </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aa2a966798d2bda888850f06b9b28e0e1">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00993">993</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00109">FORCE_VECTOR_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00157">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00066">Driver::TransientAnalysisDriver::getCurrentAnalysisTime()</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00081">Driver::TransientAnalysisDriver::getCurrentIterationNumber()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00121">JACOBIAN_MATRIX_ENUM_ID</a>, <a class="el" href="_data_info_8_c_source.html#l00136">FESystemDatabase::GenericDataInfoBase::setName()</a>, <a class="el" href="_data_info_8_c_source.html#l00422">FESystemDatabase::TimeDependentDataInfo::setOrder()</a>, <a class="el" href="_data_info_8_c_source.html#l00441">FESystemDatabase::TimeDependentDataInfo::setTransientIterationInfo()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00145">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00054">TRANSIENT_C1_MATRIX_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00068">TRANSIENT_C1_MATRIX_SENSITIVITY_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  std::auto_ptr&lt;FESystemDatabase::DataInfoBase&gt; data_info;
  <span class="keywordtype">bool</span> set_transient_data = <span class="keyword">false</span>,
  set_DV_ID = <span class="keyword">false</span>;
  
  <span class="keywordflow">switch</span> (qty_enum_ID)
  {
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5ecf4307d0a4dd0e9dfd3e6310e0266f">TRANSIENT_C1_MATRIX_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::THERMAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          <span class="comment">// if the data is for sensitivity, set the</span>
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;C_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;C_Matrix&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
          ptr = NULL;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
      
                        
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a4493393c1bdec52afee194f2594fbc84">TRANSIENT_C1_MATRIX_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#aafd6b0dbd18bef9900bddb470ff232b9">getDataInfoForQty</a>(Driver::TRANSIENT_C1_MATRIX::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::THERMAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          <span class="comment">// if the data is for sensitivity, set the</span>
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;Kc_plus_Kh_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;Kc_plus_Kh_Matrix&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
      
                        
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a52792416e5c7964e3e5e7d0c47af846d">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#aafd6b0dbd18bef9900bddb470ff232b9">getDataInfoForQty</a>(Driver::SYSTEM_MATRIX::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ab9ed1a6cc7aa9c5c133b74bdd58e55f7">FORCE_VECTOR_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::THERMAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;F_Vector&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;F_Vector&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a28c28a5dbac04bc80307b6602e149d26">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#aafd6b0dbd18bef9900bddb470ff232b9">getDataInfoForQty</a>(Driver::FORCE_VECTOR::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
                        
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aacb10e4350c353b3978b8679679e56b5">JACOBIAN_MATRIX_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::THERMAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;Jac_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <span class="comment">// the system matrix is dependent on load case for both linear and </span>
          <span class="comment">// nonlinear analysis, since it uses a load dependent part of convective</span>
          <span class="comment">// conductance</span>
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;Jac_Matrix&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
                        
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, ExcInternalError());
      <span class="keywordflow">break</span>;
  }
  
  <span class="keywordflow">if</span> (set_DV_ID)
    data_info-&gt;setDVID(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ac258e74334cc629c3961bde90f9e5fd9" title="returns the current design variable">getCurrentDesignParameter</a>().<a class="code" href="class_design_data_1_1_design_parameter.html#ab0cb6d6c10206acebbc06d2be204c2e7">getID</a>());
  <span class="keywordflow">else</span>
    {
      data_info-&gt;setDisciplineEnumID(Discipline::THERMAL_DISCIPLINE::num());
      data_info-&gt;setLoadCase(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
    }
  
  <span class="keywordflow">if</span> (set_transient_data)
    {
      <a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>* transient_driver = 
      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>);
      <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>* time_dep_info = 
      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>*<span class="keyword">&gt;</span>(data_info.get());
      time_dep_info-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#aaef8b950376afc6c41c56156878ea6d4" title="sets the transient iteration info">setTransientIterationInfo</a>(transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#ab9622f4ee33604c4d864d63f8cc93ef6">getCurrentIterationNumber</a>(),
                                               transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5">getCurrentAnalysisTime</a>());
    }
  
  
  <span class="keywordflow">return</span> data_info;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis_aafd6b0dbd18bef9900bddb470ff232b9_cgraph.gif" border="0" usemap="#class_discipline_1_1_thermal_analysis_aafd6b0dbd18bef9900bddb470ff232b9_cgraph" alt=""/></div>
<map name="class_discipline_1_1_thermal_analysis_aafd6b0dbd18bef9900bddb470ff232b9_cgraph" id="class_discipline_1_1_thermal_analysis_aafd6b0dbd18bef9900bddb470ff232b9_cgraph">
<area shape="rect" id="node3" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5" title="Driver::TransientAnalysisDriver::getCurrentAnalysisTime" alt="" coords="399,5,753,33"/><area shape="rect" id="node5" href="class_driver_1_1_transient_analysis_driver.html#ab9622f4ee33604c4d864d63f8cc93ef6" title="Driver::TransientAnalysisDriver::getCurrentIterationNumber" alt="" coords="391,57,761,85"/><area shape="rect" id="node7" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity" alt="" coords="408,109,744,137"/><area shape="rect" id="node9" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector" alt="" coords="400,161,752,189"/><area shape="rect" id="node11" href="class_f_e_system_database_1_1_time_dependent_data_info.html#aaef8b950376afc6c41c56156878ea6d4" title="sets the transient iteration info" alt="" coords="355,213,797,241"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9e8eb044aeec50973aca4ac69df78196"></a><!-- doxytag: member="Discipline::ThermalAnalysis::getEigenProblemKindEnumID" ref="a9e8eb044aeec50973aca4ac69df78196" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_discipline_1_1_thermal_analysis.html#a9e8eb044aeec50973aca4ac69df78196">Discipline::ThermalAnalysis::getEigenProblemKindEnumID</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the eigenproblem kind for the discipline </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aaf840ce0e46e82c1633a6ed9d9852947">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00138">138</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is not pertinent for thermal discipline, since no eigenproblem has yet </span>
  <span class="comment">// been defined for this. Hence, it is an error to call this method for thermal analysis</span>
  Assert(<span class="keyword">false</span>, ExcInternalError());
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a50a4a218c8e11c1406c6911d8c8dba65"></a><!-- doxytag: member="Discipline::ThermalAnalysis::getElemQty" ref="a50a4a218c8e11c1406c6911d8c8dba65" args="(FESystemElem::FESystemElemBase *elem, std::map&lt; unsigned int, double &gt; &amp;real_elem_data, std::map&lt; unsigned int, DenseMatrix&lt; double &gt; &gt; &amp;mat_elem_data, std::map&lt; unsigned int, DenseVector&lt; double &gt; &gt; &amp;vec_elem_data, const bool sensitivity, const unsigned int DV_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_thermal_analysis.html#a50a4a218c8e11c1406c6911d8c8dba65">Discipline::ThermalAnalysis::getElemQty</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html">FESystemElem::FESystemElemBase</a> *&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>real_elem_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, DenseMatrix&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_elem_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, DenseVector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec_elem_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>sensitivity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>DV_ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will fill the input vector with the element quantities required for the calculation of the specified global quantity. This is an abstract function and will be implemented in the derived class </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">global</td><td>quantitiy </td></tr>
    <tr><td class="paramname">element</td><td>pointer </td></tr>
    <tr><td class="paramname">vector</td><td>in which the quantities will be added </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#abb8ee19d4130ac1ba9b838df0498df5d">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00368">368</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_f_e_system_elem_8h_source.html#l01308">FESystemElem::FESystemElemBase::clearLoadAndDofs()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00109">FORCE_VECTOR_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00157">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00908">FESystemElem::FESystemElemBase::getElem()</a>, <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134">FESystemElem::FESystemElemBase::getElementAssembledQty()</a>, <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">FESystemElem::FESystemElemBase::getElementAssembledQtySensitivity()</a>, <a class="el" href="_f_e_system_elem_8_c_source.html#l01752">FESystemElem::FESystemElemBase::getElementMass()</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00868">FESystemElem::FESystemElemBase::getID()</a>, <a class="el" href="_f_e_system_numbers_8h_source.html#l00010">FESystemNumbers::InvalidID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00121">JACOBIAN_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00227">MODEL_MASS_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00240">MODEL_MASS_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l01383">FESystemElem::FESystemElemBase::setDofValues()</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l01413">FESystemElem::FESystemElemBase::setElementLoads()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00145">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00054">TRANSIENT_C1_MATRIX_ENUM_ID</a>, and <a class="el" href="_transient_analysis_driver_8h_source.html#l00068">TRANSIENT_C1_MATRIX_SENSITIVITY_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// make sure that valid pointer have been given </span>
  assert (elem != NULL);
        
  <span class="keyword">static</span> DenseMatrix&lt;double&gt; matrix;
  <span class="keyword">static</span> DenseVector&lt;double&gt; vector, elem_dofs, elem_dof_sensitivity, elem_dofs_deriv;
  <span class="keyword">static</span> std::vector&lt;DenseVector&lt;double&gt;*&gt; elem_dof_vec(2), elem_dof_sens_vec(2);
  
  <span class="comment">// get loads for the current load case</span>
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> load_case, elem_ID;
  <span class="comment">// the loads will be stored in this map</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, const Loads::VolumeLoadCombination*&gt; volume_loads;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::SurfaceLoadCombination*&gt; &gt; surface_loads;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::NodalLoadCombination*&gt; &gt; nodal_loads;
  
  <span class="keyword">static</span> std::map&lt;unsigned int, const Loads::VolumeLoadCombination*&gt; volume_load_sensitivity;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::SurfaceLoadCombination*&gt; &gt; 
  surface_load_sensitivity;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::NodalLoadCombination*&gt; &gt; nodal_load_sensitivity;
  
  <span class="keyword">static</span> std::map&lt;unsigned int, unsigned int&gt; volume_load_map;
  <span class="keyword">static</span> std::map&lt;unsigned int, unsigned int&gt; surface_load_map;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::pair&lt;unsigned int, unsigned int&gt; &gt; nodal_load_map;
  
  <span class="keyword">static</span> <span class="keywordtype">bool</span> created_load_maps = <span class="keyword">false</span>;
  
  <span class="keywordflow">if</span> (!created_load_maps)
    {
      volume_load_map[VOLUME_HEAT_LOAD::num()] = SCALAR_VOLUME_LOAD::num();
      surface_load_map[SURFACE_HEAT_LOAD::num()] = SCALAR_SURFACE_LOAD::num();
      surface_load_map[SURFACE_RADIATION_HEAT_LOAD::num()] = SURFACE_RADIATION_LOAD::num();
      surface_load_map[SURFACE_CONVECTION_HEAT_LOAD::num()] = SURFACE_CONVECTION_LOAD::num();
      
      created_load_maps = <span class="keyword">true</span>;
    }
  
  elem_ID = elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3c0da2a03021221cb6483f690ab2f5ce">getID</a>();
  load_case = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>();
  
  <span class="comment">// set the transient nature of this discipline</span>
  <span class="keyword">static</span> <span class="keywordtype">double</span> time_val = 0.0;
  <span class="keyword">static</span> <span class="keywordtype">bool</span> transient_nature = <span class="keyword">false</span>;
  
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>(Discipline::THERMAL_DISCIPLINE::num()) 
      == Discipline::TRANSIENT_SOLUTION::num())
    {
      transient_nature = <span class="keyword">true</span>;
      time_val = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>)-&gt;getCurrentAnalysisTime();
    }
  
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aef7f0ed757b7e2717773c9932c2821a3" title="this gets the loads from the load database">getElemLoads</a>(elem_ID, elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()), 
                     load_case, transient_nature, time_val,
                     <span class="keyword">false</span>, <a class="code" href="namespace_f_e_system_numbers.html#a6247b3ec1c348e954beffbd2fabd2bef" title="an ID that will always be considered to be invalid in the code.">FESystemNumbers::InvalidID</a>,
                     volume_load_map, surface_load_map, nodal_load_map,
                     volume_loads, nodal_loads, surface_loads);
  
  <span class="keywordflow">if</span> (!sensitivity)
    elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aa20276cd6bd81035d7ae545d20121acd">setElementLoads</a>(&amp;volume_loads, &amp;surface_loads, &amp;nodal_loads,
                          NULL, NULL, NULL);
  <span class="keywordflow">else</span>
    {
      this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aef7f0ed757b7e2717773c9932c2821a3" title="this gets the loads from the load database">getElemLoads</a>(elem_ID, elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()), 
                         load_case, transient_nature, time_val,
                         <span class="keyword">true</span>, DV_ID,
                         volume_load_map, surface_load_map, nodal_load_map,
                         volume_load_sensitivity, nodal_load_sensitivity, surface_load_sensitivity);
      
      elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aa20276cd6bd81035d7ae545d20121acd">setElementLoads</a>(&amp;volume_loads, &amp;surface_loads, &amp;nodal_loads,
                            &amp;volume_load_sensitivity, &amp;surface_load_sensitivity, &amp;nodal_load_sensitivity);
    }
  
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == NONLINEAR_ANALYSIS::num())
    {
      <span class="comment">// all quantities will be evaluated at the same dof value.</span>
      this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                             elem_dofs, 0, <span class="keyword">false</span>);
      
      elem_dof_vec[0] = &amp;elem_dofs;
      
      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
          (Discipline::THERMAL_DISCIPLINE::num()) == 
          Discipline::TRANSIENT_SOLUTION::num())
        {
          <span class="comment">// all quantities will be evaluated at the same dof value.</span>
          this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                 elem_dofs_deriv, 1, <span class="keyword">false</span>);
          elem_dof_vec[1] = &amp;elem_dofs_deriv;
        }
      <span class="keywordflow">else</span>
        elem_dof_vec[1] = NULL;
      
      elem_dof_sens_vec[0] = NULL;
      elem_dof_sens_vec[1] = NULL;
      
      elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
    }
  
  
  <span class="comment">// iterate over the matrix quantities and get the data</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, DenseMatrix&lt;double&gt; &gt;::iterator mat_it, mat_end;
  mat_it = mat_elem_data.begin();
  mat_end = mat_elem_data.end();
  
  <span class="keywordflow">for</span> (; mat_it != mat_end; mat_it++)
    {
      mat_it-&gt;second.zero();
      
      <span class="keywordflow">switch</span>(mat_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5ecf4307d0a4dd0e9dfd3e6310e0266f">TRANSIENT_C1_MATRIX_ENUM_ID</a>:
        {
          <span class="comment">// get K_c and K_h</span>
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_C_MATRIX::num(), &amp;matrix);
          mat_it-&gt;second += matrix;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a4493393c1bdec52afee194f2594fbc84">TRANSIENT_C1_MATRIX_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="comment">// get K_c and K_h</span>
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::THERMAL_C_MATRIX::num(), &amp;matrix);
          mat_it-&gt;second += matrix;
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
        {
          <span class="comment">// get K_c and K_h</span>
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_K_C_MATRIX::num(), &amp;matrix);
          mat_it-&gt;second += matrix;
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_CONVECTION_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_K_H_MATRIX::num(), &amp;matrix);
              mat_it-&gt;second += matrix;
            }
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aacb10e4350c353b3978b8679679e56b5">JACOBIAN_MATRIX_ENUM_ID</a>:
        {
          <span class="comment">// get K_c and K_h</span>
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_K_C_MATRIX::num(), &amp;matrix);
          mat_it-&gt;second += matrix;
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_CONVECTION_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_K_H_MATRIX::num(), &amp;matrix);
              mat_it-&gt;second += matrix;
            }
          
          <span class="comment">// get F_sigma_Jac </span>
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_RADIATION_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_EMITTED_RAD_JAC_MATRIX::num(),
                                           &amp;matrix);
              matrix.scale(-1.0);
              mat_it-&gt;second += matrix;
            }
          
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a6dc9ef38729f861b96bf31634e24b5d0" title="checks if the analysis is dependent on temperature">checkPropertyDependenceOnTemperature</a>())
            {
              <span class="comment">// get the K_c jacobian due to temperature dependence of material property</span>
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_K_C_JAC_MATRIX::num(), &amp;matrix);
              mat_it-&gt;second += matrix;
              
              <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
                  (Discipline::THERMAL_DISCIPLINE::num()) == 
                  Discipline::TRANSIENT_SOLUTION::num() &amp;&amp;
                  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == NONLINEAR_ANALYSIS::num())
                {
                  <span class="comment">// get the K_c jacobian due to temperature dependence of material property</span>
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_C_JAC_MATRIX::num(), &amp;matrix);
                  mat_it-&gt;second += matrix;
                }
              
            }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a52792416e5c7964e3e5e7d0c47af846d">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="comment">// get K_c and K_h sensitivity</span>
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::THERMAL_K_C_MATRIX::num(),
                                                  &amp;matrix);
          mat_it-&gt;second += matrix;
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_CONVECTION_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::THERMAL_K_H_MATRIX::num(),
                                                      &amp;matrix);
              mat_it-&gt;second += matrix;
            }
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
          <span class="keywordflow">break</span>;
      }
    }
  
  
  
  <span class="comment">// iterate over the matrix quantities and get the data</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, DenseVector&lt;double&gt; &gt;::iterator vec_it, vec_end;
  vec_it = vec_elem_data.begin();
  vec_end = vec_elem_data.end();
  
  <span class="keywordflow">for</span> (; vec_it != vec_end; vec_it++)
    {
      vec_it-&gt;second.zero();
      
      <span class="keywordflow">switch</span>(vec_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ab9ed1a6cc7aa9c5c133b74bdd58e55f7">FORCE_VECTOR_ENUM_ID</a>:
        {
          <span class="comment">// get F_h, F_q, F_Q, F_nodal, F_sigma</span>
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_CONVECTION_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_F_H_VECTOR::num(), &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (volume_loads.count(VOLUME_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_F_VOL_VECTOR::num(), &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_F_Q_SURF_VECTOR::num(), &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="comment">// this is only for nonlinear. Hence, an if block should be used to calculate</span>
          <span class="comment">// this only is nonlinear </span>
          <span class="comment">// analysis is being performed</span>
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == NONLINEAR_ANALYSIS::num())
            <span class="keywordflow">if</span> (surface_loads.count(SURFACE_RADIATION_HEAT_LOAD::num()) &gt; 0)
              {
                elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::THERMAL_F_EMITTED_RAD_VECTOR::num(),
                                             &amp;vector);
                vec_it-&gt;second += vector;
              }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a28c28a5dbac04bc80307b6602e149d26">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="comment">// get F_h, F_q, F_Q, F_nodal, F_sigma sensitivity</span>
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_CONVECTION_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::THERMAL_F_H_VECTOR::num(),
                                                      &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (volume_loads.count(VOLUME_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::THERMAL_F_VOL_VECTOR::num(),
                                                      &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_HEAT_LOAD::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::THERMAL_F_Q_SURF_VECTOR::num(),
                                                      &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == NONLINEAR_ANALYSIS::num())
            <span class="keywordflow">if</span> (surface_loads.count(SURFACE_RADIATION_HEAT_LOAD::num()) &gt; 0)
              {
                elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>
                (FESystemElem::THERMAL_F_EMITTED_RAD_VECTOR::num(), &amp;vector);
                vec_it-&gt;second += vector;
              }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          abort();
          <span class="keywordflow">break</span>;
      }
    }
  
  <span class="keyword">static</span> std::map&lt;unsigned int, double &gt;::iterator real_it, real_end;
  real_it = real_elem_data.begin();
  real_end = real_elem_data.end();
  
  <span class="keywordflow">for</span> (; real_it != real_end; real_it++)
    {
      real_it-&gt;second = 0.0;
      
      <span class="keywordflow">switch</span>(real_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac31846b0c037b4f50e9800aa259fe86d">MODEL_MASS_ENUM_ID</a>:
          real_it-&gt;second += elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac300137f7e626b20b44c4142645709f1" title="calculates and returns the value of weight of the element">getElementMass</a>(<span class="keyword">false</span>);
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a5679e8fc3f4bf7490cf69dc878b26d0d">MODEL_MASS_SENSITIVITY_ENUM_ID</a>:
          real_it-&gt;second += elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac300137f7e626b20b44c4142645709f1" title="calculates and returns the value of weight of the element">getElementMass</a>(<span class="keyword">true</span>);
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          abort();
      }
    }      
  
  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af8f93e288ff813f4147b0ba810bf3681" title="this clears the property element loads and dof values">clearLoadAndDofs</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis_a50a4a218c8e11c1406c6911d8c8dba65_cgraph.gif" border="0" usemap="#class_discipline_1_1_thermal_analysis_a50a4a218c8e11c1406c6911d8c8dba65_cgraph" alt=""/></div>
<map name="class_discipline_1_1_thermal_analysis_a50a4a218c8e11c1406c6911d8c8dba65_cgraph" id="class_discipline_1_1_thermal_analysis_a50a4a218c8e11c1406c6911d8c8dba65_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af8f93e288ff813f4147b0ba810bf3681" title="this clears the property element loads and dof values" alt="" coords="367,5,727,33"/><area shape="rect" id="node5" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51" title="FESystemElem::FESystemElemBase::getElem" alt="" coords="397,57,696,85"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element" alt="" coords="344,109,749,137"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3" title="FESystemElem::FESystemElemBase::getElementAssembledQtySensitivity" alt="" coords="314,161,779,189"/><area shape="rect" id="node11" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac300137f7e626b20b44c4142645709f1" title="calculates and returns the value of weight of the element" alt="" coords="372,213,721,241"/><area shape="rect" id="node13" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3c0da2a03021221cb6483f690ab2f5ce" title="FESystemElem::FESystemElemBase::getID" alt="" coords="406,265,688,293"/><area shape="rect" id="node15" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090" title="FESystemElem::FESystemElemBase::setDofValues" alt="" coords="382,317,711,345"/><area shape="rect" id="node17" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aa20276cd6bd81035d7ae545d20121acd" title="FESystemElem::FESystemElemBase::setElementLoads" alt="" coords="370,369,723,397"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab65c5caa576e349ddbe0a508ee4957ca"></a><!-- doxytag: member="Discipline::ThermalAnalysis::getSolutionVector" ref="ab65c5caa576e349ddbe0a508ee4957ca" args="(const unsigned int transient_order, const bool sensitivity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const NumericVector&lt; double &gt; &amp; <a class="el" href="class_discipline_1_1_thermal_analysis.html#ab65c5caa576e349ddbe0a508ee4957ca">Discipline::ThermalAnalysis::getSolutionVector</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>transient_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>sensitivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this method fills the vector with the solution vector necessary for filling the quantity for the current analysis. It checks the current status of the discipline, and apropriately loads the solution vector </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aa612307281eafc53f916964f3a9a8093">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00879">879</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00058">ANALYSIS_ENUM_ID</a>, <a class="el" href="_data_info_8_c_source.html#l00043">FESystemDatabase::GenericDataInfoBase::clear()</a>, <a class="el" href="_data_info_8_c_source.html#l00389">FESystemDatabase::TimeDependentDataInfo::clear()</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00066">Driver::TransientAnalysisDriver::getCurrentAnalysisTime()</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00081">Driver::TransientAnalysisDriver::getCurrentIterationNumber()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00083">POST_PROCESS_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00070">SENSITIVITY_ANALYSIS_ENUM_ID</a>, <a class="el" href="_data_info_8_c_source.html#l00169">FESystemDatabase::GenericDataInfoBase::setDisciplineEnumID()</a>, <a class="el" href="_data_info_8_c_source.html#l00087">FESystemDatabase::GenericDataInfoBase::setLoadCase()</a>, <a class="el" href="_data_info_8_c_source.html#l00136">FESystemDatabase::GenericDataInfoBase::setName()</a>, <a class="el" href="_data_info_8_c_source.html#l00422">FESystemDatabase::TimeDependentDataInfo::setOrder()</a>, <a class="el" href="_data_info_8_c_source.html#l00441">FESystemDatabase::TimeDependentDataInfo::setTransientIterationInfo()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (transient_order &gt; 0)
    Assert(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
           (Discipline::THERMAL_DISCIPLINE::num()) == 
           Discipline::TRANSIENT_SOLUTION::num(), 
           ExcInternalError());
  
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ac28f4dda6af1a41193273d3361267cdf">getCurrentAnalysisKind</a>())
  {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a299e936642c93d0d04386ddc76886557">ANALYSIS_ENUM_ID</a>:
    {
      <span class="comment">// asking for sensitivity information does not make sense during analysis </span>
      Assert(!sensitivity, ExcInternalError());
      
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::THERMAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#a6f01b3653b99167271293cc2b367741a">getCurrentSolution</a>(transient_order);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
      }
      
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a57d11dfa38722fcddbcbf4ac842ee2e4">SENSITIVITY_ANALYSIS_ENUM_ID</a>:
    {
      <span class="comment">// asking for sensitivity information does not make sense during sensitivity analysis</span>
      Assert(!sensitivity, ExcInternalError());
      
      <span class="comment">// a pointer to the data info object</span>
      <span class="keyword">static</span> <a class="code" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> *data_info_ptr = NULL;
      
      <span class="comment">// the solution will have to be loaded for these operations</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::THERMAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="keyword">static</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a> data_info;
          data_info.<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#ab5cbefc863791bda1b4962a22598e9e0" title="clears the data structures of this object">clear</a>();
          data_info_ptr = &amp;data_info;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <span class="keyword">static</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> data_info;
          data_info.<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#ac79d78d94f6310e6fc8de1f38562a79e" title="clears the data structures of this object">clear</a>();
          <a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>* transient_driver = 
          <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>);
          data_info.<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#aaef8b950376afc6c41c56156878ea6d4" title="sets the transient iteration info">setTransientIterationInfo</a>(transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#ab9622f4ee33604c4d864d63f8cc93ef6">getCurrentIterationNumber</a>(),
                                              transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5">getCurrentAnalysisTime</a>());
          data_info.<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(transient_order);
          data_info_ptr = &amp;data_info;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
      }
      
      data_info_ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#ac1115d95573153291185f76a1540f0e1" title="sets the discipline enum ID">setDisciplineEnumID</a>(Discipline::THERMAL_DISCIPLINE::num());
      data_info_ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;Solution&quot;</span>);
      data_info_ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a700ae1ec3358b497305c2099fbf1cfea" title="sets the load case value, and also sets to true the boolean value of if_load_case_dependent">setLoadCase</a>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
      
      <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a756015bf9758ba8ba96476998d37172b">loaded_solution</a>.<a class="code" href="class_f_e_system_utility_1_1_loaded_solution.html#a3e80b12f7a52ae32fd01ee7287b24f42">loadSolutionFromDatabase</a>
      (*(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a8ffac08a8cf64ecc7271a3fa8ff04090">fesystem_controller</a>.<a class="code" href="class_f_e_system_1_1_f_e_system_controller.html#a61c6211b1a2e6518ac9e357e385fad2b" title="stores global matrices and vectors">global_data_storage</a>.get()), *data_info_ptr);
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a226ee1841d7981adbdf8b31fac41813d">POST_PROCESS_ENUM_ID</a>:
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, ExcInternalError());
  }
  
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis_ab65c5caa576e349ddbe0a508ee4957ca_cgraph.gif" border="0" usemap="#class_discipline_1_1_thermal_analysis_ab65c5caa576e349ddbe0a508ee4957ca_cgraph" alt=""/></div>
<map name="class_discipline_1_1_thermal_analysis_ab65c5caa576e349ddbe0a508ee4957ca_cgraph" id="class_discipline_1_1_thermal_analysis_ab65c5caa576e349ddbe0a508ee4957ca_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_generic_data_info_base.html#ab5cbefc863791bda1b4962a22598e9e0" title="clears the data structures of this object" alt="" coords="840,38,1152,66"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_time_dependent_data_info.html#ac79d78d94f6310e6fc8de1f38562a79e" title="clears the data structures of this object" alt="" coords="406,64,735,92"/><area shape="rect" id="node8" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5" title="Driver::TransientAnalysisDriver::getCurrentAnalysisTime" alt="" coords="394,116,748,144"/><area shape="rect" id="node10" href="class_driver_1_1_transient_analysis_driver.html#ab9622f4ee33604c4d864d63f8cc93ef6" title="Driver::TransientAnalysisDriver::getCurrentIterationNumber" alt="" coords="385,168,756,196"/><area shape="rect" id="node12" href="class_f_e_system_database_1_1_generic_data_info_base.html#ac1115d95573153291185f76a1540f0e1" title="sets the discipline enum ID" alt="" coords="368,220,773,248"/><area shape="rect" id="node14" href="class_f_e_system_database_1_1_generic_data_info_base.html#a700ae1ec3358b497305c2099fbf1cfea" title="sets the load case value, and also sets to true the boolean value of if_load_case_dependent" alt="" coords="390,272,751,300"/><area shape="rect" id="node16" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity" alt="" coords="403,324,738,352"/><area shape="rect" id="node18" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector" alt="" coords="395,376,746,404"/><area shape="rect" id="node20" href="class_f_e_system_database_1_1_time_dependent_data_info.html#aaef8b950376afc6c41c56156878ea6d4" title="sets the transient iteration info" alt="" coords="349,428,792,456"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae0c0c3760e1b6096691eeec341fe65cf"></a><!-- doxytag: member="Discipline::ThermalAnalysis::getTransientSystemOrder" ref="ae0c0c3760e1b6096691eeec341fe65cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_discipline_1_1_thermal_analysis.html#ae0c0c3760e1b6096691eeec341fe65cf">Discipline::ThermalAnalysis::getTransientSystemOrder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the order of the transient nature of the problem </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aaeb6d143a8190229a5199d3f6416f85d">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8h_source.html#l00263">263</a> of file <a class="el" href="_thermal_analysis_8h_source.html">ThermalAnalysis.h</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a589fc67cc5da455aa185b7975da18d76"></a><!-- doxytag: member="Discipline::ThermalAnalysis::performAdditionalOperationsOnGlobalQuantities" ref="a589fc67cc5da455aa185b7975da18d76" args="(std::map&lt; unsigned int, SparseMatrix&lt; double &gt; * &gt; &amp;matrix_map, std::map&lt; unsigned int, NumericVector&lt; double &gt; * &gt; &amp;vector_map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_thermal_analysis.html#a589fc67cc5da455aa185b7975da18d76">Discipline::ThermalAnalysis::performAdditionalOperationsOnGlobalQuantities</a> </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; unsigned int, SparseMatrix&lt; double &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>matrix_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, NumericVector&lt; double &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>vector_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this method will perform some discipline specific operations once the global quantities have been calculated </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a5aed5bfc77d2968f249b66881bcc6643">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8_c_source.html#l00698">698</a> of file <a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a>.</p>

<p>References <a class="el" href="_petsc_vector_base_8h_source.html#l00187">FESystemNumerics::PetscVectorBase&lt; T &gt;::el()</a>, <a class="el" href="_petsc_matrix_base_8h_source.html#l00281">FESystemNumerics::PetscMatrixBase&lt; T &gt;::el()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00109">FORCE_VECTOR_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00157">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00121">JACOBIAN_MATRIX_ENUM_ID</a>, <a class="el" href="_petsc_matrix_base_8h_source.html#l00869">FESystemNumerics::PetscMatrixBase&lt; T &gt;::m()</a>, <a class="el" href="_petsc_matrix_base_8h_source.html#l00883">FESystemNumerics::PetscMatrixBase&lt; T &gt;::n()</a>, <a class="el" href="_petsc_seq_vector_8h_source.html#l00093">FESystemNumerics::PetscSeqVector&lt; T &gt;::resize()</a>, <a class="el" href="_petsc_seq_dense_matrix_8h_source.html#l00114">FESystemNumerics::PetscSeqDenseMatrix&lt; T &gt;::resize()</a>, <a class="el" href="_petsc_vector_base_8h_source.html#l00511">FESystemNumerics::PetscVectorBase&lt; T &gt;::scale()</a>, <a class="el" href="_petsc_vector_base_8h_source.html#l00215">FESystemNumerics::PetscVectorBase&lt; T &gt;::set()</a>, and <a class="el" href="_petsc_vector_base_8h_source.html#l00408">FESystemNumerics::PetscVectorBase&lt; T &gt;::size()</a>.</p>
<div class="fragment"><pre class="fragment">{
  
  std::map&lt;unsigned int, SparseMatrix&lt;double&gt;* &gt;::iterator matrix_it, matrix_end;  
  matrix_it = matrix_map.begin();
  matrix_end = matrix_map.end();
  
  
  <span class="comment">// iterate over the quantities and perform the operations on them</span>
  <span class="keywordflow">for</span> ( ; matrix_it != matrix_end; matrix_it++)
    {
      <span class="keywordflow">switch</span> (matrix_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aacb10e4350c353b3978b8679679e56b5">JACOBIAN_MATRIX_ENUM_ID</a>:
        {
          <span class="keyword">const</span> std::vector&lt;unsigned int&gt;&amp; nnz = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a7c206fef140bc003c2a6184c057c2d5a" title="dof map data-structure">dof_map</a>-&gt;get_n_nz();
          std::vector&lt;std::set&lt;unsigned int&gt; &gt; ids(nnz.size());
          
          <span class="comment">// get a reference to the solution vector</span>
          NumericVector&lt;double&gt;&amp; sol_vec = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#a6f01b3653b99167271293cc2b367741a">getCurrentSolution</a>(0);
          
          <a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html">FESystemNumerics::PetscSeqVector&lt;double&gt;</a> nodal_temp_vals;
          <a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_dense_matrix.html">FESystemNumerics::PetscSeqDenseMatrix&lt;double&gt;</a> radiation_jacobian;
          std::vector&lt;unsigned int&gt; rad_nodal_dofs;
          
          std::vector&lt;RadiationCavityAnalysis*&gt;::iterator it, end;
          it = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.begin();
          end = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.end();
          
          <span class="keywordflow">for</span> (; it != end; it++)
            {
              <span class="comment">// get the nodal dofs for the cavity</span>
              rad_nodal_dofs.clear();
              (*it)-&gt;getFENodalDofIDs(rad_nodal_dofs);
              
              <span class="comment">// prepare the nodal temperature vector for these dofs</span>
              nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html#a734ca8b60d564df1539ae11e9fd5f867" title="resize the matrix to the given dimensions">resize</a>(rad_nodal_dofs.size());
              radiation_jacobian.<a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_dense_matrix.html#a5acdf5297d21c760dfe0dda54f4d66ca" title="resize the matrix to the given dimensions">resize</a>(rad_nodal_dofs.size(),
                                        rad_nodal_dofs.size());
              
              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#ab13ec4f05aad80c7e4060c45cf83caac">size</a>(); i++)
                nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a9fe9c425efb52cefc5b552cdf3295328">set</a>(i, sol_vec(rad_nodal_dofs[i]));
              
              
              (*it)-&gt;getFEJacobianMatrix(nodal_temp_vals, radiation_jacobian);
              
              
              DenseMatrix&lt;double&gt; matrix(radiation_jacobian.<a class="code" href="class_f_e_system_numerics_1_1_petsc_matrix_base.html#aef539c1770a3365a9b70dd8be0097c91">m</a>(),
                                         radiation_jacobian.<a class="code" href="class_f_e_system_numerics_1_1_petsc_matrix_base.html#a6cd62edc363882589e4d9520f2c3f566">n</a>());
              
              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; matrix.m(); i++)
                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j &lt; matrix.n(); j++)
                  matrix(i,j) = radiation_jacobian.<a class="code" href="class_f_e_system_numerics_1_1_petsc_matrix_base.html#aedfc34e4545d0baee10a972a43e11cd3">el</a>(i,j);
              
              matrix_it-&gt;second-&gt;add_matrix(matrix, rad_nodal_dofs);
            }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
        {
          <span class="comment">// keep going, nothing to be done otherwise</span>
        }
          <span class="keywordflow">break</span>;
      }
    }
  
  
  std::map&lt;unsigned int, NumericVector&lt;double&gt;* &gt;::iterator vector_it, vector_end;
  vector_it = vector_map.begin();
  vector_end = vector_map.end();
  
  <span class="keywordflow">for</span> ( ; vector_it != vector_end; vector_it++)
    {
      <span class="keywordflow">switch</span> (vector_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ab9ed1a6cc7aa9c5c133b74bdd58e55f7">FORCE_VECTOR_ENUM_ID</a>:
        {
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == Discipline::NONLINEAR_ANALYSIS::num())
            {
              NumericVector&lt;double&gt;&amp; sol_vec = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#a6f01b3653b99167271293cc2b367741a">getCurrentSolution</a>(0);
              <a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html">FESystemNumerics::PetscSeqVector&lt;double&gt;</a> radiation_load_vector, nodal_temp_vals;
              std::vector&lt;unsigned int&gt; rad_nodal_dofs;
              
              std::vector&lt;RadiationCavityAnalysis*&gt;::iterator it, end;
              it = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.begin();
              end = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.end();
              
              <span class="keywordflow">for</span> (; it != end; it++)
                {
                  <span class="comment">// get the nodal dofs for the cavity</span>
                  rad_nodal_dofs.clear();
                  (*it)-&gt;getFENodalDofIDs(rad_nodal_dofs);
                  
                  <span class="comment">// prepare the nodal temperature vector for these dofs</span>
                  nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html#a734ca8b60d564df1539ae11e9fd5f867" title="resize the matrix to the given dimensions">resize</a>(rad_nodal_dofs.size());
                  radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html#a734ca8b60d564df1539ae11e9fd5f867" title="resize the matrix to the given dimensions">resize</a>(rad_nodal_dofs.size());
                  
                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#ab13ec4f05aad80c7e4060c45cf83caac">size</a>(); i++)
                    nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a9fe9c425efb52cefc5b552cdf3295328">set</a>(i, sol_vec(rad_nodal_dofs[i]));
                  
                  (*it)-&gt;getFENodalLoadVector(nodal_temp_vals,
                                              radiation_load_vector);
                  
                  <span class="comment">// the vector has to be scaled by -1.0 since the </span>
                  <span class="comment">// load vector for a radiation is assumed +ve for </span>
                  <span class="comment">// flux leaving the surface, which is opposite to the </span>
                  <span class="comment">// FE sign convention.</span>
                  radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a67cddf9b9ceb614362da1519af23b3d3">scale</a>(-1.0);
                  
                  DenseVector&lt;double&gt; vector(radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#ab13ec4f05aad80c7e4060c45cf83caac">size</a>());
                  
                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; vector.size(); i++)
                    vector(i) = radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a98c553254ecd51c3ece2b86e52cd960e">el</a>(i);
                  
                  vector_it-&gt;second-&gt;add_vector(vector,
                                                rad_nodal_dofs);
                }
            }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a28c28a5dbac04bc80307b6602e149d26">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a> == Discipline::NONLINEAR_ANALYSIS::num())
            {
              NumericVector&lt;double&gt;&amp; sol_vec = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#a6f01b3653b99167271293cc2b367741a">getCurrentSolution</a>(0);
              <a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html">FESystemNumerics::PetscSeqVector&lt;double&gt;</a> radiation_load_vector, nodal_temp_vals;
              std::vector&lt;unsigned int&gt; rad_nodal_dofs;
              
              std::vector&lt;RadiationCavityAnalysis*&gt;::iterator it, end;
              it = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.begin();
              end = this-&gt;<a class="code" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9" title="vector of radiation cavity analysis">radiation_cavity_analysis_vector</a>.end();
              
              <span class="keywordflow">for</span> (; it != end; it++)
                {
                  <span class="comment">// get the nodal dofs for the cavity</span>
                  rad_nodal_dofs.clear();
                  (*it)-&gt;getFENodalDofIDs(rad_nodal_dofs);
                  
                  <span class="comment">// prepare the nodal temperature vector for these dofs</span>
                  nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html#a734ca8b60d564df1539ae11e9fd5f867" title="resize the matrix to the given dimensions">resize</a>(rad_nodal_dofs.size());
                  radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html#a734ca8b60d564df1539ae11e9fd5f867" title="resize the matrix to the given dimensions">resize</a>(rad_nodal_dofs.size());
                  
                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#ab13ec4f05aad80c7e4060c45cf83caac">size</a>(); i++)
                    nodal_temp_vals.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a9fe9c425efb52cefc5b552cdf3295328">set</a>(i, sol_vec(rad_nodal_dofs[i]));
                  
                  (*it)-&gt;getFENodalLoadVectorSensitivity
                  (nodal_temp_vals,
                   radiation_load_vector);
                  
                  <span class="comment">// the vector has to be scaled by -1.0 since the </span>
                  <span class="comment">// load vector for a radiation is assumed +ve for </span>
                  <span class="comment">// flux leaving the surface, which is opposite to the </span>
                  <span class="comment">// FE sign convention.</span>
                  radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a67cddf9b9ceb614362da1519af23b3d3">scale</a>(-1.0);
                  
                  DenseVector&lt;double&gt; vector(radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#ab13ec4f05aad80c7e4060c45cf83caac">size</a>());
                  
                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; vector.size(); i++)
                    vector(i) = radiation_load_vector.<a class="code" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a98c553254ecd51c3ece2b86e52cd960e">el</a>(i);
                  
                  vector_it-&gt;second-&gt;add_vector(vector,
                                                rad_nodal_dofs);
                }
            }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
        {
          <span class="comment">// keep going, nothing to be done here.</span>
        }
      }
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_thermal_analysis_a589fc67cc5da455aa185b7975da18d76_cgraph.gif" border="0" usemap="#class_discipline_1_1_thermal_analysis_a589fc67cc5da455aa185b7975da18d76_cgraph" alt=""/></div>
<map name="class_discipline_1_1_thermal_analysis_a589fc67cc5da455aa185b7975da18d76_cgraph" id="class_discipline_1_1_thermal_analysis_a589fc67cc5da455aa185b7975da18d76_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a98c553254ecd51c3ece2b86e52cd960e" title="FESystemNumerics::PetscVectorBase::el" alt="" coords="559,5,825,33"/><area shape="rect" id="node5" href="class_f_e_system_numerics_1_1_petsc_matrix_base.html#aedfc34e4545d0baee10a972a43e11cd3" title="FESystemNumerics::PetscMatrixBase::el" alt="" coords="560,57,824,85"/><area shape="rect" id="node7" href="class_f_e_system_numerics_1_1_petsc_matrix_base.html#aef539c1770a3365a9b70dd8be0097c91" title="FESystemNumerics::PetscMatrixBase::m" alt="" coords="559,109,825,137"/><area shape="rect" id="node9" href="class_f_e_system_numerics_1_1_petsc_matrix_base.html#a6cd62edc363882589e4d9520f2c3f566" title="FESystemNumerics::PetscMatrixBase::n" alt="" coords="561,161,823,189"/><area shape="rect" id="node11" href="class_f_e_system_numerics_1_1_petsc_seq_vector.html#a734ca8b60d564df1539ae11e9fd5f867" title="resize the matrix to the given dimensions" alt="" coords="550,213,834,241"/><area shape="rect" id="node13" href="class_f_e_system_numerics_1_1_petsc_seq_dense_matrix.html#a5acdf5297d21c760dfe0dda54f4d66ca" title="resize the matrix to the given dimensions" alt="" coords="531,265,853,293"/><area shape="rect" id="node15" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a67cddf9b9ceb614362da1519af23b3d3" title="FESystemNumerics::PetscVectorBase::scale" alt="" coords="549,317,835,345"/><area shape="rect" id="node17" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#a9fe9c425efb52cefc5b552cdf3295328" title="FESystemNumerics::PetscVectorBase::set" alt="" coords="555,369,829,397"/><area shape="rect" id="node19" href="class_f_e_system_numerics_1_1_petsc_vector_base.html#ab13ec4f05aad80c7e4060c45cf83caac" title="FESystemNumerics::PetscVectorBase::size" alt="" coords="552,421,832,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a42e43b7aa67b21817590c3aa1dfc88de"></a><!-- doxytag: member="Discipline::ThermalAnalysis::sameSystemMatrixForLoadCases" ref="a42e43b7aa67b21817590c3aa1dfc88de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_thermal_analysis.html#a42e43b7aa67b21817590c3aa1dfc88de">Discipline::ThermalAnalysis::sameSystemMatrixForLoadCases</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns if same system matrix can be used for different load cases </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a1bd5506a056a8bc7dd65c92e42937fc7">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_thermal_analysis_8h_source.html#l00272">272</a> of file <a class="el" href="_thermal_analysis_8h_source.html">ThermalAnalysis.h</a>.</p>

<p>References <a class="el" href="_analysis_discipline_base_8h_source.html#l00085">LINEAR_ANALYSIS_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00097">NONLINEAR_ANALYSIS_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a>)
    {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a3ca63cbb410ac0c446fecac2d24c405e">LINEAR_ANALYSIS_ENUM_ID</a>:
      <span class="keywordflow">return</span> <span class="keyword">false</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a824683bf8277742cdad4aedcea1ef1c4">NONLINEAR_ANALYSIS_ENUM_ID</a>:
      <span class="keywordflow">return</span> <span class="keyword">false</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      abort();
      <span class="keywordflow">break</span>;
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a78ee0e02f3e426b5a661720f0b9774c9"></a><!-- doxytag: member="Discipline::ThermalAnalysis::radiation_cavity_analysis_vector" ref="a78ee0e02f3e426b5a661720f0b9774c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_radiation_cavity_analysis.html">RadiationCavityAnalysis</a>*&gt; <a class="el" href="class_discipline_1_1_thermal_analysis.html#a78ee0e02f3e426b5a661720f0b9774c9">Discipline::ThermalAnalysis::radiation_cavity_analysis_vector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>vector of radiation cavity analysis </p>

<p>Definition at line <a class="el" href="_thermal_analysis_8h_source.html#l00255">255</a> of file <a class="el" href="_thermal_analysis_8h_source.html">ThermalAnalysis.h</a>.</p>

<p>Referenced by <a class="el" href="_thermal_analysis_8_c_source.html#l00039">ThermalAnalysis()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Discipline/<a class="el" href="_thermal_analysis_8h_source.html">ThermalAnalysis.h</a></li>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Discipline/<a class="el" href="_thermal_analysis_8_c_source.html">ThermalAnalysis.C</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 12 2012 18:06:21 for fesystem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
