<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fesystem: FESystemDatabase::GlobalDataStorage Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">fesystem
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_f_e_system_database.html">FESystemDatabase</a>      </li>
      <li class="navelem"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html">GlobalDataStorage</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">FESystemDatabase::GlobalDataStorage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="FESystemDatabase::GlobalDataStorage" -->
<p><code>#include &lt;<a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for FESystemDatabase::GlobalDataStorage:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage__coll__graph.gif" border="0" usemap="#_f_e_system_database_1_1_global_data_storage_coll__map" alt="Collaboration graph"/></div>
<map name="_f_e_system_database_1_1_global_data_storage_coll__map" id="_f_e_system_database_1_1_global_data_storage_coll__map">
<area shape="rect" id="node2" href="class_f_e_system_1_1_f_e_system_controller.html" title="FESystem::FESystemController" alt="" coords="30,6,239,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_f_e_system_database_1_1_global_data_storage-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#ad0f02a217f1a0b683a0a212bb35cf599">GlobalDataStorage</a> (<a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;fesystem, const std::string &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a85710950beb5306fc1f02f5b23ee65f9">~GlobalDataStorage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aaf4cb083493022463b64687298fe7efe">clear</a> ()</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class MatrixType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a3fdfc9ef392437d30e8a401dbc683cd7">storeMatrix</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, MatrixType &amp;)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class VectorType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a68bbe0daee3dab4f562857050b2784ca">storeVector</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, VectorType &amp;)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class DataType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#ab76cfe22d9c21c0aa41679a916c31f84">asciiStore</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, DataType &amp;)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class MatrixType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a28e337028ff2d945c4808d0eeee4f0bb">fillMatrix</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, MatrixType &amp;)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class VectorType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aec5ec75732074b70ad79d927b34f1009">fillVector</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, VectorType &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a6a9261677b5f185979408a8cb8d830cf">storeMatrix</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, SparseMatrix&lt; double &gt; &amp;matrix)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aec6aa3c519c9ad88b648f91c9379c101">storeVector</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, NumericVector&lt; double &gt; &amp;vector)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#acc7a238ff53c56a20e733e0100960516">fillMatrix</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, SparseMatrix&lt; double &gt; &amp;matrix)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a4035cfc345d618ff69b42ebf89fbb25d">fillVector</a> (const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;data_info, NumericVector&lt; double &gt; &amp;vector)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a69bf1ba016407878cf17b83df4b89ac7">storeMatrixToHDF5</a> (const std::string &amp;file_name, const unsigned int m, const unsigned int <a class="el" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>, const double *mat_data, const bool if_overwrite)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a5d7ec7afe0e2f8c56130b44ef39a54e4">fillMatrixFromHDF5</a> (const std::string &amp;file_name, unsigned int &amp;m, unsigned int &amp;<a class="el" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>, double **mat_data)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a2fe80489502b02734ad15600baf88668">fesystem_controller</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">reference to the FESystemController object  <a href="#a2fe80489502b02734ad15600baf88668"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a98354a1f4294c9e692c305dbc9a271f6">database_name</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the HDF5 database name  <a href="#a98354a1f4294c9e692c305dbc9a271f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9">hdf5_file_id</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HDF5 database file id.  <a href="#a2522963d8b36c957ad65c12573763cf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab">stored_quantity</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">map to keep track of quantities that have been stored in the database  <a href="#af3229b31017f01450f704f13bc8395ab"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>this class will store all the calculated element quantities for use in the assembly and sensitivity analysis process </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00038">38</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad0f02a217f1a0b683a0a212bb35cf599"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::GlobalDataStorage" ref="ad0f02a217f1a0b683a0a212bb35cf599" args="(FESystem::FESystemController &amp;fesystem, const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#ad0f02a217f1a0b683a0a212bb35cf599">FESystemDatabase::GlobalDataStorage::GlobalDataStorage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;&#160;</td>
          <td class="paramname"><em>fesystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_global_data_storage_8_c_source.html#l00024">24</a> of file <a class="el" href="_global_data_storage_8_c_source.html">GlobalDataStorage.C</a>.</p>

<p>References <a class="el" href="_f_e_system_common_8h_source.html#l00019">FESystem::total_processors</a>.</p>
<div class="fragment"><pre class="fragment">                       :
<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2fe80489502b02734ad15600baf88668" title="reference to the FESystemController object">fesystem_controller</a>(fesystem),
<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a98354a1f4294c9e692c305dbc9a271f6" title="name of the HDF5 database name">database_name</a>(name),
<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a>(<a class="code" href="namespace_f_e_system_numbers.html#a6247b3ec1c348e954beffbd2fabd2bef" title="an ID that will always be considered to be invalid in the code.">FESystemNumbers::InvalidID</a>)
{
  <span class="comment">// first create a CREATION property list</span>
  <span class="keywordtype">int</span> creation_property_list_id = H5Pcreate(H5P_FILE_CREATE);
  
  <span class="comment">// and an ACCESS property list</span>
  <span class="keywordtype">int</span> access_property_list_id = H5Pcreate(H5P_FILE_ACCESS);
  
  <span class="comment">// if only one processor is being used, then a local accessible file can be created, </span>
  <span class="comment">// otherwise, the file needs to be opened with parallel access.</span>
  <span class="keywordflow">if</span> (<a class="code" href="namespace_f_e_system.html#ae4bbcaae357aaeff9ceaba59c7632726" title="total number of processors in this communicator">FESystem::total_processors</a> &gt; 1)
    {
<span class="comment">//      hid_t ierr = H5Pset_fapl_mpio(access_property_list_id, </span>
<span class="comment">//                                    FESystem::COMM_WORLD,</span>
<span class="comment">//                                    FESystem::MPI_INFO);</span>
<span class="comment">//      AssertThrow (ierr &gt;= 0, ExcInternalError());</span>
                AssertThrow (<span class="keyword">false</span>, ExcInternalError());
    }
  
  
  <span class="comment">// now, using the creation and access property list, create a file</span>
  this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a> = H5Fcreate(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a98354a1f4294c9e692c305dbc9a271f6" title="name of the HDF5 database name">database_name</a>.c_str(),
                                 H5F_ACC_TRUNC,
                                 creation_property_list_id,
                                 access_property_list_id);
  
  <span class="comment">// make sure that the file was created without problems.</span>
  AssertThrow (this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a> &gt; 0, ExcInternalError());
  
  
  <span class="comment">// now destroy the property lists</span>
  <span class="keywordtype">int</span> ierr = 0;
  ierr = H5Pclose(creation_property_list_id);
  AssertThrow (ierr &gt;= 0, ExcInternalError());
  
  ierr = H5Pclose(access_property_list_id);
  AssertThrow (ierr &gt;= 0, ExcInternalError());  
}
</pre></div>
</div>
</div>
<a class="anchor" id="a85710950beb5306fc1f02f5b23ee65f9"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::~GlobalDataStorage" ref="a85710950beb5306fc1f02f5b23ee65f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a85710950beb5306fc1f02f5b23ee65f9">FESystemDatabase::GlobalDataStorage::~GlobalDataStorage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_global_data_storage_8_c_source.html#l00069">69</a> of file <a class="el" href="_global_data_storage_8_c_source.html">GlobalDataStorage.C</a>.</p>

<p>References <a class="el" href="_global_data_storage_8h_source.html#l00129">hdf5_file_id</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// close the HDF5 file </span>
  <span class="keywordtype">int</span> ierr = 0;
  ierr = H5Fclose(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a>);
  AssertThrow (ierr &gt;= 0, ExcInternalError());
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab76cfe22d9c21c0aa41679a916c31f84"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::asciiStore" ref="ab76cfe22d9c21c0aa41679a916c31f84" args="(const FESystemDatabase::DataInfoBase &amp;data_info, DataType &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#ab76cfe22d9c21c0aa41679a916c31f84">FESystemDatabase::GlobalDataStorage::asciiStore</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DataType &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>stores the matrix in an ascii format. the arguements are </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">load</td><td>case number </td></tr>
    <tr><td class="paramname">matrix</td><td>name </td></tr>
    <tr><td class="paramname">matrix</td><td>to be stored </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00141">141</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>.</p>
<div class="fragment"><pre class="fragment">    {   
      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      std::fstream output;
      output.open(file_name.c_str(), std::fstream::out);
      
      <span class="comment">// write the matrix elements to the file</span>
      output &lt;&lt; matrix;
      
      <span class="comment">// close the file stream</span>
      output.close();
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_ab76cfe22d9c21c0aa41679a916c31f84_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_ab76cfe22d9c21c0aa41679a916c31f84_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_ab76cfe22d9c21c0aa41679a916c31f84_cgraph" id="class_f_e_system_database_1_1_global_data_storage_ab76cfe22d9c21c0aa41679a916c31f84_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="382,5,663,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa320ecb6f1af47089a08bef918f98348"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" ref="aa320ecb6f1af47089a08bef918f98348" args="(const FESystemDatabase::DataInfoBase &amp;data_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">FESystemDatabase::GlobalDataStorage::checkIfQtyExists</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks if the matrix exists, and returns it as a boolean. the input arguements are </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">load</td><td>case number, </td></tr>
    <tr><td class="paramname">matrix</td><td>name </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_global_data_storage_8_c_source.html#l00082">82</a> of file <a class="el" href="_global_data_storage_8_c_source.html">GlobalDataStorage.C</a>.</p>

<p>References <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>.</p>

<p>Referenced by <a class="el" href="_global_data_storage_8h_source.html#l00247">fillMatrix()</a>, <a class="el" href="_global_data_storage_8h_source.html#l00188">fillVector()</a>, <a class="el" href="_loaded_solution_8_c_source.html#l00060">FESystemUtility::LoadedSolution::loadSolutionFromDatabase()</a>, <a class="el" href="_global_data_storage_8h_source.html#l00217">storeMatrix()</a>, and <a class="el" href="_global_data_storage_8h_source.html#l00160">storeVector()</a>.</p>
<div class="fragment"><pre class="fragment">{
  std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
  
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab" title="map to keep track of quantities that have been stored in the database">stored_quantity</a>.count(file_name);
  
  <span class="keywordflow">if</span> (count == 0)
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
  <span class="keywordflow">else</span> 
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_aa320ecb6f1af47089a08bef918f98348_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_aa320ecb6f1af47089a08bef918f98348_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_aa320ecb6f1af47089a08bef918f98348_cgraph" id="class_f_e_system_database_1_1_global_data_storage_aa320ecb6f1af47089a08bef918f98348_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="422,5,703,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf4cb083493022463b64687298fe7efe"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::clear" ref="aaf4cb083493022463b64687298fe7efe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aaf4cb083493022463b64687298fe7efe">FESystemDatabase::GlobalDataStorage::clear</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to clear the data stored </p>

</div>
</div>
<a class="anchor" id="a28e337028ff2d945c4808d0eeee4f0bb"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::fillMatrix" ref="a28e337028ff2d945c4808d0eeee4f0bb" args="(const FESystemDatabase::DataInfoBase &amp;data_info, MatrixType &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatrixType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a28e337028ff2d945c4808d0eeee4f0bb">FESystemDatabase::GlobalDataStorage::fillMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixType &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to get a quantity from the stored data </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00247">247</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, <a class="el" href="_global_data_storage_8_c_source.html#l00163">fillMatrixFromHDF5()</a>, <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>, and <a class="el" href="_arpack_eigen_solver_8h_source.html#l00290">n</a>.</p>
<div class="fragment"><pre class="fragment">    {
      <span class="comment">// make sure that the data has been stored earlier</span>
      Assert(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info), ExcInternalError());

      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      <span class="comment">// create an array and copy the values in it</span>
      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m, <a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>;
      <span class="keywordtype">double</span>* vals = NULL;
      
      this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a5d7ec7afe0e2f8c56130b44ef39a54e4">fillMatrixFromHDF5</a>(file_name, m, n, &amp;vals);
      
      Assert(vals != NULL, ExcInternalError());
      
      <span class="keywordflow">if</span> (matrix.m() != m || matrix.n() != <a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>)
        matrix.resize(m,n);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;m; i++)
        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>; j++)
          matrix.set(i, j, *(vals+(i*n+j)));
      
      <span class="keyword">delete</span>[] vals;
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_a28e337028ff2d945c4808d0eeee4f0bb_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_a28e337028ff2d945c4808d0eeee4f0bb_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_a28e337028ff2d945c4808d0eeee4f0bb_cgraph" id="class_f_e_system_database_1_1_global_data_storage_a28e337028ff2d945c4808d0eeee4f0bb_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="379,5,746,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="803,31,1085,59"/><area shape="rect" id="node7" href="class_f_e_system_database_1_1_global_data_storage.html#a5d7ec7afe0e2f8c56130b44ef39a54e4" title="FESystemDatabase::GlobalDataStorage::fillMatrixFromHDF5" alt="" coords="371,109,754,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acc7a238ff53c56a20e733e0100960516"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::fillMatrix" ref="acc7a238ff53c56a20e733e0100960516" args="(const FESystemDatabase::DataInfoBase &amp;data_info, SparseMatrix&lt; double &gt; &amp;matrix)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a28e337028ff2d945c4808d0eeee4f0bb">FESystemDatabase::GlobalDataStorage::fillMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SparseMatrix&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00313">313</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, and <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>.</p>
<div class="fragment"><pre class="fragment">    {
      <span class="comment">// make sure that the data has been stored earlier</span>
      Assert(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info), ExcInternalError());

      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      <span class="comment">// make sure that the file exists</span>
      
      matrix.load_from_binary_file(file_name);
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_acc7a238ff53c56a20e733e0100960516_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_acc7a238ff53c56a20e733e0100960516_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_acc7a238ff53c56a20e733e0100960516_cgraph" id="class_f_e_system_database_1_1_global_data_storage_acc7a238ff53c56a20e733e0100960516_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="371,5,738,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="787,31,1069,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d7ec7afe0e2f8c56130b44ef39a54e4"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::fillMatrixFromHDF5" ref="a5d7ec7afe0e2f8c56130b44ef39a54e4" args="(const std::string &amp;file_name, unsigned int &amp;m, unsigned int &amp;n, double **mat_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a5d7ec7afe0e2f8c56130b44ef39a54e4">FESystemDatabase::GlobalDataStorage::fillMatrixFromHDF5</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>mat_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this method stores a given array to the HDF5 database file. This can be used for both vectors and matrices. For vectors, specify the second dimension as 1. The user should now have any data pointed to by mat_data. Upon return, the matrix pointer <code>mat_data</code> will have a newly created array of data of the same dimensions as mxn. This should be deleted by user. </p>

<p>Definition at line <a class="el" href="_global_data_storage_8_c_source.html#l00163">163</a> of file <a class="el" href="_global_data_storage_8_c_source.html">GlobalDataStorage.C</a>.</p>

<p>References <a class="el" href="_arpack_eigen_solver_8h_source.html#l00290">n</a>.</p>

<p>Referenced by <a class="el" href="_global_data_storage_8h_source.html#l00247">fillMatrix()</a>, and <a class="el" href="_global_data_storage_8h_source.html#l00188">fillVector()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">//      std::string file_name = this-&gt;createName(load_case_ID, quantity);</span>
        
  hid_t ndims = 0, dataspace_id=0, dataset_id=0, transfer_property_id =0,
    ierr = 0;
    
  <span class="comment">// open dataset</span>
  dataset_id = H5Dopen1(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a>, file_name.c_str());
  AssertThrow (dataset_id &gt; 0, ExcInternalError());
  
  <span class="comment">// get the dataspace for this dataset</span>
  dataspace_id = H5Dget_space(dataset_id);
  AssertThrow (dataspace_id &gt; 0, ExcInternalError());

  <span class="comment">// get the dimesnsion of the stored matrix, and make sure that the dimensions agree </span>
  <span class="comment">// with the matrix</span>
  ndims = H5Sget_simple_extent_ndims(dataspace_id);
  AssertThrow (ndims == 2, ExcInternalError());
  
  hsize_t dims[2];

  ierr = H5Sget_simple_extent_dims(dataspace_id, dims,NULL);
  AssertThrow (ierr &gt;= 0, ExcInternalError());

  m = dims[0];
  <a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a> = dims[1];
  *mat_data = <span class="keyword">new</span> <span class="keywordtype">double</span>[m*<a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>];
  
  <span class="comment">// create transfer property list</span>
  transfer_property_id = H5Pcreate(H5P_DATASET_XFER);
  AssertThrow (transfer_property_id &gt; 0, ExcInternalError());
    
  <span class="comment">// read dataset</span>
  ierr = H5Dread(dataset_id, H5T_NATIVE_DOUBLE, H5S_ALL, H5S_ALL, 
                  transfer_property_id, *mat_data);
  AssertThrow (ierr &gt;= 0, ExcInternalError());
  
  <span class="comment">// destroy the objects created</span>
  ierr = H5Pclose(transfer_property_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
  ierr = H5Sclose(dataspace_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
  ierr = H5Dclose(dataset_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
}
</pre></div>
</div>
</div>
<a class="anchor" id="aec5ec75732074b70ad79d927b34f1009"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::fillVector" ref="aec5ec75732074b70ad79d927b34f1009" args="(const FESystemDatabase::DataInfoBase &amp;data_info, VectorType &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VectorType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aec5ec75732074b70ad79d927b34f1009">FESystemDatabase::GlobalDataStorage::fillVector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorType &amp;&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to get a quantity from the stored data </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00188">188</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, <a class="el" href="_global_data_storage_8_c_source.html#l00163">fillMatrixFromHDF5()</a>, and <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>.</p>

<p>Referenced by <a class="el" href="_loaded_solution_8_c_source.html#l00060">FESystemUtility::LoadedSolution::loadSolutionFromDatabase()</a>.</p>
<div class="fragment"><pre class="fragment">    {
      <span class="comment">// make sure that the data has been stored earlier</span>
      Assert(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info), ExcInternalError());

      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      <span class="comment">// create an array and copy the values in it</span>
      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_vals, tmp;
      <span class="keywordtype">double</span> *vals = NULL;
      
      this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a5d7ec7afe0e2f8c56130b44ef39a54e4">fillMatrixFromHDF5</a>(file_name, n_vals, tmp, &amp;vals);
      
      Assert(tmp == 1, ExcInternalError());
      Assert(vals != NULL, ExcInternalError());
      
      <span class="keywordflow">if</span> (vector.size() != n_vals)
        vector.resize(n_vals);
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n_vals; i++)
        vector.set(i, *(vals+i));
      
      <span class="keyword">delete</span>[] vals;
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_aec5ec75732074b70ad79d927b34f1009_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_aec5ec75732074b70ad79d927b34f1009_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_aec5ec75732074b70ad79d927b34f1009_cgraph" id="class_f_e_system_database_1_1_global_data_storage_aec5ec75732074b70ad79d927b34f1009_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="382,5,749,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="806,31,1087,59"/><area shape="rect" id="node7" href="class_f_e_system_database_1_1_global_data_storage.html#a5d7ec7afe0e2f8c56130b44ef39a54e4" title="FESystemDatabase::GlobalDataStorage::fillMatrixFromHDF5" alt="" coords="374,109,757,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4035cfc345d618ff69b42ebf89fbb25d"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::fillVector" ref="a4035cfc345d618ff69b42ebf89fbb25d" args="(const FESystemDatabase::DataInfoBase &amp;data_info, NumericVector&lt; double &gt; &amp;vector)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#aec5ec75732074b70ad79d927b34f1009">FESystemDatabase::GlobalDataStorage::fillVector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NumericVector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00330">330</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, and <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>.</p>
<div class="fragment"><pre class="fragment">    {
      <span class="comment">// make sure that the data has been stored earlier</span>
      Assert(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info), ExcInternalError());

      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      <span class="comment">// make sure that the file exists</span>
      
      
      vector.load_from_binary_file(file_name);
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_a4035cfc345d618ff69b42ebf89fbb25d_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_a4035cfc345d618ff69b42ebf89fbb25d_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_a4035cfc345d618ff69b42ebf89fbb25d_cgraph" id="class_f_e_system_database_1_1_global_data_storage_a4035cfc345d618ff69b42ebf89fbb25d_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="374,5,741,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="790,31,1071,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3fdfc9ef392437d30e8a401dbc683cd7"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::storeMatrix" ref="a3fdfc9ef392437d30e8a401dbc683cd7" args="(const FESystemDatabase::DataInfoBase &amp;data_info, MatrixType &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatrixType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a3fdfc9ef392437d30e8a401dbc683cd7">FESystemDatabase::GlobalDataStorage::storeMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixType &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>stores the matrix in a PETSC binary format. the arguements are </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">load</td><td>case number </td></tr>
    <tr><td class="paramname">matrix</td><td>name </td></tr>
    <tr><td class="paramname">matrix</td><td>to be stored </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00217">217</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>, <a class="el" href="_arpack_eigen_solver_8h_source.html#l00290">n</a>, <a class="el" href="_global_data_storage_8h_source.html#l00132">stored_quantity</a>, and <a class="el" href="_global_data_storage_8_c_source.html#l00098">storeMatrixToHDF5()</a>.</p>
<div class="fragment"><pre class="fragment">    {   
      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      <span class="comment">// create an array and copy the values in it</span>
      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m = matrix.m(), <a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a> = matrix.n();
      <span class="keywordtype">double</span>* vals = <span class="keyword">new</span> <span class="keywordtype">double</span>[m*<a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>];
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;m; i++)
        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>; j++)
          vals[i*n+j] = matrix.el(i,j);
      
      <span class="keywordtype">bool</span> if_overwrite = <span class="keyword">false</span>;
      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info))
        if_overwrite = <span class="keyword">true</span>;

      this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a69bf1ba016407878cf17b83df4b89ac7">storeMatrixToHDF5</a>(file_name, m, n, &amp;(vals[0]), if_overwrite);
      
      <span class="keyword">delete</span>[] vals;
      
      <span class="comment">// record the name in the map, if it already does not exist</span>
      <span class="keywordflow">if</span> ( ! this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info))
        this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab" title="map to keep track of quantities that have been stored in the database">stored_quantity</a>.insert(file_name);
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_a3fdfc9ef392437d30e8a401dbc683cd7_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_a3fdfc9ef392437d30e8a401dbc683cd7_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_a3fdfc9ef392437d30e8a401dbc683cd7_cgraph" id="class_f_e_system_database_1_1_global_data_storage_a3fdfc9ef392437d30e8a401dbc683cd7_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="398,5,765,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="822,31,1103,59"/><area shape="rect" id="node8" href="class_f_e_system_database_1_1_global_data_storage.html#a69bf1ba016407878cf17b83df4b89ac7" title="FESystemDatabase::GlobalDataStorage::storeMatrixToHDF5" alt="" coords="390,109,773,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a9261677b5f185979408a8cb8d830cf"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::storeMatrix" ref="a6a9261677b5f185979408a8cb8d830cf" args="(const FESystemDatabase::DataInfoBase &amp;data_info, SparseMatrix&lt; double &gt; &amp;matrix)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a3fdfc9ef392437d30e8a401dbc683cd7">FESystemDatabase::GlobalDataStorage::storeMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SparseMatrix&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00279">279</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>, and <a class="el" href="_global_data_storage_8h_source.html#l00132">stored_quantity</a>.</p>
<div class="fragment"><pre class="fragment">    {   
      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      matrix.write_to_binary_file(file_name);
      
      <span class="comment">// record the name in the map, if it already does not exist</span>
      <span class="keywordflow">if</span> ( ! this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info))
        this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab" title="map to keep track of quantities that have been stored in the database">stored_quantity</a>.insert(file_name);
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_a6a9261677b5f185979408a8cb8d830cf_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_a6a9261677b5f185979408a8cb8d830cf_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_a6a9261677b5f185979408a8cb8d830cf_cgraph" id="class_f_e_system_database_1_1_global_data_storage_a6a9261677b5f185979408a8cb8d830cf_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="390,5,757,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="806,31,1087,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a69bf1ba016407878cf17b83df4b89ac7"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::storeMatrixToHDF5" ref="a69bf1ba016407878cf17b83df4b89ac7" args="(const std::string &amp;file_name, const unsigned int m, const unsigned int n, const double *mat_data, const bool if_overwrite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a69bf1ba016407878cf17b83df4b89ac7">FESystemDatabase::GlobalDataStorage::storeMatrixToHDF5</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>mat_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>if_overwrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this method stores a given array to the HDF5 database file. This can be used for both vectors and matrices. For vectors, specify the second dimension as 1. </p>

<p>Definition at line <a class="el" href="_global_data_storage_8_c_source.html#l00098">98</a> of file <a class="el" href="_global_data_storage_8_c_source.html">GlobalDataStorage.C</a>.</p>

<p>References <a class="el" href="_arpack_eigen_solver_8h_source.html#l00290">n</a>.</p>

<p>Referenced by <a class="el" href="_global_data_storage_8h_source.html#l00217">storeMatrix()</a>, and <a class="el" href="_global_data_storage_8h_source.html#l00160">storeVector()</a>.</p>
<div class="fragment"><pre class="fragment">{       
        <span class="comment">// write this matrix to the hdf5 database file</span>
  
  hid_t property_id = 0, dataspace_id=0, dataset_id=0, transfer_property_id =0,
    ierr = 0;
  
  <span class="comment">// create dataset creation property list</span>
  property_id = H5Pcreate(H5P_DATASET_CREATE);
  AssertThrow (property_id &gt; 0, ExcInternalError());
  
  <span class="comment">// set layout to contiguous data</span>
  ierr = H5Pset_layout(property_id,H5D_CONTIGUOUS);
  AssertThrow(ierr &gt;= 0, ExcInternalError());
  
  <span class="comment">// fill value is left at 0.0, which is default</span>
  <span class="comment">// this also lets HDF5 handle the fill time at default</span>
  <span class="comment">// alloc time is also left to default  </span>
  
  <span class="comment">// create dataspace</span>
  hsize_t dims[2];
  dims[0] = m;
  dims[1] = <a class="code" href="_arpack_eigen_solver_8h.html#aea1409bb93d418b91433540cbb22abc5">n</a>;
  
  dataspace_id = H5Screate_simple(2, dims, NULL);
  AssertThrow (dataspace_id &gt; 0, ExcInternalError());
  
  <span class="comment">// create dataset</span>
  <span class="keywordflow">if</span> (!if_overwrite)
    {
    dataset_id = H5Dcreate1(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a>, file_name.c_str(), H5T_NATIVE_DOUBLE, 
                           dataspace_id, property_id);
    AssertThrow (dataset_id &gt; 0, ExcInternalError());
    }
  <span class="keywordflow">else</span>
    {
    dataset_id  = H5Dopen1(this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9" title="HDF5 database file id.">hdf5_file_id</a>, file_name.c_str());
    AssertThrow (dataset_id &gt; 0, ExcInternalError());
    }
  
  <span class="comment">// create transfer property list</span>
  transfer_property_id = H5Pcreate(H5P_DATASET_XFER);
  AssertThrow (transfer_property_id &gt; 0, ExcInternalError());  
  
  <span class="comment">// write dataset</span>
  ierr = H5Dwrite(dataset_id, H5T_NATIVE_DOUBLE, H5S_ALL, H5S_ALL, 
                  transfer_property_id, mat_data);
  AssertThrow (ierr &gt;= 0, ExcInternalError());
  
  <span class="comment">// destroy the objects created</span>
  ierr = H5Pclose(property_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
  ierr = H5Pclose(transfer_property_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
  ierr = H5Sclose(dataspace_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
  ierr = H5Dclose(dataset_id);   AssertThrow (ierr &gt;= 0, ExcInternalError());
        
}
</pre></div>
</div>
</div>
<a class="anchor" id="a68bbe0daee3dab4f562857050b2784ca"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::storeVector" ref="a68bbe0daee3dab4f562857050b2784ca" args="(const FESystemDatabase::DataInfoBase &amp;data_info, VectorType &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VectorType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a68bbe0daee3dab4f562857050b2784ca">FESystemDatabase::GlobalDataStorage::storeVector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorType &amp;&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>stores the vector in an ascii format. the arguements are </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">load</td><td>case number </td></tr>
    <tr><td class="paramname">matrix</td><td>name </td></tr>
    <tr><td class="paramname">matrix</td><td>to be stored </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00160">160</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>, <a class="el" href="_global_data_storage_8h_source.html#l00132">stored_quantity</a>, and <a class="el" href="_global_data_storage_8_c_source.html#l00098">storeMatrixToHDF5()</a>.</p>
<div class="fragment"><pre class="fragment">    {           
      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      <span class="comment">// create an array and copy the values in it</span>
      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_vals = vector.size();
      <span class="keywordtype">double</span>* vals = <span class="keyword">new</span> <span class="keywordtype">double</span>[n_vals];
      
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n_vals; i++)
        vals[i] = vector.el(i);
      
      <span class="keywordtype">bool</span> if_overwrite = <span class="keyword">false</span>;
      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info))
        if_overwrite = <span class="keyword">true</span>;

      this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#a69bf1ba016407878cf17b83df4b89ac7">storeMatrixToHDF5</a>(file_name, n_vals, 1, &amp;(vals[0]), if_overwrite);

      <span class="keyword">delete</span>[] vals;
      
      <span class="comment">// record the name in the map, if it already does not exist</span>
      <span class="keywordflow">if</span> ( ! this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info))
        this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab" title="map to keep track of quantities that have been stored in the database">stored_quantity</a>.insert(file_name);
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_a68bbe0daee3dab4f562857050b2784ca_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_a68bbe0daee3dab4f562857050b2784ca_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_a68bbe0daee3dab4f562857050b2784ca_cgraph" id="class_f_e_system_database_1_1_global_data_storage_a68bbe0daee3dab4f562857050b2784ca_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="398,5,765,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="822,31,1103,59"/><area shape="rect" id="node8" href="class_f_e_system_database_1_1_global_data_storage.html#a69bf1ba016407878cf17b83df4b89ac7" title="FESystemDatabase::GlobalDataStorage::storeMatrixToHDF5" alt="" coords="390,109,773,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec6aa3c519c9ad88b648f91c9379c101"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::storeVector" ref="aec6aa3c519c9ad88b648f91c9379c101" args="(const FESystemDatabase::DataInfoBase &amp;data_info, NumericVector&lt; double &gt; &amp;vector)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a68bbe0daee3dab4f562857050b2784ca">FESystemDatabase::GlobalDataStorage::storeVector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &amp;&#160;</td>
          <td class="paramname"><em>data_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NumericVector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00296">296</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>References <a class="el" href="_global_data_storage_8_c_source.html#l00082">checkIfQtyExists()</a>, <a class="el" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">FESystemDatabase::DataInfoBase::getPath()</a>, and <a class="el" href="_global_data_storage_8h_source.html#l00132">stored_quantity</a>.</p>
<div class="fragment"><pre class="fragment">    {   
      std::string file_name = data_info.<a class="code" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587">getPath</a>();
      
      vector.write_to_binary_file(file_name);   
      
      
      <span class="comment">// record the name in the map, if it already does not exist</span>
      <span class="keywordflow">if</span> ( ! this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348">checkIfQtyExists</a>(data_info))
        this-&gt;<a class="code" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab" title="map to keep track of quantities that have been stored in the database">stored_quantity</a>.insert(file_name);
    }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_f_e_system_database_1_1_global_data_storage_aec6aa3c519c9ad88b648f91c9379c101_cgraph.gif" border="0" usemap="#class_f_e_system_database_1_1_global_data_storage_aec6aa3c519c9ad88b648f91c9379c101_cgraph" alt=""/></div>
<map name="class_f_e_system_database_1_1_global_data_storage_aec6aa3c519c9ad88b648f91c9379c101_cgraph" id="class_f_e_system_database_1_1_global_data_storage_aec6aa3c519c9ad88b648f91c9379c101_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_global_data_storage.html#aa320ecb6f1af47089a08bef918f98348" title="FESystemDatabase::GlobalDataStorage::checkIfQtyExists" alt="" coords="390,5,757,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_data_info_base.html#add49ffda1bb395586fba36b54071f587" title="FESystemDatabase::DataInfoBase::getPath" alt="" coords="806,31,1087,59"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a98354a1f4294c9e692c305dbc9a271f6"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::database_name" ref="a98354a1f4294c9e692c305dbc9a271f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a98354a1f4294c9e692c305dbc9a271f6">FESystemDatabase::GlobalDataStorage::database_name</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>name of the HDF5 database name </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00126">126</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2fe80489502b02734ad15600baf88668"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::fesystem_controller" ref="a2fe80489502b02734ad15600baf88668" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a>&amp; <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a2fe80489502b02734ad15600baf88668">FESystemDatabase::GlobalDataStorage::fesystem_controller</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reference to the FESystemController object </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00123">123</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2522963d8b36c957ad65c12573763cf9"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::hdf5_file_id" ref="a2522963d8b36c957ad65c12573763cf9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#a2522963d8b36c957ad65c12573763cf9">FESystemDatabase::GlobalDataStorage::hdf5_file_id</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HDF5 database file id. </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00129">129</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>Referenced by <a class="el" href="_global_data_storage_8_c_source.html#l00069">~GlobalDataStorage()</a>.</p>

</div>
</div>
<a class="anchor" id="af3229b31017f01450f704f13bc8395ab"></a><!-- doxytag: member="FESystemDatabase::GlobalDataStorage::stored_quantity" ref="af3229b31017f01450f704f13bc8395ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;std::string&gt; <a class="el" href="class_f_e_system_database_1_1_global_data_storage.html#af3229b31017f01450f704f13bc8395ab">FESystemDatabase::GlobalDataStorage::stored_quantity</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>map to keep track of quantities that have been stored in the database </p>

<p>Definition at line <a class="el" href="_global_data_storage_8h_source.html#l00132">132</a> of file <a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a>.</p>

<p>Referenced by <a class="el" href="_global_data_storage_8h_source.html#l00217">storeMatrix()</a>, and <a class="el" href="_global_data_storage_8h_source.html#l00160">storeVector()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Database/<a class="el" href="_global_data_storage_8h_source.html">GlobalDataStorage.h</a></li>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Database/<a class="el" href="_global_data_storage_8_c_source.html">GlobalDataStorage.C</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 12 2012 18:06:22 for fesystem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
