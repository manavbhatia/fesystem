<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fesystem: Discipline::StructuralAnalysis Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">fesystem
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_discipline.html">Discipline</a>      </li>
      <li class="navelem"><a class="el" href="class_discipline_1_1_structural_analysis.html">StructuralAnalysis</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Discipline::StructuralAnalysis Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Discipline::StructuralAnalysis" --><!-- doxytag: inherits="Discipline::AnalysisDisciplineBase" -->
<p><code>#include &lt;<a class="el" href="_structural_analysis_8h_source.html">StructuralAnalysis.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Discipline::StructuralAnalysis:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_structural_analysis__inherit__graph.gif" border="0" usemap="#_discipline_1_1_structural_analysis_inherit__map" alt="Inheritance graph"/></div>
<map name="_discipline_1_1_structural_analysis_inherit__map" id="_discipline_1_1_structural_analysis_inherit__map">
<area shape="rect" id="node2" href="class_discipline_1_1_analysis_discipline_base.html" title="Discipline::AnalysisDisciplineBase" alt="" coords="5,6,227,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Discipline::StructuralAnalysis:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_structural_analysis__coll__graph.gif" border="0" usemap="#_discipline_1_1_structural_analysis_coll__map" alt="Collaboration graph"/></div>
<map name="_discipline_1_1_structural_analysis_coll__map" id="_discipline_1_1_structural_analysis_coll__map">
<area shape="rect" id="node2" href="class_discipline_1_1_analysis_discipline_base.html" title="Discipline::AnalysisDisciplineBase" alt="" coords="1379,278,1602,306"/><area shape="rect" id="node4" href="class_discipline_1_1_discipline_info.html" title="Discipline::DisciplineInfo" alt="" coords="1041,139,1207,167"/><area shape="rect" id="node6" href="class_solution_1_1_solution_base.html" title="this class provides the base functionality for all solutions" alt="" coords="581,185,736,213"/><area shape="rect" id="node20" href="class_driver_1_1_analysis_driver.html" title="Driver::AnalysisDriver" alt="" coords="1049,62,1199,90"/><area shape="rect" id="node8" href="class_f_e_system_1_1_f_e_system_controller.html" title="FESystem::FESystemController" alt="" coords="19,185,229,213"/><area shape="rect" id="node10" href="class_mesh_d_s_1_1_f_e_dof_map.html" title="MeshDS::FEDofMap" alt="" coords="1052,411,1196,439"/><area shape="rect" id="node13" href="class_mesh_d_s_1_1_f_e_mesh_data.html" title="MeshDS::FEMeshData" alt="" coords="1045,307,1203,335"/><area shape="rect" id="node15" href="class_mesh_d_s_1_1_f_e_mesh.html" title="MeshDS::FEMesh" alt="" coords="594,426,723,454"/><area shape="rect" id="node18" href="class_f_e_system_utility_1_1_loaded_solution.html" title="this class is a data structure that stores loaded solution from the database" alt="" coords="1016,359,1232,387"/><area shape="rect" id="node23" href="class_solver_1_1_f_e_system_solver_base.html" title="Solver::FESystemSolverBase" alt="" coords="1393,34,1589,62"/><area shape="rect" id="node26" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; NumericVector\&lt; double \&gt; \&gt;" alt="" coords="469,7,848,35"/><area shape="rect" id="node28" href="class_f_e_system_utility_1_1_auto_ptr_vector.html" title="FESystemUtility::AutoPtrVector\&lt; T \&gt;" alt="" coords="6,7,242,35"/><area shape="rect" id="node31" href="class_design_data_1_1_design_parameter.html" title="this class forms the base class for all design parameters." alt="" coords="558,125,760,153"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_discipline_1_1_structural_analysis-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#adab87f401448df98c2d0d63844aab14b">StructuralAnalysis</a> (<a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;controller, const <a class="el" href="class_discipline_1_1_structural_discipline_info.html">Discipline::StructuralDisciplineInfo</a> &amp;<a class="el" href="_arpack_eigen_solver_8h.html#ab4bdba131592d57176f37f9670deec34">info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a4690d6aaca92aca147afff09a1627bdb">~StructuralAnalysis</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor  <a href="#a4690d6aaca92aca147afff09a1627bdb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#abe49a9d3b07154238cfc0568d56f0f59">sameSystemMatrixForLoadCases</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns if same system matrix can be used for all load cases  <a href="#abe49a9d3b07154238cfc0568d56f0f59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#ac45f885cba5080cff6e0fc4f3baf7d19">getEigenProblemKindEnumID</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a3814dd79ee9555a53e916683aeaea877">getTransientSystemOrder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a9a2d9260d2550ec605eb5cd1e77bf5ee">getBoundaryConditionLoadInfo</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the enum ID of the boundary condition for this disicipline  <a href="#a9a2d9260d2550ec605eb5cd1e77bf5ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a357ede68f09eb1653b9729fbb4c8c36e">disciplineHasMatrix</a> (const unsigned int qty_enum_ID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">getDataInfoForQty</a> (const unsigned int qty_enum_ID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#ac7bc79763d479b240177dc7d14b02f01">setMeshNodalIncrementsFromDisplacementSolution</a> (const NumericVector&lt; double &gt; &amp;vec)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#aadda0a1c8250311b8dd21e8d8e192090">addAnalysisVariables</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">function to add analysis variables  <a href="#aadda0a1c8250311b8dd21e8d8e192090"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a05008ecbef27b9be8a52eecadfcc5986">getElemQty</a> (<a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html">FESystemElem::FESystemElemBase</a> *elem, std::map&lt; unsigned int, double &gt; &amp;real_elem_data, std::map&lt; unsigned int, DenseMatrix&lt; double &gt; &gt; &amp;mat_elem_data, std::map&lt; unsigned int, DenseVector&lt; double &gt; &gt; &amp;vec_elem_data, const bool sensitivity, const unsigned int DV_ID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#aadf424b94fa56d4e4a22b24fef54b5ef">calculateTransientMatrix</a> (const unsigned int order, bool=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a75bceee683e148cf35ef663329eed9f5">calculateK</a> (bool=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#addd62fe6a54b50bb2e612edbf50c9faa">calculateJac</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a4487d86638806c5f846be37724876271">calculateEigenProblemAMatrix</a> (bool sensitivity=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">function to calculate the A matrix for eigen problem analysis  <a href="#a4487d86638806c5f846be37724876271"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a35ab7be4f5b38f260765f5862d6491df">calculateEigenProblemBMatrix</a> (bool sensitivity=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">function to calculate the B matrix for eigen problem analysis  <a href="#a35ab7be4f5b38f260765f5862d6491df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#ab8b0ed3841e70da06484d09c5288bdc2">calculateF</a> (bool=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#a7e70d0fa63aff306e220690fe118d272">performAdditionalOperationsOnGlobalQuantities</a> (std::map&lt; unsigned int, SparseMatrix&lt; double &gt; * &gt; &amp;matrix_map, std::map&lt; unsigned int, NumericVector&lt; double &gt; * &gt; &amp;vector_map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const NumericVector<br class="typebreak"/>
&lt; double &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_discipline_1_1_structural_analysis.html#aae2a3024cfe217c743c9bd5ff9734ac4">getSolutionVector</a> (const unsigned int transient_order, const bool sensitivity)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_structural_analysis_8h_source.html#l00153">153</a> of file <a class="el" href="_structural_analysis_8h_source.html">StructuralAnalysis.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adab87f401448df98c2d0d63844aab14b"></a><!-- doxytag: member="Discipline::StructuralAnalysis::StructuralAnalysis" ref="adab87f401448df98c2d0d63844aab14b" args="(FESystem::FESystemController &amp;controller, const Discipline::StructuralDisciplineInfo &amp;info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_discipline_1_1_structural_analysis.html#adab87f401448df98c2d0d63844aab14b">Discipline::StructuralAnalysis::StructuralAnalysis</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_f_e_system_1_1_f_e_system_controller.html">FESystem::FESystemController</a> &amp;&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_discipline_1_1_structural_discipline_info.html">Discipline::StructuralDisciplineInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>constructor. It takes two arguements, the arguement is a pointer to the AnalysisDriver that owns this object </p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00041">41</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">                                                :
<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#ad92268d7a5ccf443928f9ea466ac98f1">Discipline::AnalysisDisciplineBase</a>(controller, info)
{
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a35eeac0f418dc084d1d9a296f4842abc" title="adds variables and distributes the dofs">addAnalysisVariablesAndInitialize</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4690d6aaca92aca147afff09a1627bdb"></a><!-- doxytag: member="Discipline::StructuralAnalysis::~StructuralAnalysis" ref="a4690d6aaca92aca147afff09a1627bdb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_discipline_1_1_structural_analysis.html#a4690d6aaca92aca147afff09a1627bdb">Discipline::StructuralAnalysis::~StructuralAnalysis</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>destructor </p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00050">50</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
        
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aadda0a1c8250311b8dd21e8d8e192090"></a><!-- doxytag: member="Discipline::StructuralAnalysis::addAnalysisVariables" ref="aadda0a1c8250311b8dd21e8d8e192090" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_structural_analysis.html#aadda0a1c8250311b8dd21e8d8e192090">Discipline::StructuralAnalysis::addAnalysisVariables</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to add analysis variables </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a53d15279b58f66ec687e9f7ffa39c2eb">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00058">58</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{  
  FEType fetype(FIRST, LAGRANGE);
  <span class="comment">// add a temperature variable to the analysis driver</span>
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;u&quot;</span>, fetype);
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;v&quot;</span>, fetype);
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;w&quot;</span>, fetype);
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;theta_x&quot;</span>, fetype);
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;theta_y&quot;</span>, fetype);
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a1502652ca024ae1c6e7ef848a4d87a24" title="Adds the variable var to the list of variables in this analysis.">addVariable</a>(<span class="stringliteral">&quot;theta_z&quot;</span>, fetype);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4487d86638806c5f846be37724876271"></a><!-- doxytag: member="Discipline::StructuralAnalysis::calculateEigenProblemAMatrix" ref="a4487d86638806c5f846be37724876271" args="(bool sensitivity=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#a4487d86638806c5f846be37724876271">Discipline::StructuralAnalysis::calculateEigenProblemAMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to calculate the A matrix for eigen problem analysis </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a5710050a22fbf31f845f6612a674d43a">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00206">206</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty</span>
  <span class="comment">//     (Driver::EIGENPROBLEM_A_MATRIX::num(), sensitivity);</span>
        
  <span class="comment">//   // check if the K matrix exists in the database</span>
  <span class="comment">//   bool matrix_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfMatrixExists</span>
  <span class="comment">//     (load_case, name);</span>
        
  <span class="comment">//   return !matrix_present;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a35ab7be4f5b38f260765f5862d6491df"></a><!-- doxytag: member="Discipline::StructuralAnalysis::calculateEigenProblemBMatrix" ref="a35ab7be4f5b38f260765f5862d6491df" args="(bool sensitivity=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#a35ab7be4f5b38f260765f5862d6491df">Discipline::StructuralAnalysis::calculateEigenProblemBMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>function to calculate the B matrix for eigen problem analysis </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a3d10b3662f4ad0860f1bad5af7a6dec8">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00232">232</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty</span>
  <span class="comment">//     (Driver::EIGENPROBLEM_B_MATRIX::num(), sensitivity);</span>
        
  <span class="comment">//   // check if the K matrix exists in the database</span>
  <span class="comment">//   bool matrix_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfMatrixExists</span>
  <span class="comment">//     (load_case, name);</span>
  
  <span class="comment">//   return !matrix_present;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab8b0ed3841e70da06484d09c5288bdc2"></a><!-- doxytag: member="Discipline::StructuralAnalysis::calculateF" ref="ab8b0ed3841e70da06484d09c5288bdc2" args="(bool=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#ab8b0ed3841e70da06484d09c5288bdc2">Discipline::StructuralAnalysis::calculateF</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the force vector. First arguement is the vector to store the result in, and the second arguement is a bool to tell the function if sensitivity is desired </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a8c35d490c7d27b5c251eefc155616141">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00257">257</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::FORCE_VECTOR::num(), sensitivity);</span>
        
  <span class="comment">//   // check if the vector exists in the database</span>
  <span class="comment">//   bool Force_vector_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfVectorExists</span>
  <span class="comment">//     (load_case, name);</span>
        
  <span class="comment">//   return !Force_vector_present;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="addd62fe6a54b50bb2e612edbf50c9faa"></a><!-- doxytag: member="Discipline::StructuralAnalysis::calculateJac" ref="addd62fe6a54b50bb2e612edbf50c9faa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#addd62fe6a54b50bb2e612edbf50c9faa">Discipline::StructuralAnalysis::calculateJac</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the Jacobian matrix. First arguement is the matrix to store the result in </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a080e54622f8144c4ccf165d2644a0195">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00193">193</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// there still is no nonlinear structural analysis capability yet.</span>
  Assert(<span class="keyword">false</span>, ExcInternalError());
  
  <span class="comment">// returning a bogus value to avoid warnings of no return</span>
  <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a75bceee683e148cf35ef663329eed9f5"></a><!-- doxytag: member="Discipline::StructuralAnalysis::calculateK" ref="a75bceee683e148cf35ef663329eed9f5" args="(bool=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#a75bceee683e148cf35ef663329eed9f5">Discipline::StructuralAnalysis::calculateK</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the conductance matrix. First arguement is the matrix to store the result in, and the second arguement is a bool to tell the function if sensitivity is desired </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a5ccec7d58b16a66973cead8f9478f8d9">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00166">166</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::SYSTEM_MATRIX::num(), sensitivity);</span>
  
  <span class="comment">//   // check if the K matrix exists in the database</span>
  <span class="comment">//   bool K_matrix_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfMatrixExists</span>
  <span class="comment">//     (load_case, name);</span>
  
  <span class="comment">//   // if K is not present, then it needs to be recalculated</span>
  <span class="comment">//   return !K_matrix_present;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="aadf424b94fa56d4e4a22b24fef54b5ef"></a><!-- doxytag: member="Discipline::StructuralAnalysis::calculateTransientMatrix" ref="aadf424b94fa56d4e4a22b24fef54b5ef" args="(const unsigned int order, bool=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#aadf424b94fa56d4e4a22b24fef54b5ef">Discipline::StructuralAnalysis::calculateTransientMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sensitivity</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function to calculate the conductance matrix. First arguement is the matrix to store the result in, and the second arguement is a bool to tell the function if sensitivity is desired </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aa8a407d06e06ba9b0cd0ba4b1d31c121">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00140">140</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// this is to avoid getting warnings about unused parameters</span>
  (void) sensitivity;
  (void) order;
  <span class="comment">// for now, everything will be calculated. the below logic does not take into account </span>
  <span class="comment">// nonlinear analysis. that will be done later.</span>
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
  
  <span class="comment">//   unsigned int load_case = this-&gt;analysis_driver-&gt;getCurrentLoadCase();</span>
        
  <span class="comment">//   // get the name by which the quantity will be referred</span>
  <span class="comment">//   std::string name = this-&gt;getStringNameForQty(Driver::SYSTEM_MATRIX::num(), sensitivity);</span>
  
  <span class="comment">//   // check if the K matrix exists in the database</span>
  <span class="comment">//   bool K_matrix_present = </span>
  <span class="comment">//     this-&gt;fesystem_controller.global_data_storage-&gt;checkIfMatrixExists</span>
  <span class="comment">//     (load_case, name);</span>
  
  <span class="comment">//   // if K is not present, then it needs to be recalculated</span>
  <span class="comment">//   return !K_matrix_present;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a357ede68f09eb1653b9729fbb4c8c36e"></a><!-- doxytag: member="Discipline::StructuralAnalysis::disciplineHasMatrix" ref="a357ede68f09eb1653b9729fbb4c8c36e" args="(const unsigned int qty_enum_ID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#a357ede68f09eb1653b9729fbb4c8c36e">Discipline::StructuralAnalysis::disciplineHasMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the specified matrix has exists for the discipline </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a426ebd31e8885344a8ee1d6f07b84ffc">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l01033">1033</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00054">TRANSIENT_C1_MATRIX_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00083">TRANSIENT_C2_MATRIX_ENUM_ID</a>, and <a class="el" href="_transient_structural_solution_8h_source.html#l00021">TRANSIENT_STRUCTURAL_SOLUTION_ENUM_ID</a>.</p>

<p>Referenced by <a class="el" href="_roger_approximation_aeroelasticity_8_c_source.html#l00061">Driver::RogerApproximationAeroelasticityDriver::addMatricesAndVectors()</a>, and <a class="el" href="_roger_approximation_aeroelasticity_8_c_source.html#l00107">Driver::RogerApproximationAeroelasticityDriver::solveCurrentLoadCase()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">bool</span> return_val = <span class="keyword">false</span>;
  
  <span class="keywordflow">switch</span> (qty_enum_ID)
  {
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5aa069aad9126687ada705ed7b0ef1cc">TRANSIENT_C2_MATRIX_ENUM_ID</a>:
    {
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
      {
        <span class="keywordflow">case</span> <a class="code" href="_transient_structural_solution_8h.html#a6cd641fc817db9ea372e6b49168b3d73">TRANSIENT_STRUCTURAL_SOLUTION_ENUM_ID</a>:
        <span class="keywordflow">case</span> AEROELASTICITY_SOLUTION_ENUM_ID:
          return_val = <span class="keyword">true</span>;
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="keywordflow">break</span>;
      }
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5ecf4307d0a4dd0e9dfd3e6310e0266f">TRANSIENT_C1_MATRIX_ENUM_ID</a>:
      <span class="comment">// for now, no damping is provided in the structure</span>
      return_val = <span class="keyword">false</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
      return_val = <span class="keyword">true</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, ExcInternalError());
  }
  
  <span class="keywordflow">return</span> return_val;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9a2d9260d2550ec605eb5cd1e77bf5ee"></a><!-- doxytag: member="Discipline::StructuralAnalysis::getBoundaryConditionLoadInfo" ref="a9a2d9260d2550ec605eb5cd1e77bf5ee" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt; <a class="el" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a> &gt; <a class="el" href="class_discipline_1_1_structural_analysis.html#a9a2d9260d2550ec605eb5cd1e77bf5ee">Discipline::StructuralAnalysis::getBoundaryConditionLoadInfo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the enum ID of the boundary condition for this disicipline </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#adeb44a5a62f73fb79dab86721296f880">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00098">98</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  Assert(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a> != NULL, ExcInternalError());
  
  std::auto_ptr&lt;Loads::DirichletBoundaryConditionDataInfo&gt; return_ptr;
  
  return_ptr.reset(<span class="keyword">new</span> <a class="code" href="class_loads_1_1_dirichlet_boundary_condition_data_info.html">Loads::DirichletBoundaryConditionDataInfo</a>);
  return_ptr-&gt;setLoadCaseID(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
  return_ptr-&gt;setLoadNameEnumID(DISPLACEMENT_BOUNDARY_CONDITION::num());
  return_ptr-&gt;setLoadClassEnumID(DIRICHLET_BOUNDARY_CONDITION::num());
  
  <span class="comment">// check if the analysis is time dependent</span>
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
          (Discipline::STRUCTURAL_DISCIPLINE::num()))
  {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
      <span class="comment">// nothing to be done here</span>
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
    {
      <span class="keywordtype">double</span> time_val = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>
      (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>)-&gt;getCurrentAnalysisTime();
      return_ptr-&gt;setTime(time_val);
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
      <span class="comment">// dof vector</span>
      Assert(<span class="keyword">false</span>, ExcInternalError());
      
  }
  
  <span class="keywordflow">return</span> return_ptr;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7438392a525eaabe2de98373039acbda"></a><!-- doxytag: member="Discipline::StructuralAnalysis::getDataInfoForQty" ref="a7438392a525eaabe2de98373039acbda" args="(const unsigned int qty_enum_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt; <a class="el" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> &gt; <a class="el" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">Discipline::StructuralAnalysis::getDataInfoForQty</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>qty_enum_ID</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the data info object for the specified quantity, for the current analysis in progress </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aa2a966798d2bda888850f06b9b28e0e1">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l01076">1076</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00170">EIGENPROBLEM_A_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00185">EIGENPROBLEM_A_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00199">EIGENPROBLEM_B_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00214">EIGENPROBLEM_B_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00109">FORCE_VECTOR_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00157">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00066">Driver::TransientAnalysisDriver::getCurrentAnalysisTime()</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00081">Driver::TransientAnalysisDriver::getCurrentIterationNumber()</a>, <a class="el" href="_linearized_buckling_eigen_solution_8h_source.html#l00021">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>, <a class="el" href="_data_info_8_c_source.html#l00136">FESystemDatabase::GenericDataInfoBase::setName()</a>, <a class="el" href="_data_info_8_c_source.html#l00422">FESystemDatabase::TimeDependentDataInfo::setOrder()</a>, <a class="el" href="_data_info_8_c_source.html#l00441">FESystemDatabase::TimeDependentDataInfo::setTransientIterationInfo()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, <a class="el" href="_structural_vibration_eigen_solution_8h_source.html#l00021">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00145">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00083">TRANSIENT_C2_MATRIX_ENUM_ID</a>, <a class="el" href="_transient_analysis_driver_8h_source.html#l00097">TRANSIENT_C2_MATRIX_SENSITIVITY_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  std::auto_ptr&lt;FESystemDatabase::DataInfoBase&gt; data_info;
  <span class="keywordtype">bool</span> set_transient_data = <span class="keyword">false</span>,
  set_DV_ID = <span class="keyword">false</span>;
  
  <span class="keywordflow">switch</span> (qty_enum_ID)
  {
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5aa069aad9126687ada705ed7b0ef1cc">TRANSIENT_C2_MATRIX_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;M_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;M_Matrix&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
          ptr = NULL;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a99eee62f8c70bb9dc12ca0f8fbb2ca21">TRANSIENT_C2_MATRIX_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">getDataInfoForQty</a>(Driver::TRANSIENT_C2_MATRIX::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;K_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;K_Matrix&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
          ptr = NULL;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a52792416e5c7964e3e5e7d0c47af846d">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">getDataInfoForQty</a>(Driver::SYSTEM_MATRIX::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a6b1475473a8fc5dfe557a81f3cce621f">EIGENPROBLEM_A_MATRIX_ENUM_ID</a>:
    {
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
      {
        <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
        {
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;K_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
      }
    }
      <span class="keywordflow">break</span>;
      
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aecaadae670abdb26263781a5154629b4">EIGENPROBLEM_A_MATRIX_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">getDataInfoForQty</a>(Driver::EIGENPROBLEM_A_MATRIX::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#af968a4c84f3c8d88eccaeddad87ebb22">EIGENPROBLEM_B_MATRIX_ENUM_ID</a>:
    {
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
      {
        <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
        {
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;Mass_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
        {
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;K_G_Matrix&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
      }
    }
      <span class="keywordflow">break</span>;
      
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a1e6b2a93bf7a006968a1167b0a3d1dc1">EIGENPROBLEM_B_MATRIX_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">getDataInfoForQty</a>(Driver::EIGENPROBLEM_B_MATRIX::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
      
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ab9ed1a6cc7aa9c5c133b74bdd58e55f7">FORCE_VECTOR_ENUM_ID</a>:
    {
      <span class="comment">// check the kind of analysis in progress</span>
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          data_info.reset(<span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a>);
          data_info-&gt;setName(<span class="stringliteral">&quot;F_Vector&quot;</span>);
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        {
          <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a> *ptr = <span class="keyword">new</span> <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>;
          data_info.reset(ptr);
          data_info-&gt;<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;F_Vector&quot;</span>);
          ptr-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector">setOrder</a>(0);
          set_transient_data = <span class="keyword">true</span>;
          ptr = NULL;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          <span class="comment">// at this point of time, no other analysis needs the specification of the elem</span>
          <span class="comment">// dof vector</span>
          Assert(<span class="keyword">false</span>, ExcInternalError());
          
      }
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a28c28a5dbac04bc80307b6602e149d26">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>:
    {
      data_info.reset(this-&gt;<a class="code" href="class_discipline_1_1_structural_analysis.html#a7438392a525eaabe2de98373039acbda">getDataInfoForQty</a>(Driver::FORCE_VECTOR::num()).release());
      set_DV_ID = <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
                        
                        
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, ExcInternalError());
      <span class="keywordflow">break</span>;
  }
  
  
  <span class="keywordflow">if</span> (set_DV_ID)
    data_info-&gt;setDVID(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ac258e74334cc629c3961bde90f9e5fd9" title="returns the current design variable">getCurrentDesignParameter</a>().<a class="code" href="class_design_data_1_1_design_parameter.html#ab0cb6d6c10206acebbc06d2be204c2e7">getID</a>());
  <span class="keywordflow">else</span>
    {
      data_info-&gt;setDisciplineEnumID(Discipline::STRUCTURAL_DISCIPLINE::num());
      data_info-&gt;setLoadCase(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
    }
  
  <span class="keywordflow">if</span> (set_transient_data)
    {
      <a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>* transient_driver = 
      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>);
      <a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>* time_dep_info = 
      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html" title="this defines a time dependent quantity">FESystemDatabase::TimeDependentDataInfo</a>*<span class="keyword">&gt;</span>(data_info.get());
      time_dep_info-&gt;<a class="code" href="class_f_e_system_database_1_1_time_dependent_data_info.html#aaef8b950376afc6c41c56156878ea6d4" title="sets the transient iteration info">setTransientIterationInfo</a>(transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#ab9622f4ee33604c4d864d63f8cc93ef6">getCurrentIterationNumber</a>(),
                                               transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5">getCurrentAnalysisTime</a>());
    }
  
  
  <span class="keywordflow">return</span> data_info;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_structural_analysis_a7438392a525eaabe2de98373039acbda_cgraph.gif" border="0" usemap="#class_discipline_1_1_structural_analysis_a7438392a525eaabe2de98373039acbda_cgraph" alt=""/></div>
<map name="class_discipline_1_1_structural_analysis_a7438392a525eaabe2de98373039acbda_cgraph" id="class_discipline_1_1_structural_analysis_a7438392a525eaabe2de98373039acbda_cgraph">
<area shape="rect" id="node3" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5" title="Driver::TransientAnalysisDriver::getCurrentAnalysisTime" alt="" coords="407,5,761,33"/><area shape="rect" id="node5" href="class_driver_1_1_transient_analysis_driver.html#ab9622f4ee33604c4d864d63f8cc93ef6" title="Driver::TransientAnalysisDriver::getCurrentIterationNumber" alt="" coords="399,57,769,85"/><area shape="rect" id="node7" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity" alt="" coords="416,109,752,137"/><area shape="rect" id="node9" href="class_f_e_system_database_1_1_time_dependent_data_info.html#a4c3bf31e7fe88154619844bac14f74fb" title="sets the time derivative of the solution vector" alt="" coords="408,161,760,189"/><area shape="rect" id="node11" href="class_f_e_system_database_1_1_time_dependent_data_info.html#aaef8b950376afc6c41c56156878ea6d4" title="sets the transient iteration info" alt="" coords="363,213,805,241"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac45f885cba5080cff6e0fc4f3baf7d19"></a><!-- doxytag: member="Discipline::StructuralAnalysis::getEigenProblemKindEnumID" ref="ac45f885cba5080cff6e0fc4f3baf7d19" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_discipline_1_1_structural_analysis.html#ac45f885cba5080cff6e0fc4f3baf7d19">Discipline::StructuralAnalysis::getEigenProblemKindEnumID</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the eigenproblem kind for the discipline. </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aaf840ce0e46e82c1633a6ed9d9852947">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00075">75</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_f_e_system_numbers_8h_source.html#l00010">FESystemNumbers::InvalidID</a>, <a class="el" href="_linearized_buckling_eigen_solution_8h_source.html#l00021">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>, and <a class="el" href="_structural_vibration_eigen_solution_8h_source.html#l00021">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> solution_kind = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>();
  <span class="keywordflow">switch</span>(solution_kind)
  {
    <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
    <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
    {
      <span class="keywordflow">return</span> Solver::GENERALIZED_HERMITIAN_EIGENPROBLEM::num();
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, FESystemExceptions::ExcEnumCaseNotImplemented
             (Solution::SolutionEnum::enumName(solution_kind)));
  }
  
  <span class="comment">// shold not get here</span>
  <span class="keywordflow">return</span> <a class="code" href="namespace_f_e_system_numbers.html#a6247b3ec1c348e954beffbd2fabd2bef" title="an ID that will always be considered to be invalid in the code.">FESystemNumbers::InvalidID</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a05008ecbef27b9be8a52eecadfcc5986"></a><!-- doxytag: member="Discipline::StructuralAnalysis::getElemQty" ref="a05008ecbef27b9be8a52eecadfcc5986" args="(FESystemElem::FESystemElemBase *elem, std::map&lt; unsigned int, double &gt; &amp;real_elem_data, std::map&lt; unsigned int, DenseMatrix&lt; double &gt; &gt; &amp;mat_elem_data, std::map&lt; unsigned int, DenseVector&lt; double &gt; &gt; &amp;vec_elem_data, const bool sensitivity, const unsigned int DV_ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_structural_analysis.html#a05008ecbef27b9be8a52eecadfcc5986">Discipline::StructuralAnalysis::getElemQty</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html">FESystemElem::FESystemElemBase</a> *&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>real_elem_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, DenseMatrix&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_elem_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, DenseVector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec_elem_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>sensitivity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>DV_ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function will fill the input vector with the element quantities required for the calculation of the specified global quantity. This is an abstract function and will be implemented in the derived class </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">global</td><td>quantitiy </td></tr>
    <tr><td class="paramname">element</td><td>pointer </td></tr>
    <tr><td class="paramname">vector</td><td>in which the quantities will be added </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#abb8ee19d4130ac1ba9b838df0498df5d">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00283">283</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_f_e_system_elem_8h_source.html#l01329">FESystemElem::FESystemElemBase::clearDofValues()</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l01308">FESystemElem::FESystemElemBase::clearLoadAndDofs()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00170">EIGENPROBLEM_A_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00185">EIGENPROBLEM_A_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00199">EIGENPROBLEM_B_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00214">EIGENPROBLEM_B_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00109">FORCE_VECTOR_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00157">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00908">FESystemElem::FESystemElemBase::getElem()</a>, <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134">FESystemElem::FESystemElemBase::getElementAssembledQty()</a>, <a class="el" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">FESystemElem::FESystemElemBase::getElementAssembledQtySensitivity()</a>, <a class="el" href="_f_e_system_elem_8_c_source.html#l01752">FESystemElem::FESystemElemBase::getElementMass()</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l00868">FESystemElem::FESystemElemBase::getID()</a>, <a class="el" href="_f_e_system_numbers_8h_source.html#l00010">FESystemNumbers::InvalidID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00121">JACOBIAN_MATRIX_ENUM_ID</a>, <a class="el" href="_linearized_buckling_eigen_solution_8h_source.html#l00021">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00227">MODEL_MASS_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00240">MODEL_MASS_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l01383">FESystemElem::FESystemElemBase::setDofValues()</a>, <a class="el" href="_f_e_system_elem_8h_source.html#l01413">FESystemElem::FESystemElemBase::setElementLoads()</a>, <a class="el" href="_structural_vibration_eigen_solution_8h_source.html#l00021">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00145">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>, and <a class="el" href="_transient_analysis_driver_8h_source.html#l00083">TRANSIENT_C2_MATRIX_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// make sure that valid pointer have been given </span>
  assert (elem != NULL);
        
  <span class="keyword">static</span> DenseMatrix&lt;double&gt; matrix;
  <span class="keyword">static</span> DenseVector&lt;double&gt; vector, elem_dofs, elem_dof_sensitivity;
  <span class="keyword">static</span> std::vector&lt;DenseVector&lt;double&gt;*&gt; elem_dof_vec(3), elem_dof_sens_vec(3);
  
  <span class="comment">// get loads for the current load case</span>
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> load_case, elem_ID;
  <span class="comment">// the loads will be stored in this map</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, const Loads::VolumeLoadCombination*&gt; volume_loads;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::SurfaceLoadCombination*&gt; &gt; surface_loads;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::NodalLoadCombination*&gt; &gt; nodal_loads;
  
  <span class="keyword">static</span> std::map&lt;unsigned int, const Loads::VolumeLoadCombination*&gt; volume_load_sensitivity;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::SurfaceLoadCombination*&gt; &gt; 
  surface_load_sensitivity;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::map&lt;unsigned int, const Loads::NodalLoadCombination*&gt; &gt; nodal_load_sensitivity;
  
  <span class="keyword">static</span> std::map&lt;unsigned int, unsigned int&gt; volume_load_map;
  <span class="keyword">static</span> std::map&lt;unsigned int, unsigned int&gt; surface_load_map;
  <span class="keyword">static</span> std::map&lt;unsigned int, std::pair&lt;unsigned int, unsigned int&gt; &gt; nodal_load_map;
  
  <span class="keyword">static</span> <span class="keywordtype">bool</span> created_load_maps = <span class="keyword">false</span>;
  
  <span class="keywordflow">if</span> (!created_load_maps)
    {
      nodal_load_map[NODAL_TEMPERATURE::num()] =  std::pair&lt;unsigned int, unsigned int&gt;(NODAL_POINT_LOAD::num(), 1);
      surface_load_map[SURFACE_PRESSURE::num()] = SCALAR_SURFACE_LOAD::num();
<span class="comment">//      volume_load_map[SELF_WEIGHT::num()] = VECTOR_VOLUME_LOAD::num();</span>
      created_load_maps = <span class="keyword">true</span>;
    }
  
  elem_ID = elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3c0da2a03021221cb6483f690ab2f5ce">getID</a>();
  load_case = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>();
  
  <span class="comment">// set the transient nature of this discipline</span>
  <span class="keyword">static</span> <span class="keywordtype">double</span> time_val = 0.0;
  <span class="keyword">static</span> <span class="keywordtype">bool</span> transient_nature = <span class="keyword">false</span>;
  
  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>(Discipline::STRUCTURAL_DISCIPLINE::num()) 
      == Discipline::TRANSIENT_SOLUTION::num())
    {
      transient_nature = <span class="keyword">true</span>;
      time_val = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>)-&gt;getCurrentAnalysisTime();
    }
  
  
  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aef7f0ed757b7e2717773c9932c2821a3" title="this gets the loads from the load database">getElemLoads</a>(elem_ID, elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()), 
                     load_case, transient_nature, time_val,
                     <span class="keyword">false</span>, <a class="code" href="namespace_f_e_system_numbers.html#a6247b3ec1c348e954beffbd2fabd2bef" title="an ID that will always be considered to be invalid in the code.">FESystemNumbers::InvalidID</a>,
                     volume_load_map, surface_load_map, nodal_load_map,
                     volume_loads, nodal_loads, surface_loads);
  
  <span class="keywordflow">if</span> (!sensitivity)
    elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aa20276cd6bd81035d7ae545d20121acd">setElementLoads</a>(&amp;volume_loads, &amp;surface_loads, &amp;nodal_loads,
                          NULL, NULL, NULL);
  <span class="keywordflow">else</span>
    {
      this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aef7f0ed757b7e2717773c9932c2821a3" title="this gets the loads from the load database">getElemLoads</a>(elem_ID, elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()), 
                         load_case, transient_nature, time_val,
                         <span class="keyword">true</span>, DV_ID,
                         volume_load_map, surface_load_map, nodal_load_map,
                         volume_load_sensitivity, nodal_load_sensitivity, surface_load_sensitivity);
      elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aa20276cd6bd81035d7ae545d20121acd">setElementLoads</a>(&amp;volume_loads, &amp;surface_loads, &amp;nodal_loads,
                            &amp;volume_load_sensitivity, &amp;surface_load_sensitivity,
                            &amp;nodal_load_sensitivity);
    }
  
  <span class="comment">// iterate over the matrix quantities and get the data</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, DenseMatrix&lt;double&gt; &gt;::iterator mat_it, mat_end;
  mat_it = mat_elem_data.begin();
  mat_end = mat_elem_data.end();
  
  <span class="keywordflow">for</span> (; mat_it != mat_end; mat_it++)
    {
      mat_it-&gt;second.zero();
      
      <span class="keywordflow">switch</span>(mat_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5aa069aad9126687ada705ed7b0ef1cc">TRANSIENT_C2_MATRIX_ENUM_ID</a>:
        {
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_M_MATRIX::num(),
                                       &amp;matrix);
          mat_it-&gt;second += matrix;
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
        {
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_MATRIX::num(),
                                       &amp;matrix);
          mat_it-&gt;second += matrix;

          <span class="keywordflow">switch</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> AEROELASTICITY_SOLUTION_ENUM_ID:
            {
              <span class="keywordflow">if</span> (dynamic_cast&lt;Solution::AeroelasticitySolution*&gt;
                  (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>)-&gt;ifIncludeGeometricEffects())
                {
                  elem_dofs.zero();
                  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                         elem_dofs, 0, <span class="keyword">false</span>);
                  
                  elem_dof_vec[0] = &amp;elem_dofs;
                  elem_dof_vec[1] = NULL;
                  elem_dof_vec[2] = NULL;
                  
                  elem_dof_sens_vec[0] = NULL;
                  elem_dof_sens_vec[1] = NULL;
                  elem_dof_sens_vec[2] = NULL;
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
                  
                  matrix.zero();
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_G_MATRIX::num(),
                                               &amp;matrix);
                  mat_it-&gt;second += matrix;
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element">clearDofValues</a>();
                }
              
            }
              <span class="keywordflow">break</span>;
          }
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aacb10e4350c353b3978b8679679e56b5">JACOBIAN_MATRIX_ENUM_ID</a>:
        {
          Assert(<span class="keyword">false</span>, ExcInternalError());
        }
          <span class="keywordflow">break</span>;
          

        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a52792416e5c7964e3e5e7d0c47af846d">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="comment">// get K sensitivity</span>
          elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::STRUCTURAL_K_MATRIX::num(),
                                                  &amp;matrix);
          mat_it-&gt;second += matrix;
          
          <span class="keywordflow">switch</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> AEROELASTICITY_SOLUTION_ENUM_ID:
            {
              Assert(<span class="keyword">false</span>, ExcInternalError());
              
              <span class="keywordflow">if</span> (dynamic_cast&lt;Solution::AeroelasticitySolution*&gt;
                  (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>)-&gt;ifIncludeGeometricEffects())
                {
                  elem_dofs.zero();
                  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                         elem_dofs, 0, <span class="keyword">false</span>);
                  
                  elem_dof_vec[0] = &amp;elem_dofs;
                  elem_dof_vec[1] = NULL;
                  elem_dof_vec[2] = NULL;
                  
                  elem_dof_sens_vec[0] = NULL;
                  elem_dof_sens_vec[1] = NULL;
                  elem_dof_sens_vec[2] = NULL;
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
                  
                  matrix.zero();
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_G_MATRIX::num(),
                                               &amp;matrix);
                  mat_it-&gt;second += matrix;
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element">clearDofValues</a>();
                }
              
            }
              <span class="keywordflow">break</span>;
          }
          
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a6b1475473a8fc5dfe557a81f3cce621f">EIGENPROBLEM_A_MATRIX_ENUM_ID</a>:
        {
          <span class="keywordflow">switch</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_MATRIX::num(),
                                           &amp;matrix);
              mat_it-&gt;second += matrix;
              
              <span class="keywordflow">if</span> (dynamic_cast&lt;Solution::StructuralVibrationEigenSolution*&gt;
                  (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>)-&gt;ifIncludeGeometricEffects())
                {
                  elem_dofs.zero();
                  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                         elem_dofs, 0, <span class="keyword">false</span>);
                  
                  elem_dof_vec[0] = &amp;elem_dofs;
                  elem_dof_vec[1] = NULL;
                  elem_dof_vec[2] = NULL;
                  
                  elem_dof_sens_vec[0] = NULL;
                  elem_dof_sens_vec[1] = NULL;
                  elem_dof_sens_vec[2] = NULL;
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
                 
                  matrix.zero();
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_G_MATRIX::num(),
                                               &amp;matrix);
                  mat_it-&gt;second += matrix;
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element">clearDofValues</a>();
                }
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_MATRIX::num(),
                                           &amp;matrix);
              mat_it-&gt;second += matrix;
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">default</span>:
              abort();
          }
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#af968a4c84f3c8d88eccaeddad87ebb22">EIGENPROBLEM_B_MATRIX_ENUM_ID</a>:
        {
          <span class="keywordflow">switch</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_M_MATRIX::num(),
                                           &amp;matrix);
              mat_it-&gt;second += matrix;
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem_dofs.zero();
              this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                     elem_dofs, 0, <span class="keyword">false</span>);
              
              elem_dof_vec[0] = &amp;elem_dofs;
              elem_dof_vec[1] = NULL;
              elem_dof_vec[2] = NULL;
              
              elem_dof_sens_vec[0] = NULL;
              elem_dof_sens_vec[1] = NULL;
              elem_dof_sens_vec[2] = NULL;
              
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
              
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_K_G_MATRIX::num(),
                                           &amp;matrix);
              matrix.scale(-1.0);
              mat_it-&gt;second += matrix;
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element">clearDofValues</a>();
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">default</span>:
              abort();
          }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aecaadae670abdb26263781a5154629b4">EIGENPROBLEM_A_MATRIX_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="keywordflow">switch</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::STRUCTURAL_K_MATRIX::num(),
                                                      &amp;matrix);
              mat_it-&gt;second += matrix;
              
              <span class="keywordflow">if</span> (dynamic_cast&lt;Solution::StructuralVibrationEigenSolution*&gt;
                  (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>)-&gt;ifIncludeGeometricEffects())
                {
                  elem_dofs.zero();
                  elem_dof_sensitivity.zero();
                  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                         elem_dofs, 0, <span class="keyword">false</span>);
                  this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                         elem_dof_sensitivity, 0, <span class="keyword">true</span>);
                  
                  
                  elem_dof_vec[0] = &amp;elem_dofs;
                  elem_dof_vec[1] = NULL;
                  elem_dof_vec[2] = NULL;
                  
                  elem_dof_sens_vec[0] = &amp;elem_dof_sensitivity;
                  elem_dof_sens_vec[1] = NULL;
                  elem_dof_sens_vec[2] = NULL;
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
                  
                  matrix.zero();
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>
                  (FESystemElem::STRUCTURAL_K_G_MATRIX::num(), &amp;matrix);
                  mat_it-&gt;second += matrix;
                  
                  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element">clearDofValues</a>();
                }
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::STRUCTURAL_K_MATRIX::num(),
                                                      &amp;matrix);
              mat_it-&gt;second += matrix;
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">default</span>:
              abort();
          }
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a1e6b2a93bf7a006968a1167b0a3d1dc1">EIGENPROBLEM_B_MATRIX_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="keywordflow">switch</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>(FESystemElem::STRUCTURAL_M_MATRIX::num(),
                                                      &amp;matrix);
              mat_it-&gt;second += matrix;
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
            {
              elem_dofs.zero();
              elem_dof_sensitivity.zero();
              this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                     elem_dofs, 0, <span class="keyword">false</span>);
              this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a25f0049cb16506fb2d354673826f095c">getElemDofValues</a>(elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51">getElem</a>(FESystemElem::BASE_ELEM::num()),
                                     elem_dof_sensitivity, 0, <span class="keyword">true</span>);
              
              elem_dof_vec[0] = &amp;elem_dofs;
              elem_dof_vec[1] = NULL;
              elem_dof_vec[2] = NULL;
              
              elem_dof_sens_vec[0] = &amp;elem_dof_sensitivity;
              elem_dof_sens_vec[1] = NULL;
              elem_dof_sens_vec[2] = NULL;
              
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090">setDofValues</a>(elem_dof_vec, elem_dof_sens_vec);
                            
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>
              (FESystemElem::STRUCTURAL_K_G_MATRIX::num(), &amp;matrix);
              matrix.scale(-1.0);
              mat_it-&gt;second += matrix;
              
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element">clearDofValues</a>();
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">default</span>:
              abort();
          }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          abort();
          <span class="keywordflow">break</span>;
      }
    }
  
  
  
  <span class="comment">// iterate over the matrix quantities and get the data</span>
  <span class="keyword">static</span> std::map&lt;unsigned int, DenseVector&lt;double&gt; &gt;::iterator vec_it, vec_end;
  vec_it = vec_elem_data.begin();
  vec_end = vec_elem_data.end();
  
  <span class="keywordflow">for</span> (; vec_it != vec_end; vec_it++)
    {
      vec_it-&gt;second.zero();
      
      <span class="keywordflow">switch</span>(vec_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ab9ed1a6cc7aa9c5c133b74bdd58e55f7">FORCE_VECTOR_ENUM_ID</a>:
        {
          <span class="keywordflow">if</span> (nodal_loads.count(NODAL_TEMPERATURE::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_F_T_VECTOR::num(), &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_PRESSURE::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element">getElementAssembledQty</a>(FESystemElem::STRUCTURAL_F_PRESSURE_VECTOR::num(), 
                                           &amp;vector);
              vec_it-&gt;second += vector;
            }
          
<span class="comment">//          if (volume_loads.count(SELF_WEIGHT::num()) &gt; 0)</span>
<span class="comment">//            {</span>
<span class="comment">//              elem-&gt;getElementAssembledQty(FESystemElem::STRUCTURAL_F_WEIGHT_VECTOR::num(), </span>
<span class="comment">//                                           &amp;vector);</span>
<span class="comment">//              vec_it-&gt;second += vector;</span>
<span class="comment">//            }</span>
          
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a28c28a5dbac04bc80307b6602e149d26">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="keywordflow">if</span> (nodal_loads.count(NODAL_TEMPERATURE::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>
              (FESystemElem::STRUCTURAL_F_T_VECTOR::num(), &amp;vector);
              vec_it-&gt;second += vector;
            }
          
          <span class="keywordflow">if</span> (surface_loads.count(SURFACE_PRESSURE::num()) &gt; 0)
            {
              elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3">getElementAssembledQtySensitivity</a>
              (FESystemElem::STRUCTURAL_F_PRESSURE_VECTOR::num(), &amp;vector);
              vec_it-&gt;second += vector;
            }

<span class="comment">//          if (volume_loads.count(SELF_WEIGHT::num()) &gt; 0)</span>
<span class="comment">//            {</span>
<span class="comment">//              elem-&gt;getElementAssembledQtySensitivity</span>
<span class="comment">//              (FESystemElem::STRUCTURAL_F_WEIGHT_VECTOR::num(), &amp;vector);</span>
<span class="comment">//              vec_it-&gt;second += vector;</span>
<span class="comment">//            }</span>
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          abort();
          <span class="keywordflow">break</span>;
      }
    }
  
  <span class="keyword">static</span> std::map&lt;unsigned int, double &gt;::iterator real_it, real_end;
  real_it = real_elem_data.begin();
  real_end = real_elem_data.end();
  
  <span class="keywordflow">for</span> (; real_it != real_end; real_it++)
    {
      real_it-&gt;second = 0.0;
      
      <span class="keywordflow">switch</span>(real_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac31846b0c037b4f50e9800aa259fe86d">MODEL_MASS_ENUM_ID</a>:
          real_it-&gt;second += elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac300137f7e626b20b44c4142645709f1" title="calculates and returns the value of weight of the element">getElementMass</a>(<span class="keyword">false</span>);
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a5679e8fc3f4bf7490cf69dc878b26d0d">MODEL_MASS_SENSITIVITY_ENUM_ID</a>:
          real_it-&gt;second += elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac300137f7e626b20b44c4142645709f1" title="calculates and returns the value of weight of the element">getElementMass</a>(<span class="keyword">true</span>);
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          abort();
      }
    }      
  
  elem-&gt;<a class="code" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af8f93e288ff813f4147b0ba810bf3681" title="this clears the property element loads and dof values">clearLoadAndDofs</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_structural_analysis_a05008ecbef27b9be8a52eecadfcc5986_cgraph.gif" border="0" usemap="#class_discipline_1_1_structural_analysis_a05008ecbef27b9be8a52eecadfcc5986_cgraph" alt=""/></div>
<map name="class_discipline_1_1_structural_analysis_a05008ecbef27b9be8a52eecadfcc5986_cgraph" id="class_discipline_1_1_structural_analysis_a05008ecbef27b9be8a52eecadfcc5986_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af802249f051a9d2888664f21636f62c8" title="clears the dof values that were set for the element" alt="" coords="385,5,725,33"/><area shape="rect" id="node5" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#af8f93e288ff813f4147b0ba810bf3681" title="this clears the property element loads and dof values" alt="" coords="375,57,735,85"/><area shape="rect" id="node7" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a08577712ebd630772c432d23b7f6ce51" title="FESystemElem::FESystemElemBase::getElem" alt="" coords="405,109,704,137"/><area shape="rect" id="node9" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a954c0e79b36f7f43d245dd5bddc3a134" title="returns the assembled quantitiy for the element" alt="" coords="352,161,757,189"/><area shape="rect" id="node11" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a031f53305deffce69d9f98098475fce3" title="FESystemElem::FESystemElemBase::getElementAssembledQtySensitivity" alt="" coords="322,213,787,241"/><area shape="rect" id="node13" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#ac300137f7e626b20b44c4142645709f1" title="calculates and returns the value of weight of the element" alt="" coords="380,265,729,293"/><area shape="rect" id="node15" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a3c0da2a03021221cb6483f690ab2f5ce" title="FESystemElem::FESystemElemBase::getID" alt="" coords="414,317,696,345"/><area shape="rect" id="node17" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#a0fe6caaf02466479d3f41bd65de8a090" title="FESystemElem::FESystemElemBase::setDofValues" alt="" coords="390,369,719,397"/><area shape="rect" id="node19" href="class_f_e_system_elem_1_1_f_e_system_elem_base.html#aa20276cd6bd81035d7ae545d20121acd" title="FESystemElem::FESystemElemBase::setElementLoads" alt="" coords="378,421,731,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae2a3024cfe217c743c9bd5ff9734ac4"></a><!-- doxytag: member="Discipline::StructuralAnalysis::getSolutionVector" ref="aae2a3024cfe217c743c9bd5ff9734ac4" args="(const unsigned int transient_order, const bool sensitivity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const NumericVector&lt; double &gt; &amp; <a class="el" href="class_discipline_1_1_structural_analysis.html#aae2a3024cfe217c743c9bd5ff9734ac4">Discipline::StructuralAnalysis::getSolutionVector</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>transient_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>sensitivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this method fills the vector with the solution vector necessary for filling the quantity for the current analysis. It checks the current status of the discipline, and apropriately loads the solution vector </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aa612307281eafc53f916964f3a9a8093">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00923">923</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00058">ANALYSIS_ENUM_ID</a>, <a class="el" href="_data_info_8_c_source.html#l00043">FESystemDatabase::GenericDataInfoBase::clear()</a>, <a class="el" href="_linear_stress_solution_8h_source.html#l00021">LINEAR_STRESS_SOLUTION_ENUM_ID</a>, <a class="el" href="_linearized_buckling_eigen_solution_8h_source.html#l00021">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00083">POST_PROCESS_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00070">SENSITIVITY_ANALYSIS_ENUM_ID</a>, <a class="el" href="_data_info_8_c_source.html#l00136">FESystemDatabase::GenericDataInfoBase::setName()</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, <a class="el" href="_structural_vibration_eigen_solution_8h_source.html#l00021">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (transient_order &gt; 0)
    Assert(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
           (Discipline::STRUCTURAL_DISCIPLINE::num()) == 
           Discipline::TRANSIENT_SOLUTION::num(), 
           ExcInternalError());
  
  <span class="comment">// a pointer to the data info object</span>
  <span class="keyword">static</span> <a class="code" href="class_f_e_system_database_1_1_data_info_base.html">FESystemDatabase::DataInfoBase</a> *data_info_ptr = NULL;
  
  <span class="comment">// check the current operation being performed</span>
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ac28f4dda6af1a41193273d3361267cdf">getCurrentAnalysisKind</a>())
  {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a299e936642c93d0d04386ddc76886557">ANALYSIS_ENUM_ID</a>:
    {
      <span class="comment">// sensitivity information for analysis should not be needed for any solution</span>
      Assert(!sensitivity, ExcInternalError());
      
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="keyword">static</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a> data_info;
          data_info.<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#ab5cbefc863791bda1b4962a22598e9e0" title="clears the data structures of this object">clear</a>();
          data_info_ptr = &amp;data_info;
          <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
            <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
            <span class="keywordflow">case</span> AEROELASTICITY_SOLUTION_ENUM_ID:
            {
              <span class="comment">// this solution should have been performed, and hence, its</span>
              <span class="comment">// name should be available from the solution</span>
              data_info.<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;Solution&quot;</span>);
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">default</span>:
              Assert(<span class="keyword">false</span>, ExcInternalError());
          }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
      }
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a57d11dfa38722fcddbcbf4ac842ee2e4">SENSITIVITY_ANALYSIS_ENUM_ID</a>:
    {
      <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()))
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
        {
          <span class="keyword">static</span> <a class="code" href="class_f_e_system_database_1_1_time_independent_data_info.html" title="this defines a time independent quantity">FESystemDatabase::TimeIndependentDataInfo</a> data_info;
          data_info.<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#ab5cbefc863791bda1b4962a22598e9e0" title="clears the data structures of this object">clear</a>();
          data_info_ptr = &amp;data_info;
          <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>())
          {
            <span class="keywordflow">case</span> <a class="code" href="_linear_stress_solution_8h.html#acfef89cf972c3ee9702a671c348a3524">LINEAR_STRESS_SOLUTION_ENUM_ID</a>:
            <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
            <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
            <span class="keywordflow">case</span> AEROELASTICITY_SOLUTION_ENUM_ID:
            {
              data_info.<a class="code" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity">setName</a>(<span class="stringliteral">&quot;Solution&quot;</span>);
            }
              <span class="keywordflow">break</span>;
              
            <span class="keywordflow">default</span>:
              Assert(<span class="keyword">false</span>, ExcInternalError());
          }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, ExcInternalError());
      }
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a226ee1841d7981adbdf8b31fac41813d">POST_PROCESS_ENUM_ID</a>:
    {
      <span class="comment">// needs to be implemented</span>
      Assert(<span class="keyword">false</span>, ExcInternalError());
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      Assert(<span class="keyword">false</span>, ExcInternalError());
  }
  
  <span class="keywordflow">if</span> (sensitivity)
    data_info_ptr-&gt;setDVID(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ac258e74334cc629c3961bde90f9e5fd9" title="returns the current design variable">getCurrentDesignParameter</a>().<a class="code" href="class_design_data_1_1_design_parameter.html#ab0cb6d6c10206acebbc06d2be204c2e7">getID</a>());
  
  data_info_ptr-&gt;setLoadCase(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
  data_info_ptr-&gt;setDisciplineEnumID(Discipline::STRUCTURAL_DISCIPLINE::num());
  <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a756015bf9758ba8ba96476998d37172b">loaded_solution</a>.<a class="code" href="class_f_e_system_utility_1_1_loaded_solution.html#a3e80b12f7a52ae32fd01ee7287b24f42">loadSolutionFromDatabase</a>
  (*(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a8ffac08a8cf64ecc7271a3fa8ff04090">fesystem_controller</a>.<a class="code" href="class_f_e_system_1_1_f_e_system_controller.html#a61c6211b1a2e6518ac9e357e385fad2b" title="stores global matrices and vectors">global_data_storage</a>.get()), *data_info_ptr);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_structural_analysis_aae2a3024cfe217c743c9bd5ff9734ac4_cgraph.gif" border="0" usemap="#class_discipline_1_1_structural_analysis_aae2a3024cfe217c743c9bd5ff9734ac4_cgraph" alt=""/></div>
<map name="class_discipline_1_1_structural_analysis_aae2a3024cfe217c743c9bd5ff9734ac4_cgraph" id="class_discipline_1_1_structural_analysis_aae2a3024cfe217c743c9bd5ff9734ac4_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_database_1_1_generic_data_info_base.html#ab5cbefc863791bda1b4962a22598e9e0" title="clears the data structures of this object" alt="" coords="370,5,681,33"/><area shape="rect" id="node5" href="class_f_e_system_database_1_1_generic_data_info_base.html#a117399f629d87ea1b646333d91dee39f" title="sets the name of the quantity" alt="" coords="358,57,693,85"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3814dd79ee9555a53e916683aeaea877"></a><!-- doxytag: member="Discipline::StructuralAnalysis::getTransientSystemOrder" ref="a3814dd79ee9555a53e916683aeaea877" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_discipline_1_1_structural_analysis.html#a3814dd79ee9555a53e916683aeaea877">Discipline::StructuralAnalysis::getTransientSystemOrder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the order of the transient nature of the problem </dd></dl>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#aaeb6d143a8190229a5199d3f6416f85d">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l01325">1325</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_linearized_buckling_eigen_solution_8h_source.html#l00021">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>, <a class="el" href="_nonlinear_static_structural_solution_8h_source.html#l00031">NONLINEAR_STATIC_STRUCTURAL_SOLUTION_ENUM_ID</a>, <a class="el" href="_analysis_discipline_base_8h_source.html#l00111">STEADY_STATE_SOLUTION_ENUM_ID</a>, <a class="el" href="_structural_vibration_eigen_solution_8h_source.html#l00021">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00124">TRANSIENT_SOLUTION_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order = 0;
  <span class="comment">// return the value based on the solution being performed</span>
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a051a09ee028f8b84d1de073040535c09">getSolutionEnumID</a>()) 
  {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a742dfba20e2381d7d5389fc91a94c740">TRANSIENT_SOLUTION_ENUM_ID</a>:
      order = 2;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_structural_vibration_eigen_solution_8h.html#aad036285e17eff4bc527077231b9fbfd">STRUCTURAL_VIBRATION_EIGEN_SOLUTION_ENUM_ID</a>:
    <span class="keywordflow">case</span> <a class="code" href="_linearized_buckling_eigen_solution_8h.html#a86772c427b00e432685a9106865927bb">LINEARIZED_BUCKLING_EIGEN_SOLUTION_ENUM_ID</a>:
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#ace90dda1960bb960e206bd0dbcc0c977">STEADY_STATE_SOLUTION_ENUM_ID</a>:
    <span class="keywordflow">case</span> <a class="code" href="_nonlinear_static_structural_solution_8h.html#aa34dabac1480793b811582d671dd2337">NONLINEAR_STATIC_STRUCTURAL_SOLUTION_ENUM_ID</a>:
    <span class="keywordflow">case</span> AEROELASTICITY_SOLUTION_ENUM_ID:
      order = 0;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      Assert (<span class="keyword">false</span>, ExcInternalError());
      <span class="keywordflow">break</span>;
  }
  <span class="keywordflow">return</span> order;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7e70d0fa63aff306e220690fe118d272"></a><!-- doxytag: member="Discipline::StructuralAnalysis::performAdditionalOperationsOnGlobalQuantities" ref="a7e70d0fa63aff306e220690fe118d272" args="(std::map&lt; unsigned int, SparseMatrix&lt; double &gt; * &gt; &amp;matrix_map, std::map&lt; unsigned int, NumericVector&lt; double &gt; * &gt; &amp;vector_map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_structural_analysis.html#a7e70d0fa63aff306e220690fe118d272">Discipline::StructuralAnalysis::performAdditionalOperationsOnGlobalQuantities</a> </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; unsigned int, SparseMatrix&lt; double &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>matrix_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; unsigned int, NumericVector&lt; double &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>vector_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this method will perform some discipline specific operations once the global quantities have been calculated </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a5aed5bfc77d2968f249b66881bcc6643">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l00775">775</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_driver_8h_source.html#l00170">EIGENPROBLEM_A_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00185">EIGENPROBLEM_A_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00199">EIGENPROBLEM_B_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00214">EIGENPROBLEM_B_MATRIX_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00109">FORCE_VECTOR_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00157">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>, <a class="el" href="_autoptr_vector_8h_source.html#l00162">FESystemUtility::AutoPtrVector&lt; T &gt;::get()</a>, <a class="el" href="_transient_analysis_driver_8_c_source.html#l00066">Driver::TransientAnalysisDriver::getCurrentAnalysisTime()</a>, <a class="el" href="_load_combination_8h_source.html#l00107">Loads::NodalPointLoadCombination::getValue()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00121">JACOBIAN_MATRIX_ENUM_ID</a>, <a class="el" href="_load_data_info_8_c_source.html#l00132">Loads::LoadDataInfoBase::setDVID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00068">Loads::LoadDataInfoBase::setLoadCaseID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00087">Loads::LoadDataInfoBase::setLoadClassEnumID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00105">Loads::LoadDataInfoBase::setLoadNameEnumID()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00339">Loads::NodalLoadDataInfo::setNDofs()</a>, <a class="el" href="_load_data_info_8_c_source.html#l00161">Loads::LoadDataInfoBase::setTime()</a>, <a class="el" href="_analysis_driver_8h_source.html#l00097">SYSTEM_MATRIX_ENUM_ID</a>, <a class="el" href="_analysis_driver_8h_source.html#l00145">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>, and <a class="el" href="_transient_analysis_driver_8h_source.html#l00083">TRANSIENT_C2_MATRIX_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  std::map&lt;unsigned int, SparseMatrix&lt;double&gt;* &gt;::iterator matrix_it, matrix_end;  
  matrix_it = matrix_map.begin();
  matrix_end = matrix_map.end();
  
  
  <span class="comment">// iterate over the quantities and perform the operations on them</span>
  <span class="keywordflow">for</span> ( ; matrix_it != matrix_end; matrix_it++)
    {
      <span class="keywordflow">switch</span> (matrix_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_transient_analysis_driver_8h.html#a5aa069aad9126687ada705ed7b0ef1cc">TRANSIENT_C2_MATRIX_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ac9f9928ef0682c6fb8c9e83375221ab8">SYSTEM_MATRIX_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aacb10e4350c353b3978b8679679e56b5">JACOBIAN_MATRIX_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a52792416e5c7964e3e5e7d0c47af846d">SYSTEM_MATRIX_SENSITIVITY_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a6b1475473a8fc5dfe557a81f3cce621f">EIGENPROBLEM_A_MATRIX_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#af968a4c84f3c8d88eccaeddad87ebb22">EIGENPROBLEM_B_MATRIX_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#aecaadae670abdb26263781a5154629b4">EIGENPROBLEM_A_MATRIX_SENSITIVITY_ENUM_ID</a>:
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a1e6b2a93bf7a006968a1167b0a3d1dc1">EIGENPROBLEM_B_MATRIX_SENSITIVITY_ENUM_ID</a>:
        {
          <span class="comment">// keep going</span>
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, 
                 FESystemExceptions::ExcEnumCaseNotImplemented
                 (Driver::AnalysisDriverQtyEnum::enumName(matrix_it-&gt;first)));
      }
    }
  
  
  
  std::map&lt;unsigned int, NumericVector&lt;double&gt;* &gt;::iterator vector_it, vector_end;
  vector_it = vector_map.begin();
  vector_end = vector_map.end();
  
  <span class="keywordflow">for</span> ( ; vector_it != vector_end; vector_it++)
    {
      <span class="keywordflow">switch</span> (vector_it-&gt;first)
      {
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#ab9ed1a6cc7aa9c5c133b74bdd58e55f7">FORCE_VECTOR_ENUM_ID</a>:
        {
          <a class="code" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a> nodal_load_info;
          
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a93e9a3534de05302eafcbdbf667cfc1e">setLoadCaseID</a>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a8fc20a62d3e823c769ae70f4f4c3c695">setLoadNameEnumID</a>(NODAL_FORCE::num());
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a5ed7a8c8fa02229f2f883ea4143a37c5">setLoadClassEnumID</a>(NODAL_POINT_LOAD::num());
          nodal_load_info.<a class="code" href="class_loads_1_1_nodal_load_data_info.html#a24acb3312744dd52ce10b84fc6063565">setNDofs</a>(6);
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()) == Discipline::TRANSIENT_SOLUTION::num())
            {
              <a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>* transient_driver = 
              <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>);
              nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a09e8929c89fc952761282f1418ba88c4">setTime</a>(transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5">getCurrentAnalysisTime</a>());
            }
          
          <a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector&lt;Loads::NodalLoadCombination&gt;</a> 
          point_loads(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a8ffac08a8cf64ecc7271a3fa8ff04090">fesystem_controller</a>.<a class="code" href="class_f_e_system_1_1_f_e_system_controller.html#a74d6bc76881e38cc3093fb1b3deaffc0" title="stores the loads used in the FE analysis">load_database</a>-&gt;getAllLoadCombinations
                      &lt;<a class="code" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a>, <a class="code" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a>&gt;
                      (nodal_load_info).release());
          
          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> node =0, dof =0; <span class="keywordtype">double</span> value = 0.0;
          
          std::vector&lt;Loads::NodalLoadCombination*&gt;::const_iterator load_it, load_end;
          load_it = point_loads.<a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#ada340c7a5fd1e57a2f7bf488dbaad03a" title="this returns a constant pointer to the vector of this object.">get</a>()-&gt;begin();
          load_end = point_loads.get()-&gt;end();
          
          <span class="keywordflow">for</span> (; load_it != load_end ; load_it++)
            {
              node =  (**load_it).getNodeID();
              
              <span class="comment">// now, iterate for each dof</span>
              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof_it=0; dof_it &lt; 6; dof_it++)
                {
                  <span class="comment">// get the load values and the dof index in the global load vector</span>
                  <span class="comment">// for this load</span>
                  value = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_loads_1_1_nodal_point_load_combination.html">Loads::NodalPointLoadCombination</a>*<span class="keyword">&gt;</span>(*load_it)-&gt;<a class="code" href="class_loads_1_1_nodal_point_load_combination.html#a483635b7ab4ad8921e85b98d10d4bbb2">getValue</a>(dof_it);
                  dof = (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a5a9a5e2230e33075b1b0fbb56fd5a69c" title="mesh data data-structure">mesh_data</a>-&gt;<a class="code" href="class_mesh_d_s_1_1_f_e_mesh_data.html#ac79f230a1aeedc5ef7dfaf13468220ec">getNodeFromForeignID</a>(node))-&gt;dof_number(0,dof_it,0);
                  
                  <span class="comment">// add the calculated load to the global load_vector </span>
                  vector_it-&gt;second-&gt;add(dof, value);   
                }
            }
        }
          <span class="keywordflow">break</span>;
          
          
        <span class="keywordflow">case</span> <a class="code" href="_analysis_driver_8h.html#a28c28a5dbac04bc80307b6602e149d26">FORCE_VECTOR_SENSITIVITY_ENUM_ID</a>:
        {
          <a class="code" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a> nodal_load_info;
          
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a93e9a3534de05302eafcbdbf667cfc1e">setLoadCaseID</a>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ad9f4c9e39727b9b9ba9fcbe7353e9c7f" title="returns the current load case number">getCurrentLoadCase</a>());
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a8fc20a62d3e823c769ae70f4f4c3c695">setLoadNameEnumID</a>(NODAL_FORCE::num());
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a5ed7a8c8fa02229f2f883ea4143a37c5">setLoadClassEnumID</a>(NODAL_POINT_LOAD::num());
          nodal_load_info.<a class="code" href="class_loads_1_1_nodal_load_data_info.html#a24acb3312744dd52ce10b84fc6063565">setNDofs</a>(6);
          nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a6b4efaad58a51f647bbb265fd06dc3a1">setDVID</a>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>-&gt;<a class="code" href="class_driver_1_1_analysis_driver.html#ac258e74334cc629c3961bde90f9e5fd9" title="returns the current design variable">getCurrentDesignParameter</a>().<a class="code" href="class_design_data_1_1_design_parameter.html#ab0cb6d6c10206acebbc06d2be204c2e7">getID</a>());
          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#af38306c0d42094a0ba88bd80bcea934e" title="solution kind enum ID">solution_base</a>-&gt;<a class="code" href="class_solution_1_1_solution_base.html#a73528968dadb7365a70b0503032ef7c6">getDisciplineTransientNatureEnumID</a>
              (Discipline::STRUCTURAL_DISCIPLINE::num()) == Discipline::TRANSIENT_SOLUTION::num())
            {
              <a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>* transient_driver = 
              <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_driver_1_1_transient_analysis_driver.html" title="this forms the basis of all transient analysis drivers.">Driver::TransientAnalysisDriver</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#aed9d5a6b0ef7d6a3decc1386ee6d8642" title="pointer to the analysis driver for this discipline">analysis_driver</a>);
              nodal_load_info.<a class="code" href="class_loads_1_1_load_data_info_base.html#a09e8929c89fc952761282f1418ba88c4">setTime</a>(transient_driver-&gt;<a class="code" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5">getCurrentAnalysisTime</a>());
            }
          
          <a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html">FESystemUtility::AutoPtrVector&lt;Loads::NodalLoadCombination&gt;</a> 
          point_loads(this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a8ffac08a8cf64ecc7271a3fa8ff04090">fesystem_controller</a>.<a class="code" href="class_f_e_system_1_1_f_e_system_controller.html#a74d6bc76881e38cc3093fb1b3deaffc0" title="stores the loads used in the FE analysis">load_database</a>-&gt;getAllLoadCombinations
                      &lt;<a class="code" href="class_loads_1_1_nodal_load_data_info.html">Loads::NodalLoadDataInfo</a>, <a class="code" href="class_loads_1_1_nodal_load_combination.html">Loads::NodalLoadCombination</a>&gt;
                      (nodal_load_info).release());
          
          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> node =0, dof =0; <span class="keywordtype">double</span> value = 0.0;
          
          std::vector&lt;Loads::NodalLoadCombination*&gt;::const_iterator load_it, load_end;
          load_it = point_loads.<a class="code" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#ada340c7a5fd1e57a2f7bf488dbaad03a" title="this returns a constant pointer to the vector of this object.">get</a>()-&gt;begin();
          load_end = point_loads.get()-&gt;end();
          
          <span class="keywordflow">for</span> (; load_it != load_end ; load_it++)
            {
              node =  (**load_it).getNodeID();
              
              <span class="comment">// now, iterate for each dof</span>
              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof_it=0; dof_it &lt; 6; dof_it++)
                {
                  <span class="comment">// get the load values and the dof index in the global load vector</span>
                  <span class="comment">// for this load</span>
                  value = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_loads_1_1_nodal_point_load_combination.html">Loads::NodalPointLoadCombination</a>*<span class="keyword">&gt;</span>(*load_it)-&gt;<a class="code" href="class_loads_1_1_nodal_point_load_combination.html#a483635b7ab4ad8921e85b98d10d4bbb2">getValue</a>(dof_it);
                  dof = (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a5a9a5e2230e33075b1b0fbb56fd5a69c" title="mesh data data-structure">mesh_data</a>-&gt;<a class="code" href="class_mesh_d_s_1_1_f_e_mesh_data.html#ac79f230a1aeedc5ef7dfaf13468220ec">getNodeFromForeignID</a>(node))-&gt;dof_number(0,dof_it,0);
                  
                  <span class="comment">// add the calculated load to the global load_vector </span>
                  vector_it-&gt;second-&gt;add(dof, value);
                }
            }
        }
          <span class="keywordflow">break</span>;
          
        <span class="keywordflow">default</span>:
          Assert(<span class="keyword">false</span>, 
                 FESystemExceptions::ExcEnumCaseNotImplemented
                 (Driver::AnalysisDriverQtyEnum::enumName(matrix_it-&gt;first)));
      }
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_discipline_1_1_structural_analysis_a7e70d0fa63aff306e220690fe118d272_cgraph.gif" border="0" usemap="#class_discipline_1_1_structural_analysis_a7e70d0fa63aff306e220690fe118d272_cgraph" alt=""/></div>
<map name="class_discipline_1_1_structural_analysis_a7e70d0fa63aff306e220690fe118d272_cgraph" id="class_discipline_1_1_structural_analysis_a7e70d0fa63aff306e220690fe118d272_cgraph">
<area shape="rect" id="node3" href="class_f_e_system_utility_1_1_auto_ptr_vector.html#ada340c7a5fd1e57a2f7bf488dbaad03a" title="this returns a constant pointer to the vector of this object." alt="" coords="600,5,832,33"/><area shape="rect" id="node5" href="class_driver_1_1_transient_analysis_driver.html#aeb9ad9e6f71bacc09f168141428af9d5" title="Driver::TransientAnalysisDriver::getCurrentAnalysisTime" alt="" coords="539,57,893,85"/><area shape="rect" id="node7" href="class_loads_1_1_nodal_point_load_combination.html#a483635b7ab4ad8921e85b98d10d4bbb2" title="Loads::NodalPointLoadCombination::getValue" alt="" coords="569,109,863,137"/><area shape="rect" id="node13" href="class_loads_1_1_load_data_info_base.html#a6b4efaad58a51f647bbb265fd06dc3a1" title="Loads::LoadDataInfoBase::setDVID" alt="" coords="600,161,832,189"/><area shape="rect" id="node15" href="class_loads_1_1_load_data_info_base.html#a93e9a3534de05302eafcbdbf667cfc1e" title="Loads::LoadDataInfoBase::setLoadCaseID" alt="" coords="579,213,853,241"/><area shape="rect" id="node17" href="class_loads_1_1_load_data_info_base.html#a5ed7a8c8fa02229f2f883ea4143a37c5" title="Loads::LoadDataInfoBase::setLoadClassEnumID" alt="" coords="560,265,872,293"/><area shape="rect" id="node19" href="class_loads_1_1_load_data_info_base.html#a8fc20a62d3e823c769ae70f4f4c3c695" title="Loads::LoadDataInfoBase::setLoadNameEnumID" alt="" coords="559,317,873,345"/><area shape="rect" id="node21" href="class_loads_1_1_nodal_load_data_info.html#a24acb3312744dd52ce10b84fc6063565" title="Loads::NodalLoadDataInfo::setNDofs" alt="" coords="595,369,837,397"/><area shape="rect" id="node23" href="class_loads_1_1_load_data_info_base.html#a09e8929c89fc952761282f1418ba88c4" title="Loads::LoadDataInfoBase::setTime" alt="" coords="601,421,831,449"/><area shape="rect" id="node9" href="class_loads_1_1_nodal_point_load_combination.html#aae6a41aa8d6bd49d16509db2c3bcb0ad" title="Loads::NodalPointLoadCombination::getNDofs" alt="" coords="942,109,1240,137"/><area shape="rect" id="node11" href="class_loads_1_1_nodal_load_combination.html#a98ce9d3a01d88c63d3c5795b3665b102" title="Loads::NodalLoadCombination::nLoads" alt="" coords="1288,109,1544,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abe49a9d3b07154238cfc0568d56f0f59"></a><!-- doxytag: member="Discipline::StructuralAnalysis::sameSystemMatrixForLoadCases" ref="abe49a9d3b07154238cfc0568d56f0f59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_discipline_1_1_structural_analysis.html#abe49a9d3b07154238cfc0568d56f0f59">Discipline::StructuralAnalysis::sameSystemMatrixForLoadCases</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns if same system matrix can be used for all load cases </p>

<p>Implements <a class="el" href="class_discipline_1_1_analysis_discipline_base.html#a1bd5506a056a8bc7dd65c92e42937fc7">Discipline::AnalysisDisciplineBase</a>.</p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l01354">1354</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>References <a class="el" href="_analysis_discipline_base_8h_source.html#l00085">LINEAR_ANALYSIS_ENUM_ID</a>, and <a class="el" href="_analysis_discipline_base_8h_source.html#l00097">NONLINEAR_ANALYSIS_ENUM_ID</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a99fc069247c5d39f42ee41e5ded9770f" title="type of the analysis, i.e. linear, nonlinear">analysis_type_enum_ID</a>)
  {
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a3ca63cbb410ac0c446fecac2d24c405e">LINEAR_ANALYSIS_ENUM_ID</a>:
    {
      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#a6dc9ef38729f861b96bf31634e24b5d0" title="checks if the analysis is dependent on temperature">checkPropertyDependenceOnTemperature</a>())
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
      <span class="keywordflow">else</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">case</span> <a class="code" href="_analysis_discipline_base_8h.html#a824683bf8277742cdad4aedcea1ef1c4">NONLINEAR_ANALYSIS_ENUM_ID</a>:
      <span class="keywordflow">return</span> <span class="keyword">false</span>;
      <span class="keywordflow">break</span>;
      
    <span class="keywordflow">default</span>:
      abort();
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac7bc79763d479b240177dc7d14b02f01"></a><!-- doxytag: member="Discipline::StructuralAnalysis::setMeshNodalIncrementsFromDisplacementSolution" ref="ac7bc79763d479b240177dc7d14b02f01" args="(const NumericVector&lt; double &gt; &amp;vec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_discipline_1_1_structural_analysis.html#ac7bc79763d479b240177dc7d14b02f01">Discipline::StructuralAnalysis::setMeshNodalIncrementsFromDisplacementSolution</a> </td>
          <td>(</td>
          <td class="paramtype">const NumericVector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method updates the nodal locations of the mesh from a displacement vector. The vector provides the values of the displacements relative to the current mesh geometry, so that the displacements are simply added to the current nodal locations to get the new mesh. </p>

<p>Definition at line <a class="el" href="_structural_analysis_8_c_source.html#l01303">1303</a> of file <a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a>.</p>

<p>Referenced by <a class="el" href="_updated_lagrangian_nonlinear_structural_analysis_driver_8cpp_source.html#l00039">Driver::UpdatedLagrangianNonlinearStructuralAnalysisDriver::setNewIteration()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// iterate over each node, get the u,v,w values from the given solution vector and </span>
  <span class="comment">// use them to update the x,y,z locations of the nodes</span>
  MeshBase::node_iterator it = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#abe74eaf554eb27b742dc89b158581dc7" title="mesh data structure">mesh</a>-&gt;nodes_begin();
  MeshBase::node_iterator end = this-&gt;<a class="code" href="class_discipline_1_1_analysis_discipline_base.html#abe74eaf554eb27b742dc89b158581dc7" title="mesh data structure">mesh</a>-&gt;nodes_end();

  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof_num = 0;
  
  <span class="keywordflow">for</span> ( ; it != end; it++)
    {
      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dof_it=0; dof_it &lt; 3; dof_it++)
        {
          dof_num = (**it).dof_number(0,dof_it,0);
          (**it)(dof_it) += vec(dof_num);
        }
    }
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Discipline/<a class="el" href="_structural_analysis_8h_source.html">StructuralAnalysis.h</a></li>
<li>/Users/manav/Documents/codes/FESystemOld/FESystem/src/Discipline/<a class="el" href="_structural_analysis_8_c_source.html">StructuralAnalysis.C</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 12 2012 18:06:21 for fesystem by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
